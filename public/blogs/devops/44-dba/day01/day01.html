<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一，数据库存储服务概述 | devops</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/devops/public/favicon.ico">
    <meta name="description" content="快来玩devops">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/devops/public/assets/css/0.styles.4a69f283.css" as="style"><link rel="preload" href="/devops/public/assets/js/app.3dc7bff5.js" as="script"><link rel="preload" href="/devops/public/assets/js/110.694f4de6.js" as="script"><link rel="preload" href="/devops/public/assets/js/1.774fca24.js" as="script"><link rel="preload" href="/devops/public/assets/js/167.63082713.js" as="script"><link rel="prefetch" href="/devops/public/assets/js/10.9b3a44dd.js"><link rel="prefetch" href="/devops/public/assets/js/100.9274e5d1.js"><link rel="prefetch" href="/devops/public/assets/js/101.1dbe0b8c.js"><link rel="prefetch" href="/devops/public/assets/js/102.7f0de786.js"><link rel="prefetch" href="/devops/public/assets/js/103.bfd34460.js"><link rel="prefetch" href="/devops/public/assets/js/104.8815faa1.js"><link rel="prefetch" href="/devops/public/assets/js/105.fac718aa.js"><link rel="prefetch" href="/devops/public/assets/js/106.6b85037d.js"><link rel="prefetch" href="/devops/public/assets/js/107.809fdc5f.js"><link rel="prefetch" href="/devops/public/assets/js/108.efac26e9.js"><link rel="prefetch" href="/devops/public/assets/js/109.d87140eb.js"><link rel="prefetch" href="/devops/public/assets/js/11.e4d77994.js"><link rel="prefetch" href="/devops/public/assets/js/111.dacdf06f.js"><link rel="prefetch" href="/devops/public/assets/js/112.b761f0c1.js"><link rel="prefetch" href="/devops/public/assets/js/113.278d8256.js"><link rel="prefetch" href="/devops/public/assets/js/114.db461caf.js"><link rel="prefetch" href="/devops/public/assets/js/115.20d63320.js"><link rel="prefetch" href="/devops/public/assets/js/116.9e8845ab.js"><link rel="prefetch" href="/devops/public/assets/js/117.7d0ff45e.js"><link rel="prefetch" href="/devops/public/assets/js/118.672ac879.js"><link rel="prefetch" href="/devops/public/assets/js/119.854f2060.js"><link rel="prefetch" href="/devops/public/assets/js/12.a64bd1fd.js"><link rel="prefetch" href="/devops/public/assets/js/120.6ee04046.js"><link rel="prefetch" href="/devops/public/assets/js/121.d23c817c.js"><link rel="prefetch" href="/devops/public/assets/js/122.5b6f1bcd.js"><link rel="prefetch" href="/devops/public/assets/js/123.9fbc5d0c.js"><link rel="prefetch" href="/devops/public/assets/js/124.4a166288.js"><link rel="prefetch" href="/devops/public/assets/js/125.7de2e937.js"><link rel="prefetch" href="/devops/public/assets/js/126.8dd821c9.js"><link rel="prefetch" href="/devops/public/assets/js/127.dcf2db23.js"><link rel="prefetch" href="/devops/public/assets/js/128.df243403.js"><link rel="prefetch" href="/devops/public/assets/js/129.2f6f3914.js"><link rel="prefetch" href="/devops/public/assets/js/13.03509d86.js"><link rel="prefetch" href="/devops/public/assets/js/130.56ec4250.js"><link rel="prefetch" href="/devops/public/assets/js/131.b6a2f473.js"><link rel="prefetch" href="/devops/public/assets/js/132.e0414ab7.js"><link rel="prefetch" href="/devops/public/assets/js/133.88908923.js"><link rel="prefetch" href="/devops/public/assets/js/134.6faa3a88.js"><link rel="prefetch" href="/devops/public/assets/js/135.67267ac8.js"><link rel="prefetch" href="/devops/public/assets/js/136.00ddf305.js"><link rel="prefetch" href="/devops/public/assets/js/137.e016e91d.js"><link rel="prefetch" href="/devops/public/assets/js/138.dd7c01cd.js"><link rel="prefetch" href="/devops/public/assets/js/139.e407fcda.js"><link rel="prefetch" href="/devops/public/assets/js/14.96ffdc85.js"><link rel="prefetch" href="/devops/public/assets/js/140.04512028.js"><link rel="prefetch" href="/devops/public/assets/js/141.52743fe3.js"><link rel="prefetch" href="/devops/public/assets/js/142.2050f30a.js"><link rel="prefetch" href="/devops/public/assets/js/143.c4fa046b.js"><link rel="prefetch" href="/devops/public/assets/js/144.dc349dd2.js"><link rel="prefetch" href="/devops/public/assets/js/145.c05815c2.js"><link rel="prefetch" href="/devops/public/assets/js/146.893ae590.js"><link rel="prefetch" href="/devops/public/assets/js/147.dfff7f10.js"><link rel="prefetch" href="/devops/public/assets/js/148.d15740aa.js"><link rel="prefetch" href="/devops/public/assets/js/149.3337a477.js"><link rel="prefetch" href="/devops/public/assets/js/15.2f7234c6.js"><link rel="prefetch" href="/devops/public/assets/js/150.b3ab709e.js"><link rel="prefetch" href="/devops/public/assets/js/151.963674ae.js"><link rel="prefetch" href="/devops/public/assets/js/152.d39c997d.js"><link rel="prefetch" href="/devops/public/assets/js/153.9fb4f840.js"><link rel="prefetch" href="/devops/public/assets/js/154.f01d496f.js"><link rel="prefetch" href="/devops/public/assets/js/155.aa5d2239.js"><link rel="prefetch" href="/devops/public/assets/js/156.3e4ff1bf.js"><link rel="prefetch" href="/devops/public/assets/js/157.9d375f39.js"><link rel="prefetch" href="/devops/public/assets/js/158.619849bb.js"><link rel="prefetch" href="/devops/public/assets/js/159.4b67d8b8.js"><link rel="prefetch" href="/devops/public/assets/js/16.3737f50e.js"><link rel="prefetch" href="/devops/public/assets/js/160.9dc8c3b0.js"><link rel="prefetch" href="/devops/public/assets/js/161.201961b0.js"><link rel="prefetch" href="/devops/public/assets/js/162.b4aaeebe.js"><link rel="prefetch" href="/devops/public/assets/js/163.675887d9.js"><link rel="prefetch" href="/devops/public/assets/js/164.2817b39e.js"><link rel="prefetch" href="/devops/public/assets/js/165.6c81c8ca.js"><link rel="prefetch" href="/devops/public/assets/js/166.a287327a.js"><link rel="prefetch" href="/devops/public/assets/js/168.9474a40a.js"><link rel="prefetch" href="/devops/public/assets/js/169.ff1cf6bf.js"><link rel="prefetch" href="/devops/public/assets/js/17.0b4a311b.js"><link rel="prefetch" href="/devops/public/assets/js/170.11b9fe01.js"><link rel="prefetch" href="/devops/public/assets/js/171.8ce82bb8.js"><link rel="prefetch" href="/devops/public/assets/js/172.fe458cae.js"><link rel="prefetch" href="/devops/public/assets/js/173.829438f8.js"><link rel="prefetch" href="/devops/public/assets/js/174.cc817014.js"><link rel="prefetch" href="/devops/public/assets/js/175.53172f19.js"><link rel="prefetch" href="/devops/public/assets/js/176.ea261d67.js"><link rel="prefetch" href="/devops/public/assets/js/177.565302b2.js"><link rel="prefetch" href="/devops/public/assets/js/178.707fd6fb.js"><link rel="prefetch" href="/devops/public/assets/js/179.d9ab00cc.js"><link rel="prefetch" href="/devops/public/assets/js/18.9974e7c4.js"><link rel="prefetch" href="/devops/public/assets/js/180.b526c4b0.js"><link rel="prefetch" href="/devops/public/assets/js/181.acef7645.js"><link rel="prefetch" href="/devops/public/assets/js/182.1c3115a9.js"><link rel="prefetch" href="/devops/public/assets/js/183.b2b87551.js"><link rel="prefetch" href="/devops/public/assets/js/184.9ca272fa.js"><link rel="prefetch" href="/devops/public/assets/js/185.5064bab0.js"><link rel="prefetch" href="/devops/public/assets/js/186.082e669f.js"><link rel="prefetch" href="/devops/public/assets/js/187.3adfb5b4.js"><link rel="prefetch" href="/devops/public/assets/js/188.7a4d9e4e.js"><link rel="prefetch" href="/devops/public/assets/js/189.a1e6091b.js"><link rel="prefetch" href="/devops/public/assets/js/19.c300795c.js"><link rel="prefetch" href="/devops/public/assets/js/190.a28dfdab.js"><link rel="prefetch" href="/devops/public/assets/js/191.580f0020.js"><link rel="prefetch" href="/devops/public/assets/js/192.ba6c42c7.js"><link rel="prefetch" href="/devops/public/assets/js/193.333d1ba6.js"><link rel="prefetch" href="/devops/public/assets/js/194.c83c4e1d.js"><link rel="prefetch" href="/devops/public/assets/js/195.60171fd2.js"><link rel="prefetch" href="/devops/public/assets/js/196.e12a80af.js"><link rel="prefetch" href="/devops/public/assets/js/197.f40ca68e.js"><link rel="prefetch" href="/devops/public/assets/js/198.6e846486.js"><link rel="prefetch" href="/devops/public/assets/js/199.9eef0160.js"><link rel="prefetch" href="/devops/public/assets/js/20.c0af61d6.js"><link rel="prefetch" href="/devops/public/assets/js/200.8f1aa65e.js"><link rel="prefetch" href="/devops/public/assets/js/201.bf0eca4c.js"><link rel="prefetch" href="/devops/public/assets/js/202.185f74e5.js"><link rel="prefetch" href="/devops/public/assets/js/203.5c6c4ed3.js"><link rel="prefetch" href="/devops/public/assets/js/204.61433fed.js"><link rel="prefetch" href="/devops/public/assets/js/205.e2eca641.js"><link rel="prefetch" href="/devops/public/assets/js/206.6a4cf432.js"><link rel="prefetch" href="/devops/public/assets/js/207.abbab0c4.js"><link rel="prefetch" href="/devops/public/assets/js/208.514f6534.js"><link rel="prefetch" href="/devops/public/assets/js/209.748edfaa.js"><link rel="prefetch" href="/devops/public/assets/js/21.9d8d4267.js"><link rel="prefetch" href="/devops/public/assets/js/210.c5377a20.js"><link rel="prefetch" href="/devops/public/assets/js/211.dc57bdee.js"><link rel="prefetch" href="/devops/public/assets/js/212.363a1b2b.js"><link rel="prefetch" href="/devops/public/assets/js/213.b86620eb.js"><link rel="prefetch" href="/devops/public/assets/js/214.c4011917.js"><link rel="prefetch" href="/devops/public/assets/js/215.f1fb1eac.js"><link rel="prefetch" href="/devops/public/assets/js/216.c74721d7.js"><link rel="prefetch" href="/devops/public/assets/js/217.f908aabd.js"><link rel="prefetch" href="/devops/public/assets/js/218.b72e7958.js"><link rel="prefetch" href="/devops/public/assets/js/219.3881eb80.js"><link rel="prefetch" href="/devops/public/assets/js/22.1cd6938a.js"><link rel="prefetch" href="/devops/public/assets/js/220.275f036e.js"><link rel="prefetch" href="/devops/public/assets/js/221.880b70e4.js"><link rel="prefetch" href="/devops/public/assets/js/222.15f4f275.js"><link rel="prefetch" href="/devops/public/assets/js/223.ca12b4b7.js"><link rel="prefetch" href="/devops/public/assets/js/224.245d7a62.js"><link rel="prefetch" href="/devops/public/assets/js/225.d07acee7.js"><link rel="prefetch" href="/devops/public/assets/js/23.849c4ac6.js"><link rel="prefetch" href="/devops/public/assets/js/24.826651fc.js"><link rel="prefetch" href="/devops/public/assets/js/25.c7dd4c0a.js"><link rel="prefetch" href="/devops/public/assets/js/26.3b21d1c0.js"><link rel="prefetch" href="/devops/public/assets/js/27.1664e83f.js"><link rel="prefetch" href="/devops/public/assets/js/28.59a06b4e.js"><link rel="prefetch" href="/devops/public/assets/js/29.d0fb8bda.js"><link rel="prefetch" href="/devops/public/assets/js/3.57a6bfe5.js"><link rel="prefetch" href="/devops/public/assets/js/30.94ffe2dd.js"><link rel="prefetch" href="/devops/public/assets/js/31.5470f18b.js"><link rel="prefetch" href="/devops/public/assets/js/32.c4512386.js"><link rel="prefetch" href="/devops/public/assets/js/33.70e7c59d.js"><link rel="prefetch" href="/devops/public/assets/js/34.ee57f297.js"><link rel="prefetch" href="/devops/public/assets/js/35.e1216186.js"><link rel="prefetch" href="/devops/public/assets/js/36.1124624a.js"><link rel="prefetch" href="/devops/public/assets/js/37.4211c556.js"><link rel="prefetch" href="/devops/public/assets/js/38.bea5feab.js"><link rel="prefetch" href="/devops/public/assets/js/39.25bc3875.js"><link rel="prefetch" href="/devops/public/assets/js/4.63e964ed.js"><link rel="prefetch" href="/devops/public/assets/js/40.3f065a49.js"><link rel="prefetch" href="/devops/public/assets/js/41.63f1804d.js"><link rel="prefetch" href="/devops/public/assets/js/42.315b4797.js"><link rel="prefetch" href="/devops/public/assets/js/43.465c1650.js"><link rel="prefetch" href="/devops/public/assets/js/44.e4749d8a.js"><link rel="prefetch" href="/devops/public/assets/js/45.ae56ef73.js"><link rel="prefetch" href="/devops/public/assets/js/46.70d8ec39.js"><link rel="prefetch" href="/devops/public/assets/js/47.a438bdb7.js"><link rel="prefetch" href="/devops/public/assets/js/48.722b2819.js"><link rel="prefetch" href="/devops/public/assets/js/49.37b2d840.js"><link rel="prefetch" href="/devops/public/assets/js/5.8eef1aa6.js"><link rel="prefetch" href="/devops/public/assets/js/50.8c4cac37.js"><link rel="prefetch" href="/devops/public/assets/js/51.fd2b279b.js"><link rel="prefetch" href="/devops/public/assets/js/52.64d794b2.js"><link rel="prefetch" href="/devops/public/assets/js/53.44f1fe15.js"><link rel="prefetch" href="/devops/public/assets/js/54.65bc36a4.js"><link rel="prefetch" href="/devops/public/assets/js/55.18f8672b.js"><link rel="prefetch" href="/devops/public/assets/js/56.959b9f67.js"><link rel="prefetch" href="/devops/public/assets/js/57.488eb8f9.js"><link rel="prefetch" href="/devops/public/assets/js/58.ddd2b2be.js"><link rel="prefetch" href="/devops/public/assets/js/59.51694459.js"><link rel="prefetch" href="/devops/public/assets/js/6.efccbb61.js"><link rel="prefetch" href="/devops/public/assets/js/60.7e8db32e.js"><link rel="prefetch" href="/devops/public/assets/js/61.1eb00088.js"><link rel="prefetch" href="/devops/public/assets/js/62.c5be8863.js"><link rel="prefetch" href="/devops/public/assets/js/63.68ebac97.js"><link rel="prefetch" href="/devops/public/assets/js/64.7cda79e5.js"><link rel="prefetch" href="/devops/public/assets/js/65.c5239027.js"><link rel="prefetch" href="/devops/public/assets/js/66.25046db3.js"><link rel="prefetch" href="/devops/public/assets/js/67.472cc42c.js"><link rel="prefetch" href="/devops/public/assets/js/68.7e385c3b.js"><link rel="prefetch" href="/devops/public/assets/js/69.154ae051.js"><link rel="prefetch" href="/devops/public/assets/js/7.2a73a90d.js"><link rel="prefetch" href="/devops/public/assets/js/70.13b57dcf.js"><link rel="prefetch" href="/devops/public/assets/js/71.3cf419a7.js"><link rel="prefetch" href="/devops/public/assets/js/72.05d49c64.js"><link rel="prefetch" href="/devops/public/assets/js/73.4f074413.js"><link rel="prefetch" href="/devops/public/assets/js/74.4e026b00.js"><link rel="prefetch" href="/devops/public/assets/js/75.c17d416f.js"><link rel="prefetch" href="/devops/public/assets/js/76.b8fda9ee.js"><link rel="prefetch" href="/devops/public/assets/js/77.40c87b30.js"><link rel="prefetch" href="/devops/public/assets/js/78.9157f138.js"><link rel="prefetch" href="/devops/public/assets/js/79.eef30712.js"><link rel="prefetch" href="/devops/public/assets/js/8.71ffa901.js"><link rel="prefetch" href="/devops/public/assets/js/80.b584a3ab.js"><link rel="prefetch" href="/devops/public/assets/js/81.d8989abd.js"><link rel="prefetch" href="/devops/public/assets/js/82.377cb61b.js"><link rel="prefetch" href="/devops/public/assets/js/83.c855f3d3.js"><link rel="prefetch" href="/devops/public/assets/js/84.7be060d2.js"><link rel="prefetch" href="/devops/public/assets/js/85.a2c092a4.js"><link rel="prefetch" href="/devops/public/assets/js/86.79ed6333.js"><link rel="prefetch" href="/devops/public/assets/js/87.1fd1945d.js"><link rel="prefetch" href="/devops/public/assets/js/88.f49e1737.js"><link rel="prefetch" href="/devops/public/assets/js/89.30b71ef6.js"><link rel="prefetch" href="/devops/public/assets/js/9.d463b76b.js"><link rel="prefetch" href="/devops/public/assets/js/90.3a49fe2f.js"><link rel="prefetch" href="/devops/public/assets/js/91.21c57e7a.js"><link rel="prefetch" href="/devops/public/assets/js/92.0e793e56.js"><link rel="prefetch" href="/devops/public/assets/js/93.6c5ed4b5.js"><link rel="prefetch" href="/devops/public/assets/js/94.4a03d21b.js"><link rel="prefetch" href="/devops/public/assets/js/95.d4489996.js"><link rel="prefetch" href="/devops/public/assets/js/96.cb3cda34.js"><link rel="prefetch" href="/devops/public/assets/js/97.7a40abaf.js"><link rel="prefetch" href="/devops/public/assets/js/98.553b6623.js"><link rel="prefetch" href="/devops/public/assets/js/99.dd7fdef0.js">
    <link rel="stylesheet" href="/devops/public/assets/css/0.styles.4a69f283.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>devops</h3> <p class="description" data-v-59e6cb88>快来玩devops</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>devops</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/devops/public/" class="home-link router-link-active"><img src="/devops/public/logo.png" alt="devops" class="logo"> <span class="site-name">devops</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/devops/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      devops
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/devops/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/devops/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/devops/public/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    devops
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>211</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>43</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/devops/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      devops
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/devops/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/devops/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>devops</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">一，数据库存储服务概述</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>devops</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="一-数据库存储服务概述"><a href="#一-数据库存储服务概述" class="header-anchor">#</a> 一，数据库存储服务概述</h2> <p>数据库学习方法：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>数据库学习方法：
01 进行课程中的积极互动
02 每天完成课程知识总结（思维导图）
03 掌握每天课程练习操作（课上练习）
04 每天多人进行知识复述（原理知识-数据主从如何构建 数据库高可用切换原理 数据库SQL命令执行逻辑  数据库服务体系结构）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>随着互联网的蓬勃发展，开源数据库逐渐流行到普遍。由于具有免费、配置简单、稳定性好、性能优良等优点；</p> <p>开源数据库在中低端应用中占据了很大的市场份额，而MySQL正是开源数据库中的杰出代表。</p> <h3 id="_1-数据库知识引入说明"><a href="#_1-数据库知识引入说明" class="header-anchor">#</a> 1. 数据库知识引入说明</h3> <p><strong>数据信息到底什么？</strong></p> <table><thead><tr><th>序号</th> <th>识别数据方式</th> <th>数据信息</th></tr></thead> <tbody><tr><td>01</td> <td>人类识别数据</td> <td>账号 密码 图片 视频 数字 文字 特殊符号 地址链接...</td></tr> <tr><td>02</td> <td>电脑识别数据</td> <td>二进制数值信息</td></tr></tbody></table> <p><strong>为什么需要学习数据库服务？</strong></p> <ul><li>静态访问：没有和后端交互的过程 -- 没有互动过程</li> <li>动态访问：具有和后端加护的过程 -- 具有互动过程 -- 引用了数据库服务</li></ul> <p><strong>数据如何进行存储？</strong></p> <p>可以利用专业的软件程序，将相关的人类识别的数据，转换为电脑可以识别的二进制信息进行存储</p> <p>其中一些重要的且核心的数据信息，比如网站中的账号和密码数据信息，需要保证数据存储的安全性，提供更大的存储空间，便于管理；</p> <p>因此，专门管理企业核心数据信息软件应运而生，数据库管理系统程序（软件-DBMS）</p> <ul><li>最核心数据信息存储：RDBMS-关系型数据库进行存储</li> <li>次核心数据信息存储：NoSQL-非关系型数据库进行存储</li> <li>分布型数据信息存储：DDBMS-分布式数据库进行存储（NewSQL）</li></ul> <p>常见数据库管理系统程序排名：https://db-engines.com/en/ranking</p> <p><strong>数据库实现数据存储过程方式？-- 存储到磁盘中 读取数据从磁盘</strong></p> <ul><li>系统环境 -- 数据库管理系统 -- DBMS(接收用户数据 -- 二进制 -- 磁盘)</li> <li>存储结构 -- 库信息（根据业务）-- 表信息（用户表 装备表） -- 字段（用户名 密码 用户手机号 账户信息）</li></ul> <h3 id="_2-数据库服务概念介绍"><a href="#_2-数据库服务概念介绍" class="header-anchor">#</a> 2. 数据库服务概念介绍</h3> <p>数据库（database DB）,是一种存储数据的仓库，在实际应用过程具有如下特征：</p> <ul><li>数据库是根据数据结构组织、存储和管理数据的；</li> <li>数据库能够长期、高效的管理和存储数据；</li> <li>数据库的目的就是能够存储（写）和提供（读）数据</li></ul> <h3 id="_3-数据库服务分类说明"><a href="#_3-数据库服务分类说明" class="header-anchor">#</a> 3. 数据库服务分类说明</h3> <p>数据库分为三个大的类型：(随着互联网发展的产品类型)</p> <ul><li><strong>关系型数据库：</strong>（属于数据整合时代）</li></ul> <p>把复杂的数据结构归结为简单的二元关系（RDBMS），即二维表格形式（二维表）；会注重数据存储的持久性，但存储效率低；</p> <p>此类型数据库服务，类似于excel表格的存储数据方式，多采用SQL语言方式进行操作管理；</p> <p>关系型数据库四层结构信息：</p> <table><thead><tr><th>序号</th> <th>数据库结构</th> <th>描述说明</th></tr></thead> <tbody><tr><td>01</td> <td>数据库管理系统（DBMS）</td> <td>进行数据存储应用管理的操作环境或命令</td></tr> <tr><td>02</td> <td>数据库（DB）</td> <td>数据存储的承载环境</td></tr> <tr><td>03</td> <td>数据表（Table）</td> <td>数据关系的构建环境</td></tr> <tr><td>04</td> <td>数据字段（Field）</td> <td>实际数据信息展现形式</td></tr></tbody></table> <p>常见的关系数据库应用程序：</p> <table><thead><tr><th>序号</th> <th>数据库程序</th> <th>应用说明</th></tr></thead> <tbody><tr><td>01</td> <td>MySQL</td> <td>互联网公司应用最广泛</td></tr> <tr><td>02</td> <td>Mariadb</td> <td>企业场景应用较少（20%），主要用于教学环境较多</td></tr> <tr><td>03</td> <td>Oracle</td> <td>传统企业和部分国企应用较多，但也逐步被国产数据库替代</td></tr> <tr><td>04</td> <td>SQLserver</td> <td>适合windows server系统环境部署的数据库服务，属于微软公司发布的数据库服务</td></tr> <tr><td>05</td> <td>PostgreSQL</td> <td>适合于海量数据信息存储，对于金融行业数据信息分析能力将强</td></tr></tbody></table> <blockquote><p>说明：关系型数据库的极致追求：数据存储的安全性，但是在某种程度会损失数据存储和读取的性能。</p></blockquote> <ul><li><strong>非关系型数据库：</strong>（属于数据拆分时代）</li></ul> <p>没有具体模型的数据结构，英文简称NoSQL（Not Only SQL），意为&quot;不仅仅是SQL&quot;，比较注重数据读取的效率；</p> <p>利用NoSQL数据库主要处理高并发应用的场景，以及海量数据存储应用的场景</p> <p>常见的非关系数据库应用程序：</p> <table><thead><tr><th>序号</th> <th>数据库程序</th> <th>应用说明</th></tr></thead> <tbody><tr><td>01</td> <td>Redis</td> <td>可以利用内存存储数据，也可以采用磁盘存储数据，数据常见展示形式为key-value形式</td></tr> <tr><td>02</td> <td>Memcache</td> <td>可以利用内存存储数据，也可以采用磁盘存储数据，数据常见展示形式为key-value形式</td></tr> <tr><td>03</td> <td>Mongodb</td> <td>属于面向文档数据存储的数据库</td></tr> <tr><td>04</td> <td>ES</td> <td>主要用于做日志数据的收集与检索的数据库（ELK ELFK）</td></tr></tbody></table> <blockquote><p>说明：非关系型数据库的极致追求：数据存储的高效性，但是在某种程序会牺牲数据存储的安全性。</p></blockquote> <ul><li><strong>企业新型数据库：</strong>（属于业务整合时代）</li></ul> <p>属于近些年，由国人研发设计出的数据库服务，可以满足很多国内高并发量网站数据存储和读取业务的需求；</p> <p>常见的新型数据库应用程序：</p> <table><thead><tr><th>序号</th> <th>数据库程序</th> <th>应用说明</th></tr></thead> <tbody><tr><td>01</td> <td>TiDB</td> <td>开源分布式关系型数据库，是一款同时支持在线事务处理与在线分析处理的融合型分布式数据库产品</td></tr> <tr><td>02</td> <td>OceanBase</td> <td>是由蚂蚁集团完全自主研发的国产原生分布式数据库，兼顾分布式架构的扩展性与集中式架构的性能优势</td></tr> <tr><td>03</td> <td>PolarXDB</td> <td>是由阿里巴巴自主研发的云原生分布式数据库，是一款基于云架构理念分布式数据库产品，专注海量数据处理</td></tr> <tr><td>04</td> <td>RDS/TDSQL</td> <td>阿里云/腾讯云平台基于SaaS云计算服务环境构建的数据库产品（PolarXDB TDSQL TiDB）</td></tr></tbody></table> <p>数据信息来源参考：https://www.modb.pro/dbRank</p> <p>数据信息来源参考：https://db-engines.com/en/ranking</p> <p>数据信息来源参考：https://www.itdks.com/</p> <p>数据库服务企业应用类型？</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>01 关系型数据库（行和列）          
   代表性服务：mysql* mariadb oracle（高级数据库课程）pg SQLserver access <span class="token punctuation">..</span><span class="token punctuation">..</span>
   功能作用：可以将数据合理化永久存储（磁盘中）

02 非关系数据库（键key和值values） 
   代表性服务：redis* mongodb* memcache Elasticsearch（日志型数据）过滤Logstash 展示 Kibana <span class="token punctuation">..</span>. 
   功能作用：可以将数据高效存储和读取（内存中/磁盘中）
   https://db-engines.com/en/ranking

03 分布型数据库（兼容了关系型+非关系型数据库特定） 
   代表性服务：OB<span class="token punctuation">(</span>OceanBase-蚂蚁金服<span class="token punctuation">)</span> PingCAP-TiDB 华为Guess Base
   功能作用：可以合理化存储数据，并且也可以高效存储/调取数据
   学习分布式数据：看官方网站教学视频
   https://www.modb.pro/dbRank
   https://cn.pingcap.com/courses-catalog/category/dba/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_4-数据库服务版本应用"><a href="#_4-数据库服务版本应用" class="header-anchor">#</a> 4. 数据库服务版本应用</h3> <p>根据本课程安排，主要会介绍讲解关系型数据库中的 MySQL 数据库服务，也是业界比较知名和流行的开源数据库产品；</p> <p>因此，需要关注下MySQL软件程序的版本应用（产品线），以及同类型相关的数据库服务产品。</p> <table><thead><tr><th>序号</th> <th>厂商信息</th> <th>数据库服务</th></tr></thead> <tbody><tr><td>01</td> <td>Oracle（官方）</td> <td>Oracle/ MySQL（5.6 5.7* 8.0）</td></tr> <tr><td>02</td> <td>MariaDB</td> <td>MariaDB Server（从5.5+之后，10.0+版本有自己的一些架构特性）</td></tr> <tr><td>03</td> <td>Percona</td> <td>Percona Server</td></tr></tbody></table> <p>MySQL企业应用的版本分析：</p> <table><thead><tr><th>序号</th> <th>大版本应用</th> <th>小版本应用</th></tr></thead> <tbody><tr><td>01</td> <td>MySQL 5.6</td> <td>5.6.36 5.6.38 5.6.40 5.6.46 （GA 6-12月）<br>2021 01月 常规/扩展服务全部停止</td></tr> <tr><td>02</td> <td>MySQL 5.7 （应用更加广泛）</td> <td>5.7.20 5.7.22 5.7.24 5.7.26 ..5.7.40（GA最新双数版本）<br>2023 10月 常规/扩展服务全部停止</td></tr> <tr><td>03</td> <td>MySQL 8.0 （属于最新版本）</td> <td>8.0.11 8.0.17+ 8.0.18 8.0.26 8.0.32 （GA最新双数版本）</td></tr></tbody></table> <p>MySQL企业应用的发布版本：</p> <ul><li>C：表示为社区版本，属于开源免费版本</li> <li>E：表示为企业版本，属于开源盈利版本</li></ul> <h3 id="_5-数据库服务优势特点"><a href="#_5-数据库服务优势特点" class="header-anchor">#</a> 5. 数据库服务优势特点</h3> <ul><li>MySQL数据库服务性能卓越，服务稳定，很少出现异常宕机的情况；</li> <li>MySQL数据库服务是开放源代码且无版权制约，自主性强，且使用成本低；</li> <li>MySQL数据库服务使用历史悠久，社区及用户非常活跃，遇到问题可以获取大量帮助；</li> <li>MySQL数据库服务软件体积小，安装使用简单，并且易于维护管理，安装及维护成本低；</li> <li>MySQL数据库服务业界口碑好，使得企业无需考虑就能直接使用；</li> <li>MySQL数据库服务架构应用广泛，可以用于构建LAMP LNMP LNMT等流行web架构；</li> <li>MySQL数据库服务支持多种操作系统，提供多种API接口，支持多种开发语言利用驱动接口调用；</li></ul> <h2 id="二-数据库服务安装部署"><a href="#二-数据库服务安装部署" class="header-anchor">#</a> 二，数据库服务安装部署</h2> <p>Oracle公司的MySQL版本分社区版和企业版两种，企业版比社区版功能强，但要付费，通常使用社区版即可满足一般要求；</p> <p>Linux平台上的MySQL版本主要分两类：</p> <p>类型一：Oracle Linux、Red Hat、CentOS和Ferdora平台上的MySQL版本；</p> <p>类型二：Ubuntu和Debian平台上的MySQL版本</p> <h3 id="_1-数据库服务安装方式"><a href="#_1-数据库服务安装方式" class="header-anchor">#</a> 1. 数据库服务安装方式</h3> <p>mysql安装环境：</p> <p><img src="/devops/public/assets/img/1728392877275.85878cb8.png" alt="1728392877275"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>虚拟主机用户名：root 密码：123456
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在Linux系统中常见的部署安装方式：</p> <p>MySQL安装方式有多种，常用的有软件仓库（YUM源或APT源）安装，RPM或DEB包安装、二进制文件安装、源码编译安装；</p> <ul><li>Oracle Linux、Red Hat、CentOS和Ferdora平台支持方式：yum源安装、rpm包安装、二进制文件安装、源码编译安装；</li> <li>Ubuntu和Debian平台支持方式：apt源安装、deb包安装、二进制文件安装、源码编译安装</li></ul> <table><thead><tr><th>序号</th> <th>安装方式</th> <th>特征说明</th></tr></thead> <tbody><tr><td>01</td> <td>采用二进制方式安装</td> <td>直接解压缩二进制程序包，进行简单的配置和初始化操作即可</td></tr> <tr><td>02</td> <td>采用rpm包方式安装</td> <td>需要从官方网站下载rpm程序包，并且需要考虑系统环境的兼容性，解决软件程序包依赖</td></tr> <tr><td>03</td> <td>采用yum源方式安装</td> <td>需要根据官方网站说明，配置yum下载的仓库源信息，在联网情况下进行安装部署</td></tr> <tr><td>04</td> <td>采用源码包方式安装</td> <td>需要从官方网站下载源码程序包，并且需要解决程序包依赖问题，以及需要采用编译安装</td></tr></tbody></table> <blockquote><p>说明：本次课程主要围绕数据库服务的应用和管理进行讲解，所以选择二进制包安装方式，使安装过程更加简单和规范。</p></blockquote> <p>MySQL数据库服务安装方式：（二进制包安装）</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>安装方式一：yum/apt-get 	可以解决软件依赖关系（配置好下载源）
安装方式二：rpm包安装      需要提前在软件包，离线安装软件
安装方式三：源码编译安装	可以定制化安装软件，离线安装软件
安装方式四：二进制包安装  	可以快速部署数据库,	离线安装软件    讲解安装过程
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-数据库服务程序下载"><a href="#_2-数据库服务程序下载" class="header-anchor">#</a> 2. 数据库服务程序下载</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>利用官方网址获取数据库软件程序：https://www.mysql.com/</p> <p>选择官网网站的 <code>DOWNLOADS</code> 进行数据库软件程序下载选择；</p> <p><img src="/devops/public/assets/img/1728394502479.d68a78c9.png" alt="1728394502479"></p> <p>在数据库官方下载页面中，选择 <code>MySQL Community (GPL) Downloads</code> 链接，进行数据库程序社区版下载；</p> <p><img src="/devops/public/assets/img/1728394518273.8084b5a0.png" alt="1728394518273"></p> <p>进入数据库程序的社区版下载页面后，会看到社区版数据库服务的多种安装场景，本课程选择<code>MySQL Community Server</code>方式安装</p> <p>官方最新版下载页面：</p> <p><img src="/devops/public/assets/img/1728394549940.fee437c3.png" alt="1728394549940"></p> <p>官方历史版下载页面：（本次课程讲解选择历史相对稳定版本进行安装部署）</p> <p><img src="/devops/public/assets/img/1728394565185.3b2b34b2.png" alt="1728394565185"></p> <p>进入到社区版服务器安装场景界面，需要选择数据库服务的安装部署环境和需要下载的程序具体版本信息；</p> <p><img src="/devops/public/assets/img/1728394581571.0ddd4c86.png" alt="1728394581571"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mysql       <span class="token parameter variable">-8.4.2</span>    <span class="token parameter variable">-linux</span>     <span class="token parameter variable">-glibc2.17</span>  <span class="token parameter variable">-x86_64</span>    .tar.xz
数据库名称   版本号   系统信息   内核信息   架构信息   压缩包
统一使用/下载版本：mysql-8.0.32-linux-glibc2.12-x86_64.tar.xz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-数据库服务安装过程"><a href="#_3-数据库服务安装过程" class="header-anchor">#</a> 3. 数据库服务安装过程</h3> <ul><li><strong>不同系统环境数据库服务安装方式-Linux</strong></li></ul> <p>部署安装MySQL数据库服务程序：</p> <p><u>步骤一：MySQL数据库服务安装环境准备</u></p> <p>确认操作系统数据库服务安装环境</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>1）确认系统是否可以连网/可以远程控制
ping www.baidu.com 

2）修改系统主机名称/设置名称和地址解析(可选)
hostnamectl set-hostname DB-01       
echo &quot;10.0.0.51 DB-01&quot; &gt;&gt;/etc/hosts

3）关闭系统安全功能
systemctl stop firewalld
systemctl disable firewalld
setenforce 0
sed -i '7s#SELINUX=enforcing#SELINUX=disabled#g' /etc/selinux/config 

4）清理系统中的数据库服务
rpm -qa|grep mariadb
mariadb-libs-5.5.68-1.el7.x86_64
yum remove -y `rpm -qa|grep mariadb`

5) 安装mysql依赖软件
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo
yum install -y libaio-devel
yum install -y lrzsz tree vim wget net-tools

6）创建服务用户与存储数据目录
useradd mysql -M -s /sbin/nologin 
mkdir -p /data/3306/data &amp;&amp; chown mysql.mysql /data/3306/data 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><u>步骤二：MySQL数据库程序解压安装过程</u></p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>解压安装数据库软件程序
cd /usr/local/

tar xvf mysql-8.0.32-linux-glibc2.12-x86_64.tar.xz

ln -s mysql-8.0.32-linux-glibc2.12-x86_64 mysql    --重要目录bin，存放数据库的命令信息（mysql mysqladmin mysqldump ...)

vim /etc/profile
export PATH=&quot;$PATH:/usr/local/mysql/bin&quot;           -- 保存配置信息

source /etc/profile                                -- 加载最新环境变量配置

mysql -V          -- 可以看到数据库版本信息，表示数据库安装完毕
mysql  Ver 8.0.32 for Linux on x86_64 (MySQL Community Server - GPL)

编写数据库服务配置文件,默认是没有my.cnf的，需要创建。下面的内容先不要管。
cat &gt; /etc/my.cnf &lt;&lt;eof
[mysql]
socket=/tmp/mysql.sock
[mysqld]
user=mysql
basedir=/usr/local/mysql
datadir=/data/3306/data
socket=/tmp/mysql.sock
eof
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>说明：以上操作步骤只是保证了数据库服务的软件程序部分安装完毕，在系统中可以识别数据库程序。</p></blockquote> <p><u>步骤三：MySQL数据库程序生成初始数据</u>：（8.0版本数据库）</p> <p>数据库初始化命令应用解读：</p> <table><thead><tr><th>核心程序命令</th> <th>初始化核心参数</th> <th>数据管理用户</th> <th>数据存储路径</th> <th>数据存放目录</th></tr></thead> <tbody><tr><td>mysqld</td> <td>--initialize-insecure</td> <td>--user=mysql</td> <td>--basedir=/usr/local/mysql</td> <td>--datadir=/data/3306/data</td></tr></tbody></table> <p>数据库初始化方式分为两种：</p> <ul><li><strong>实现数据库不安全初始化：</strong></li></ul> <p>采用不安全初始化数据库，稍后运行启动数据库程序，在管理员登录访问过程无需密码信息即可登录；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/data/3306/data
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>实现数据库安全初始化：</strong></li></ul> <p>采用安全初始化数据库，将会生成临时密码（12位密码 需要满足4种复杂度），必须在首次登录数据库时改掉，才能正常管理数据库；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/data/3306/data
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用安全模式初始化数据库后，需要利用临时密码登录数据库服务，并设置管理员用户密码信息；</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql &gt; alter user root@'localhost' identified by '123456';
-- 如果不修改设置管理员用户密码，使用临时密码只是能登录数据库，但是无法管理数据库
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>数据库初始化不同版本差异：</p> <table><thead><tr><th>版本信息</th> <th>命令信息</th> <th>初始化操作参数</th> <th>备注说明</th></tr></thead> <tbody><tr><td>5.5 5.6</td> <td>mysql_install_db</td> <td></td> <td>初始化的命令不一致，参数相同（无管理员密码）</td></tr> <tr><td>5.7 8.0</td> <td>mysqld</td> <td>--initialize-insecure</td> <td>表示不安全方式初始化（无管理员密码）</td></tr> <tr><td></td> <td></td> <td>--initialize</td> <td>表示安全方式初始化（有随机默认管理员密码）</td></tr></tbody></table> <p>数据库初始化命令实践操作：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>数据库服务初始化操作（创建默认数据库中数据信息）
mysql 8.0 5.7 数据库服务 
mysqld --initialize-insecure  --user=mysql  --datadir=/data/3306/data  --basedir=/usr/local/mysql 
-- 进行不安全初始化，不会创建root用户临时密码（root用户可以免密登录）

2024-10-08T03:56:46.159721Z 0 [System] [MY-013169] [Server] /usr/local/mysql-8.0.32-linux-glibc2.12-x86_64/bin/mysqld (mysqld 8.0.32) initializing of server in progress as process 2090
2024-10-08T03:56:46.184294Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
2024-10-08T03:56:47.034991Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
2024-10-08T03:56:48.696529Z 6 [Warning] [MY-010453] [Server] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.
-- 没有看到初始化中的错误或失败信息，表示初始化成功（不安全）


初始化常见问题：
1）依赖软件没有正确安装
yum install -y libaio-devel
[报错信息]：
mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory
[解决方法]：
yum install -y libaio-devel

2）系统数据目录或用户没有创建
[报错信息]：
[ERROR] [MY-010124] [Server] Fatal error: Can't change to run as user 'mysql' ;  Please check that the user exists!
[解决方法]：
useradd mysql -M -s /sbin/nologin 
mkdir -p /data/3306/data &amp;&amp; chown mysql.mysql /data/3306/data

3）系统配置文件信息编写正确
PS：
01 执行初始化命令和参数信息输入正确
02 若初始化有问题，需要将数据目录内容清空，再重新初始化


mysqld --initialize --user=mysql  --datadir=/data/3306/data  --basedir=/usr/local/mysql 
-- 进行安全初始化，会创建root用户临时密码（root用户需要使用密码登录），登录上还要修改密码（root用户没有管理权）

A temporary password is generated for root@localhost: 71Z00yLoRU(r


mysql 5.5 5.6 数据库服务 
mysql_install_db --user=mysql  --datadir=/data/3306/data  --basedir=/usr/local/mysql 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><blockquote><p>说明：数据库服务初始化的过程，是用于让数据库服务创建出一些默认的数据信息，以及识别存储数据目录信息</p></blockquote> <p><u>步骤四：MySQL数据库程序脚本运行启动</u>：</p> <p>在数据库程序目录中找到启动脚本文件，并将脚本文件复制到指定目录中；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>数据库启动关闭管理
方式一：利用脚本文件启动关闭
功能作用：可以默认实现数据单实例启动过程
cp /usr/local/mysql/support-files/mysql.server /etc/init.d/

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>利用启动脚本文件，运行启动数据库服务；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>[root@db-01 local]# /etc/init.d/mysql.server start
Starting MySQL.Logging to '/data/3306/data/db-01.err'.
... SUCCESS!

[root@db-01 local]# ps -ef|grep mysql
root       2386      1  0 15:07 pts/0    00:00:00 /bin/sh /usr/local/mysql/bin/mysqld_safe --datadir=/data/3306/data --pid-file=/data/3306/data/db-01.pid
-- 以上进程称为数据库主进程 -- 管理进程
mysql      2525   2386 15 15:07 pts/0    00:00:03 /usr/local/mysql/bin/mysqld --basedir=/usr/local/mysql --datadir=/data/3306/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --log-error=db-01.err --pid-file=/data/3306/data/db-01.pid --socket=/tmp/mysql.sock
-- 以上进程称为数据库子进程 -- 工作进程


[root@db-01 local]# netstat -lntup|grep 3306
tcp6       0      0 :::3306                 :::*                    LISTEN      2525/mysqld         
tcp6       0      0 :::33060                :::*                    LISTEN      2525/mysqld 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>数据库服务启动异常，排查思路：
01：查看错误日志信息
<span class="token number">2024</span>-10-08T07:33:55.126820Z <span class="token number">1</span> <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token punctuation">[</span>MY-012271<span class="token punctuation">]</span> <span class="token punctuation">[</span>InnoDB<span class="token punctuation">]</span> The innodb_system data <span class="token function">file</span> <span class="token string">'ibdata1'</span> must be writable
02：查看配置文件信息（看不到日志文件）

关闭数据库服务
/etc/init.d/mysql.server stop


方式二：利用命令文件启动关闭
功能作用：可以默认实现数据多实例启动过程
mysqld -- 执行mysqld命令，可以运行数据库工作进程 
mysqld --plugin-dir<span class="token operator">=</span>/usr/local/mysql/lib/plugin <span class="token operator">&amp;</span>

关闭服务：
<span class="token function">kill</span> 进程号
<span class="token function">pkill</span> mysql

mysqld_safe -- 执行mysqld_safe命令，可以运行数据库管理进程（顺带mysqld进程运行）
mysqld_safe <span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>关闭服务： 
<span class="token function">pkill</span> mysql
/etc/init.d/mysql.server stop 

systemctl 
方法一：编写mysql.service文件，被systemctl命令加载（systemctl daemon-reload）
方法二：利用systemctl命令加载数据库脚本文件（/etc/init.d/mysql.server）
systemctl <span class="token builtin class-name">enable</span> mysql.server
systemctl start mysql.server 
systemctl status mysql.server -- /etc/rc.d/init.d/mysql.server --  Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span>
systemctl stop mysql.server 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="三-数据库服务基础管理"><a href="#三-数据库服务基础管理" class="header-anchor">#</a> 三，数据库服务基础管理</h2> <h3 id="_1-数据库服务密码管理"><a href="#_1-数据库服务密码管理" class="header-anchor">#</a> 1. 数据库服务密码管理</h3> <p><strong>方式一：数据库服务密码设置</strong></p> <p>给mysql配置登陆密码，并使用新密码进行登录数据库</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 设置root密码:
[root@oldboy ~]# mysqladmin password 'oldboy123'
或者
[root@oldboy ~]# mysqladmin -uroot -p password 'oldboy123'
-- 表示第一次登录设置密码信息

# 进行登录测试：
[root@oldboy ~]# mysql -uroot -p
Enter password: 
mysql&gt; quit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>方式二：数据库服务密码修改</strong></p> <p>给mysql修改登陆密码，并使用新密码进行登录数据库</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 利用数据库服务命令修改密码信息
[root@oldboy ~]# mysqladmin -uroot -poldboy123 password 'oldboy'
-- 将原有oldboy123密码 改为oldboy

# 进行测试登录
[root@oldboy ~]# mysql -uroot -poldboy
Welcome to the MySQL monitor.  Commands end with ; or \g.
mysql&gt; 

# 利用数据库服务SQL语句修改密码信息
mysql&gt; alter user root@'localhost' identified by 'oldboy123'; 
mysql&gt; flush privileges;
-- 适合于mysql 8.0

mysql&gt; update mysql.user set authentication_string=PASSWORD('oldboy123') where user='root' and host='localhost';
mysql&gt; flush privileges;
-- 适合于mysql 5.7

mysql&gt; set password for 'oldboy'@'localhost'=PASSWORD('oldboy123');
mysql&gt; flush privileges;
-- 适合于mysql 5.6

# 进行测试登录
[root@oldboy ~]# mysql -uroot -poldboy123
Welcome to the MySQL monitor.  Commands end with ; or \g.
mysql&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>方式三：数据库服务密码重置</strong></p> <p>给mysql重置登陆密码，并使用新密码进行登录数据库</p> <p>数据库重启并进入数据库安全模式（不加载验证授权表模式）</p> <p>步骤一：停止数据库服务，并检查数据库服务是否停止：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysql&gt; shutdown;
或者
service mysql stop
-- 在系统命令行关闭
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>步骤二：重新启动数据库服务，并设置启动方式为忽略授权表启动方式：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>[root@oldboy ~]# mysqld_safe  --skip-grant-tables --skip-networking &amp;
-- skip-grant-tables 表示忽略授权表启动   
-- skip-networking 忽略网络通讯方式启动

# 进行测试服务是否启动
[root@oldboy ~]# ps -ef|grep mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>步骤三：采用免密码方式登录数据库系统中，并重置root用户密码信息：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>[root@oldboy ~]# mysql -uroot
mysql&gt; flush privileges;   
--表示先将数据库服务授权表加载到内存中，也可以将内存中修改的授权信息存入到磁盘中
mysql&gt; alter user root@'localhost' identified by 'oldboy123';
--修改数据库服务用户密码信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>步骤四：重新启动数据库服务程序：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 杀死已经运行的数据库服务进程信息
[root@oldboy ~]# pkill mysqld
[root@oldboy ~]# ps -ef|grep mysql

# 重新启动数据库服务
[root@oldboy ~]# systemctl start mysqld
[root@oldboy ~]# netstat -lntup|grep 3306

# 重新登录进行测试
[root@oldboy ~]# mysql -uroot -poldboy123
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_2-数据库服务用户管理"><a href="#_2-数据库服务用户管理" class="header-anchor">#</a> 2. 数据库服务用户管理</h3> <p>在数据库服务中，也是有用户知识概念的，类似系统中的用户管理应用，主要利用用户管理知识，可以实现：</p> <ul><li>用户登录数据库服务系统中（实现数据库服务登录）</li> <li>用户管理数据库服务中对象（实现数据库对象管理）</li></ul> <p><strong>01 创建数据库服务用户信息</strong></p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 数据库用户创建：'用户名称信息'@'白名单信息'
-- 用户名称信息：创建的用户字符串信息
-- 白名单信息：网段IP地址信息或者名称信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>用户信息构成：用户名称@主机名称/主机地址范围</code></p> <p>主机范围就是允许哪些机器连接（连接的机器的iP地址），必须在允许的主机范围，否则远程主机不允许连接数据库服务；</p> <p>主机名称或主机地址范围还可以表示客户端可以什么样的方式，来使用数据库管理用户登录数据库系统；</p> <p>常见的有两种方式：</p> <ul><li>第一种方式：以本地登录方式进行登录数据库系统；</li> <li>第二种方式：以远程登录方式进行登录数据库系统；</li></ul> <p>进入到数据库环境中，执行以下SQL语句进行创建：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>MySQL&gt; create user  blog@'192.168.56.%' identified by 'oldboy123';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="课件配图资料/03章节-图示01-数据库用户管理操作.png" style="zoom:100%;"> <blockquote><p>说明：使用create创建数据库服务用户信息，创建的用户默认是没有数据库的管理权限的。</p></blockquote> <p>在进行数据库服务对应管理用户创始时，建议一个数据库对应一个管理人员，以免多个管理员操作管理相同数据库产生冲突；</p> <p>在进行用户信息创建时，具有多种用户主机域的设置方法：</p> <p><strong>方法一：设置数据服务管理用户只能本地登录数据库系统，主机域设置方法：</strong></p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>root@localhost
-- localhost：表示只能通过本地主机登录数据库系统
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>方法二：设置数据服务管理用户可以远程登录数据库系统，主机域设置方法：</strong></p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>root@192.168.30.101 
-- 192.168.30.101：表示可以在192.168.30.101主机上远程登录管理数据库系统
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在企业实际网站架构中，会有大量的集群服务器，大量的应用服务器都会连接后端的数据库服务，因此设置远程连接主机域方法有：</p> <ul><li>方法一：授权单个主机进行访问：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>root@192.168.30.101     
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>方法二：授权一个网段进行访问：</li></ul> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 方式一：书写方法（企业常用）
root@'192.168.30.0/24' 
root@'192.168.30.0/255.255.255.0'  
-- 授权一个网段主机均可远程登录数据库服务，表示这个网段中192.168.30.1~192.168.30.254均可访问
-- 在数据库中识别默认掩码就是/24，其他掩码信息需要具体写明，需要注意特殊VLSM子网掩码需要长格式指明，不能简写***

# 方式二：书写方法（企业常用）
root@'192.168.30.%'
-- 授权一个网段主机均可远程登录数据库服务，表示这个网段中192.168.30.1~192.168.30.254均可访问

# 方式三：书写方法
root@'172.16.%'
-- 授权一个更大网段主机均可远程登录数据库服务，表示这个网段中192.168.0.1~192.168.255.254均可访问

# 方式四：书写方法
root@'%'     
-- 授权任意主机都可以远程登录数据库服务

# 方式五：书写方法
root@'192.168.30.51' 
-- 授权一个具体的主机可以远程登录数据库服务，表示这个主机192.168.30.51可以访问
root@'192.168.30.5%'
-- 授权多个具体的主机可以远程登录数据库服务，表示多个主机192.168.30.50~192.168.30.59均可以访问
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>02 查询数据库服务用户信息</strong></p> <p>进行到数据库环境中，执行以下SQL语句进行查询：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>MySQL&gt; select user,host,authentication_string from mysql.user;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="课件配图资料/03章节-图示02-数据库用户管理操作.png" style="zoom:100%;"> <p>查看当前登录系统的用户信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>MySQL&gt; select user(); 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>03 修改数据库服务用户密码</strong></p> <p>进入到数据库环境中，执行以下SQL语句进行修改；</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>MySQL&gt; alter user blog@'192.168.56.%' identified by '123456';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="课件配图资料/03章节-图示03-数据库用户管理操作.png" style="zoom:100%;"> <p><strong>04 删除数据库服务用户信息</strong></p> <p>进入到数据库环境中，执行以下SQL语句进行删除：（在生产环境慎用，不用的用户信息可以先锁定）</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>MySQL&gt;  drop user 'user'@'主机域'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="课件配图资料/03章节-图示04-数据库用户管理操作.png" style="zoom:100%;"> <p><strong>05 锁定数据库服务用户信息</strong></p> <p>在数据库服务进行用户管理时，也可以将特定数据库管理用户进行锁定，从而实现禁止某些特定用户再次登录数据库服务进行管理；</p> <p>锁定数据库用户操作：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 进行数据库用户锁定操作
mysql&gt; alter user oldboy@'localhost' account lock;
Query OK, 0 rows affected (0.02 sec)

# 查看数据库用户锁定状态
mysql&gt; select user,host,account_locked from mysql.user;
+------------------+-----------+----------------------+
| user               | host           | account_locked |
+------------------+-----------+----------------------+
| oldboy           | localhost  | Y                          |
| root                | localhost  | N                         |
+------------------+-----------+----------------------+
5 rows in set (0.00 sec)

[root@docker-server ~]# mysql -uoldboy -p
Enter password: 
ERROR 3118 (HY000): Access denied for user 'oldboy'@'localhost'. Account is locked.
-- 再次登录数据库服务，显示指定用户已经被锁定
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>解锁数据库用户操作：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 进行数据库用户锁定操作
mysql&gt; alter user oldboy@'localhost' account unlock;
Query OK, 0 rows affected (0.01 sec)

# 查看数据库用户锁定状态
mysql&gt; select user,host,account_locked from mysql.user;
+------------------+-----------+---------------------+
| user                 | host        | account_locked |
+------------------+-----------+---------------------+
| oldboy            | localhost | N                        |
| root                 | localhost | N                        |
+------------------+-----------+---------------------+
5 rows in set (0.00 sec)

[root@docker-server ~]# mysql -uoldboy -p
Enter password: 
Welcome to the MySQL monitor. 
-- 再次登录数据库服务，显示指定用户已经被解锁可以登录
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>06 数据库服务用户管理特性（5.7与8.0用户管理区别）</strong></p> <p><strong>用户管理区别-01：创建用户授权区别</strong></p> <p>之前版本，只需要grant命令即可完成用户创建操作+用户密码设置+用户授权操作</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysql&gt; grant all on *.* to xiaoQ@'192.168.30.%' identified by 'oldboy123';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>之后版本，所有系统表都是InnoDB管理了，需要先建立用户再进行授权，并且grant命令不再支持indentified by语句</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysql&gt; create user xiaoQ@'192.168.30.%' identified by 'oldboy123';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; grant all on *.* to xiaoQ@'192.168.30.%';
Query OK, 0 rows affected (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>用户管理区别-02：用户密码插件区别</strong></p> <p>之前版本，用户密码加密插件使用的早期版本时，可以保证客户端程序正常登陆，保证主从架构数据正常，保证集群通讯不受到影响；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 查看早期数据库服务版本的密码加密插件信息
mysql&gt; show variables like '%auth%';
+-------------------------------+-------------------------------------------+
| Variable_name                             | Value                                 |
+-------------------------------+-------------------------------------------+
| default_authentication_plugin | mysql_native_password |
| secure_auth                                 | ON                                     |
+-------------------------------+-------------------------------------------+
2 rows in set (0.00 sec)
-- 早期数据库服务的密码加密插件为：mysql_native_password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>之后版本，用户密码加密插件使用的后期版本时，将会导致客户端程序无法登录，导致主从架构数据正常，影响集群正常通讯过程；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 查看后期数据库服务版本的密码加密插件信息
mysql&gt; show variables like '%auth%';
+-------------------------------+----------------------------------------+
| Variable_name                            | Value                                  |
+-------------------------------+----------------------------------------+
| default_authentication_plugin | caching_sha2_password |
+-------------------------------+----------------------------------------+
1 row in set (0.01 sec)
-- 后期数据库服务的密码加密插件为：caching_sha2_password
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>为了解决数据库服务升级后，用户密码加密插件影响连接建立问题，可以采取以下两种方案</p> <ul><li>方案一：替换原有默认密码加密插件，更换为历史版本使用的加密插件（mysql_native_passwordl）	<code>运维职责</code></li> <li>方案二：替换客户端连接数据库服务端的驱动程序软件，使之兼容新版本加密插件功能	<code>开发职责</code></li></ul> <p>在新版数据库中替换原有密码加密插件具体操作方法：</p> <p>方法一：创建用户过程修改加密插件信息</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysql&gt; create user oldboy@'localhost' identified with mysql_native_password by '123';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; select user,host,authentication_string,plugin from mysql.user;
+------------------+--------------+-----------------------------------------------------------------+-----------------------------+
| user                  | host            | authentication_string                                                   | plugin
+------------------+--------------+-----------------------------------------------------------------+-----------------------------+
| oldboy             | localhost    | *23AE809DDACAF96AF0FD78ED04B6A265E05AA257   | mysql_native_password 
+------------------+--------------+-----------------------------------------------------------------+-----------------------------+
6 rows in set (0.00 sec)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>方法二：修改已经创建用户加密插件信息</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysql&gt; alter user 'xiaoQ'@'192.168.30.%' identified with mysql_native_password by '123456';
Query OK, 0 rows affected (0.01 sec)

mysql&gt; select user,host,authentication_string,plugin from mysql.user;
+-----------+-----------------+----------------------------------------------------------------+-------------------------------+
| user        | host                | authentication_string                                                  | plugin                               |
+----------+------------------+----------------------------------------------------------------+-------------------------------+
| xiaoQ     | 192.168.30.% | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 | mysql_native_password |

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>方法三：修改数据库服务配置文件信息（全局修改）</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 修改数据库服务配置文件信息
[root@xiaoQ-01 ~]# vim /etc/my.cnf
[mysqld]
default_authentication_plugin=mysql_native_password
-- 修改数据库服务配置文件，并在mysqld中区域进行修改

# 修改数据库服务配置后重启服务程序
[root@xiaoQ-01 ~]# service mysqld restart
Shutting down MySQL. SUCCESS! 
Starting MySQL. SUCCESS! 

# 登录数据库服务查看加密插件默认配置：
mysql&gt; show variables like '%auth%';
+----------------------------------------+------------------------------+
| Variable_name                              | Value                                |
+----------------------------------------+------------------------------+
| default_authentication_plugin  | mysql_native_password |
+----------------------------------------+------------------------------+
1 row in set (0.01 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_3-数据库服务权限管理"><a href="#_3-数据库服务权限管理" class="header-anchor">#</a> 3. 数据库服务权限管理</h3> <p>在数据库服务中，权限管理可以用于针对不同的用户，限制登录管理数据库服务用户的操作行为，也可以区分不同用户的操作能力；</p> <p>数据库服务权限实际应用过程中，和在操作系统权限中对用户进行权限设置，也是有区别的；</p> <ul><li>操作系统权限是作用于文件上的，限制某个用户对系统中数据文件的操作；</li> <li>数据库权限是作用在用户上的，或者角色（相当于系统的用户组）上的，限制执行某些操作命令；</li></ul> <p>数据库服务常见的权限管理定义设置：</p> <p>数据库服务中可以授权的所有权限信息查看</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>MySQL&gt; show privileges;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>数据库服务中可以授权的所有权限信息查看：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>MySQL&gt; show privileges;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出展示的信息表示内容：</p> <table><thead><tr><th>序号</th> <th>输出列</th> <th>解释说明</th></tr></thead> <tbody><tr><td>01</td> <td>Privilege</td> <td>表示可以授权的所有权限信息展示</td></tr> <tr><td>02</td> <td>Context</td> <td>表示设置的权限可以对数据库服务哪些资源进行操作</td></tr> <tr><td>03</td> <td>Comment</td> <td>对相应的权限功能进行简单解释说明</td></tr></tbody></table> <p>核心重要授权权限总结：</p> <table><thead><tr><th>序号</th> <th>权限</th> <th>授权资源</th> <th>解释说明</th></tr></thead> <tbody><tr><td>01</td> <td>Select</td> <td>Tables</td> <td>可以对表进行操作，查询表中数据信息</td></tr> <tr><td>02</td> <td>Insert</td> <td>Tables</td> <td>可以对表进行操作，插入表中数据信息</td></tr> <tr><td>03</td> <td>Update</td> <td>Tables</td> <td>可以对表进行操作，修改表中数据信息</td></tr> <tr><td>04</td> <td>Delete</td> <td>Tables</td> <td>可以对表进行操作，删除表中数据信息</td></tr> <tr><td>05</td> <td>Alter</td> <td>Tables</td> <td>可以对表进行操作，修改表中结构信息（元数据-属性）</td></tr> <tr><td>06</td> <td>Index</td> <td>Tables</td> <td>可以对表进行操作，删除或创建表中的索引信息</td></tr> <tr><td>07</td> <td>Create</td> <td>Databases,Tables</td> <td>可以对表和库进行操作，用于创建数据库和表信息</td></tr> <tr><td>08</td> <td>Drop</td> <td>Databases,Tables</td> <td>可以对表和库进行操作，用于删除数据库和表信息</td></tr></tbody></table> <blockquote><p>说明：all privileges（all）包含查看的所有权限信息，但是唯独缺了Grant option，不能授权用户，此权限只能给root@local用户</p></blockquote> <p>数据库服务中用户授权信息的存放位置：授权表</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 切换进入到默认mysql数据库中
mysql&gt; use mysql;

# 查看数据库中的信息
mysql&gt; show tables；
-- 查看mysql数据库中的表信息   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>常见的授权表信息说明：</p> <table><thead><tr><th>序号</th> <th>授权表名称</th> <th>解释说明</th></tr></thead> <tbody><tr><td>01</td> <td>user</td> <td>主要用于存储用户、主机域、密码、加密插件等信息，同时还存储了*.*级别的权限(全局权限)</td></tr> <tr><td>02</td> <td>db</td> <td>主要用于存储用户、主机域等信息，同时还存储了单库级别的权限(局部权限)</td></tr> <tr><td>03</td> <td>tables_priv</td> <td>主要用于存储用户、主机域等信息，同时还存储了单表级别的权限(局部权限)</td></tr></tbody></table> <blockquote><p>说明：以上授权表信息了解作用即可，不建议采用手工方式对授权表中的数据进行修改调整</p></blockquote> <p><strong>01 设置数据库服务用户授权</strong></p> <p>通过理解数据库内部结构，可以知晓，数据库是一个很大的仓库，里面包含多个库，每个库中有多个表，每个表中有多个行和列；</p> <p>当然作为数据库服务管理用户，要管理的不仅仅是库和表，其实还有视图、触发器、存储过程等和数据库有关的信息；</p> <p>因此，在某些时候创建完用户信息，还需要对创建的用户进行授权，就是让不同用户拥有管理库和表对象的权限。</p> <p>进入到数据库环境中，执行以下SQL语句进行设置：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 授权语法格式
MySQL&gt; grant  all    on     授权对象范围   to        权限赋予用户信息
MySQL&gt; grant  all    on    *       .      *       to     blog@'192.168.30.%';
               授权   权限         库信息     表信息           用户       主机域

# 对数据库和表同时进行授权方法
MySQL&gt; grant  all  on   *.*
-- 表示对所有的数据库和所有的表进行授权
MySQL&gt; grant  all  on   oldboy.*
-- 表示对指定的数据库中所有的表进行授权
MySQL&gt; grant  all  on   oldboy.t1
-- 表示对指定的数据库中指定的表进行授权
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>具体授权权限操作步骤：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>MySQL&gt; grant  all  on   * . *   to   oldgirl@'192.168.30.%';
MySQL&gt; grant  Insert,Delete,Update,Select  on   * . *   to   oldboy@'192.168.30.%';

# 创建远程特权管理用户（练习）
MySQL &gt; create user root@'10.0.0.%' identified by '123456';
MySQL &gt; grant all on *.* to root@'10.0.0.%'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>具体回收权限操作步骤：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>mysql&gt; grant  insert,update,delete,select  on   * . *   to   oldbaby@'192.168.30.%';
Query OK, 0 rows affected (0.00 sec)
-- 数据库服务用户授权操作

mysql&gt; show grants for oldbaby@'192.168.30.%';
+-----------------------------------------------------------------------------------------------------------+
| Grants for oldbaby@192.168.30.%                                                                                     |
+-----------------------------------------------------------------------------------------------------------+
| GRANT SELECT, INSERT, UPDATE, DELETE ON *.* TO `oldbaby`@`192.168.30.%`       |
+-----------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)
-- 数据库服务用户权限授权成功

mysql&gt; revoke delete on *.* from oldbaby@'192.168.30.%';
Query OK, 0 rows affected (0.00 sec)
-- 数据库服务用户回收权限

mysql&gt; show grants for oldbaby@'192.168.30.%';
+-----------------------------------------------------------------+
| Grants for oldbaby@192.168.30.%                                 |
+-----------------------------------------------------------------+
| GRANT SELECT, INSERT, UPDATE ON *.* TO `oldbaby`@`192.168.30.%` |
+-----------------------------------------------------------------+
1 row in set (0.00 sec)
-- 数据库服务用户权限回收成功
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>02 查看数据库服务用户权限</strong></p> <p>当用户授权操作完毕后，可以对授权的用户进行查看确认：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; show grants for xiaoQ@'192.168.30.%';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="课件配图资料/03章节-图示07-数据库用户权限管理.png" style="zoom:100%;"> <p>授权操作实践过程：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>#  数据库用户权限设置实践
[root@oldboy ~]# mysql -uroot -poldboy123
MySQL&gt; grant all on *.* to blog@'192.168.30.%';
-- 授权blog作为管理员，但是不具有创建用户权利
MySQL&gt; flush privileges;
-- blog@'192.168.30.%' 权限，就相当于管理员，但是缺少一个创建用户权限

# 数据库用户权限设置查看
MySQL&gt; show grants for blog@'192.168.30.%';
--再查看发现权限变化ALL PRIVILEGES，重新登录数据库可以对数据库操作。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>企业生产情况授权思路：</strong></p> <p>企业生产库表授权一定要更小，最小的授权最大的安全，给业务用户常规授权，包含对内容的增删改查；</p> <table><thead><tr><th>序号</th> <th>权限</th> <th>互联网应用</th></tr></thead> <tbody><tr><td>01</td> <td>SELECT	查询数据</td> <td>访问网站页面时，表示浏览查看数据信息；</td></tr> <tr><td>02</td> <td>INSERT	插入数据</td> <td>访问网站页面时，表示发表文章数据信息；</td></tr> <tr><td>03</td> <td>UPDATE  修改数据</td> <td>访问网站页面时。表示修改文章数据信息；</td></tr> <tr><td>04</td> <td>DELETE  删除数据</td> <td>访问网站页面时，表示删除文章数据信息；</td></tr></tbody></table> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 生产常规授权实践
MySQL&gt; create database bbs; 
-- 创建数据库操作
MySQL&gt; create user bbs@'192.168.56.%' identified by '123'; 
-- 创建管理数据库用户
MySQL&gt; grant insert,select,update,delete on bbs.* to bbs@'192.168.56.%'; 
-- 进行管理用户授权

# 授权等价于root管理用户
MySQL&gt; grant all on *.* to oldboy@'localhost' identified by 'oldboy123' with grant option;
MySQL&gt; flush privileges;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>特殊数据库权限授权方法：</strong></p> <p>进行用户权限授权情况一：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 授权命令语法格式
create user 'user'@'ip' identified by 'password';
grant SELECT on op_db.* to 'user'@'ip' with grant option;

# 授权命令实际应用
create user 'root'@'127.0.0.1' identified by '****';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'127.0.0.1' WITH GRANT OPTION;
flush privileges;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>进行用户权限授权情况二：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>grant SELECT on op_db.* to 'user'@'ip' identified by 'password' with grant option;
flush privileges;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>说明：WITH GRANT OPTION 这个选项表示该管理用户可以将自己拥有的授权权限授权给别人。</p></blockquote> <p>经常有人在创建操作用户的时候不指定WITH GRANT OPTION选项，导致后来该用户不能使用GRANT命令创建用户；</p> <p>或者给其它用户授权。如果不想这个用户有这个grant的权限，可以不加这句；</p> <h3 id="_4-数据库服务连接管理"><a href="#_4-数据库服务连接管理" class="header-anchor">#</a> 4. 数据库服务连接管理</h3> <p>在对数据库服务进行连接管理操作时，是可以基于两种网络连接方式：</p> <p>方式一：利用socket建立远程连接（unix 套接字文件连接）</p> <p>利用此方法建立数据库服务的连接，只能用于建立本地数据库服务的连接；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 套接字文件信息定义：
[root@xiaoQ-01 ~]# cat /etc/my.cnf 
[mysql]
socket=/tmp/mysql.sock
-- 指定数据库服务加载的套接字文件路径信息
[mysqld]
socket=/tmp/mysql.sock
-- 指定数据库服务加载的套接字文件路径信息

# 利用套接字文件建立数据库服务连接
[root@oldboy ~]# mysql -uroot -poldboy123 -S /tmp/mysql.sock
-- -S指定socket的信息可以省略，因为在数据库服务配置文件的客户端已经配置过了
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>说明：需要在数据库服务中授权localhost用户，才能实现采用socket方式登录操控数据库服务</p></blockquote> <p>方式二：利用TCP/IP建立远程连接（网络地址与端口）</p> <p>利用此方法建立数据库服务的连接，可以用于建立远程数据库服务的连接；</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 利用TCP/IP建立数据库服务连接
[root@oldboy ~]# mysql -uroot -poldboy123 -h 192.168.30.101 -P3306 -S /var/lib/mysql/mysql.sock
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>说明：需要在数据库服务中授权网络白名单用户，才能实现采用TCP/IP方式登录操控数据库服务</p></blockquote> <p><strong>数据库服务连接方式特殊说明：</strong></p> <p>当数据服务中用户创建设置完毕后，就可以实现利用指定用户身份连接登录管理数据服务，具体连接操作如下：</p> <ul><li><strong>执行命令操作连接登录数据库服务：（内置客户端工具连接）</strong></li></ul> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 本机连接数据库服务：
[root@oldboy ~]# mysql -ublog -poldboy123 
[root@oldboy ~]# mysql -uroot -poldboy123 
-- 以上连接方式等价于，以下长格式命令登录方式
[root@oldboy ~]# mysql -uroot -poldboy123 -hlocalhost -P3306 -S /var/lib/mysql/mysql.sock
--- 进行本地连接时，hlocalhost -P3306 -S /var/lib/mysql/mysql.sock可以省略

# 远程连接数据库服务：
[root@oldboy ~]# mysql -uroot -poldboy123 -h192.168.30.101 -P3306 -S /var/lib/mysql/mysql.sock
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><strong>软件终端操作连接登录数据库服务：</strong></li></ul> <p>利用Navicat数据库客户端远程软件，实现远程连接管理数据库服务；</p> <p>数据库远程连接客户端安装部署：</p> <p>由于Navicat各个产品类型有很多，我这里以“<strong>Navicat 15 for MySQL</strong>”版本为示例。</p> <p>如果你是其它的Navicat产品，操作步骤以及原理都是相同的，无用担心。</p> <p>步骤一：下载数据库管理软件</p> <p>下载地址连接：https://pan.baidu.com/s/1xuTIQ9bK36sWwCgLIS_6Gg</p> <p>下载提取编码：gn21</p> <p>步骤二：安装数据库管理软件</p> <p>将下载好的Navicat程序包解压缩后，双击安装包 <code>navicat150_premium_cs_x64.exe</code></p> <img src="课件配图资料/03章节-图示18-数据库用户连接管理.png" style="zoom:100%;"> <p>点击下一步，勾选同意，选择安装路径，进行安装即可</p> <p><img src="课件配图资料/03章节-图示19-数据库用户连接管理.png" style="zoom:100%;"> <img src="课件配图资料/03章节-图示20-数据库用户连接管理.png" style="zoom:100%;"></p> <p><img src="课件配图资料/03章节-图示21-数据库用户连接管理.png" style="zoom:100%;"> <img src="课件配图资料/03章节-图示23-数据库用户连接管理.png" style="zoom:100%;"></p> <p><img src="课件配图资料/03章节-图示24-数据库用户连接管理.png" style="zoom:99%;"> <img src="课件配图资料/03章节-图示25-数据库用户连接管理.png" style="zoom:100%;"></p> <p>步骤三：激活数据库管理软件</p> <p>下载激活软件，断网即可进行激活，激活软件Navicat_Keygen_Patch(以管理员身份运行，并在运行前将杀毒软件关闭)；</p> <p>安装Navicat后得首先打开注册机 生成注册码后再打开Navicat ，点手动激活，复制请求码再生成激活码。</p> <p>重点中的重点就是得先打开注册机 <code>Navicat Keygen Patch v5.6.0 DFoX.exe</code>，再打开Navicat。</p> <img src="课件配图资料/03章节-图示18-数据库用户连接管理.png" style="zoom:100%;"> <p>利用破解激活软件加载安装好的navicat程序；</p> <p><img src="课件配图资料/03章节-图示26-数据库用户连接管理.png" style="zoom:100%;"><img src="课件配图资料/03章节-图示27-数据库用户连接管理.png" style="zoom:100%;"></p> <p>生成及复制注册码，然后打开navicat程序进行注册，首次打开navicat程序会弹出下述界面，选择注册；</p> <p><img src="课件配图资料/03章节-图示28-数据库用户连接管理.png" style="zoom:100%;"> <img src="课件配图资料/03章节-图示29-数据库用户连接管理.png" style="zoom:100%;"></p> <p>将复制的注册码进行填入，点击激活，然后选择手动激活</p> <img src="课件配图资料/03章节-图示30-数据库用户连接管理.png" style="zoom:100%;"> <img src="课件配图资料/03章节-图示31-数据库用户连接管理.png" style="zoom:100%;"> <p>会产生请求码，将请起码复制到激活软件中，生成激活码；点击generate生成激活码，复制激活码，点击激活；</p> <img src="课件配图资料/03章节-图示32-数据库用户连接管理.png" style="zoom:100%;"> <p>以上操作步骤一切正确，即可完成破解激活过程，并显示以下信息：</p> <img src="课件配图资料/03章节-图示33-数据库用户连接管理.png" style="zoom:100%;"> <p>补充说明：若以上破解激活过程失败，可能的原因有以下几点：</p> <p>01 可能需要先将网络关闭，以及杀入软件程序进行关闭；</p> <p>02 如果在已经断网的情况下，你以前装过这个软件，需要彻底卸载，重新安装Premium，重新激活，</p> <ul><li><p>[ ] 控制面板卸载Premium；</p></li> <li><p>[ ] 删除程序目录数据：D:\Program Files\PremiumSoft\Navicat Premium 15</p></li> <li><p>[ ] 删除系统用户数据：C:\Users\用户名\Documents\Navicat</p></li> <li><p>[ ] 清理注册表信息：通过win+r，输入regedit打开注册表。找到计算机\HKEY_CURRENT_USER\Software\PremiumSoft</p> <p>将PremiumSoft全部删除即可</p></li></ul> <p>03 重新安装之后，首先不要打开navicat客户端，而是直接打开激活软件，直接点patch；</p> <p>​     如果出现cracked！表示成功，打开navicat客户端将激活码复制至客户端，再按照步骤操作即可。</p> <p>04 如果重新安装后还出现问题的话，无需再次卸载，重新点击安装包重新安装即可，再按照上述3的描述进行激活即可</p> <p>参考资料链接：https://zhuanlan.zhihu.com/p/404086701</p> <p>数据库远程连接客户端连接应用：</p> <p>步骤一：需要建立远程连接数据库服务</p> <p>利用Navicat数据库客户端远程软件，实现远程连接管理数据库服务；</p> <p>数据库远程连接客户端下载链接：</p> <img src="课件配图资料/03章节-图示08-数据库用户连接管理.png" style="zoom:100%;"> <blockquote><p>说明：在连接数据库服务时，选择好指定的数据库服务类型，例如：mysql mariadb oracle等。</p></blockquote> <p>步骤二：连接建立后进行基本操作管理</p> <p>可以实现创建新的数据库；</p> <img src="课件配图资料/03章节-图示11-数据库用户连接管理.png" style="zoom:100%;"> <p>可以实现创建新的数据表；</p> <img src="课件配图资料/03章节-图示13-数据库用户连接管理.png" style="zoom:100%;"> <img src="课件配图资料/03章节-图示14-数据库用户连接管理.png" style="zoom:100%;"> <p>可以实现创建新的数据项；</p> <img src="课件配图资料/03章节-图示15-数据库用户连接管理.png" style="zoom:100%;"> <ul><li><strong>程序代码操作连接登录数据库服务：</strong></li></ul> <p>根据不同程序开发语言，可以利用对应的数据库连接驱动程序，并配合相应语言的数据库连接函数，也可以实现与数据库建立连接；</p> <p>从而实现业务动态访问与应用数据库服务。下表中内容信息为MySQL官方推荐的不同开发语言连接数据库服务的驱动信息；</p> <table><thead><tr><th>序号</th> <th>开发语言</th> <th>连接数据库驱动程序</th></tr></thead> <tbody><tr><td>01</td> <td>python</td> <td>连接数据库驱动-pymysql</td></tr> <tr><td>02</td> <td>golang</td> <td>连接数据库驱动-gomysql</td></tr> <tr><td>03</td> <td>java</td> <td>连接数据库驱动-jar</td></tr> <tr><td>04</td> <td>php</td> <td>连接数据库驱动-phpmysql</td></tr></tbody></table> <blockquote><p>说明：由于此部分内容主要涉及开发应用管理数据库，与运维管理数据库关联不大，所以不作为重点内容讲解。</p></blockquote> <p>不同语言程序代码连接数据库服务驱动：https://dev.mysql.com/downloads/</p> <img src="课件配图资料/03章节-图示16-数据库用户连接管理.png" style="zoom:100%;"> <p>数据库服务连接管理方式逻辑图：</p> <img src="课件配图资料/03章节-图示17-数据库用户连接管理.png" style="zoom:100%;"> <h3 id="_5-数据库服务配置管理"><a href="#_5-数据库服务配置管理" class="header-anchor">#</a> 5. 数据库服务配置管理</h3> <p>数据库服务本身是具有很多配置操作功能的，主要是在某些场景下，根据使用者的业务需求不同；</p> <p>可以让数据库服务程序启动后，具备一些定制化的功能应用，具体数据库功能定制化方法如下：</p> <p><strong>初始化配置方式一：源码安装数据库服务</strong></p> <p>数据库服务源码安装准备阶段：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 下载数据库服务软件程序（源码程序）
wget https://downloads.mysql.com/archives/get/p/23/file/mysql-8.0.12.tar.gz
wget https://downloads.mysql.com/archives/get/p/23/file/mysql-boost-8.0.12.tar.gz
-- 下载链接地址：https://dev.mysql.com/downloads/mysql/

# 处理数据库服务软件依赖
yum -y install wget cmake gcc gcc-c++ ncurses ncurses-devel libaio-devel openssl openssl-devel

# 解压数据库服务软件程序
tar xf mysql-8.0.12.tar.gz
tar zxf mysql-boost-8.0.12.tar.gz -C /usr/local/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>数据库服务源码安装环境创建：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 创建数据库服务管理用户
useradd mysql -s /sbin/nologin

# 创建数据库服务所需目录
mkdir -p /usr/local/mysql8.0
-- 数据库服务程序数据存储目录
mkdir -p /data/mysql8.0/log
-- 数据库服务日志存储目录
chown -R mysql:mysql /data/mysql8.0/
chown -R mysql:mysql /usr/local/mysql8.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>数据库服务源码编译安装过程：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 数据库服务编译安装配置过程（初始化过程）
cd /usr/local/src/mysql-8.0.12
cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql8.0 -DMYSQL_DATADIR=/usr/local/mysql/data -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/usr/local/mysql-8.0.12/ -DSYSCONFDIR=/etc -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DWITH_FEDERATED_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_EMBEDDED_SERVER=1 -DENABLE_DTRACE=0 -DENABLED_LOCAL_INFILE=1 -DDEFAULT_CHARSET=utf8mb4

# 数据库服务编译安装部署过程
make &amp;&amp; make install 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>数据库服务源码程序启动配置：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>vim /etc/my.cnf
... 部分信息省略 ...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>更详细数据库服务源码部署安装过程参考链接：http://www.hzhcontrols.com/new-641636.html</p> <p><strong>初始化配置方式二：修改数据库配置文件</strong></p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 修改数据库配置文件参数，定义数据库服务功能
vim /etc/my.cnf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>配置文件加载应用读取顺序：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 通过数据库服务启动命令获取加载文件顺序
mysqld --help --verbose|grep my.cnf
/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf ~/.my.cnf 
-- 数据库服务加载配置文件顺序：
-- /etc/my.cnf --&gt;  /etc/mysql/my.cnf --&gt; /usr/local/mysql/etc/my.cnf --&gt; ~/.my.cnf 
  
# 数据库服务加载特定路径中的配置文件信息
配置文件特定路径举例：/opt/my.cnf, /data/3306/my.cnf, /data/3307/my.cnf, /data/3308/my.cnf
mysqld --defaults-file=/opt/my.cnf &amp;
mysqld_safe --defaults-file=/opt/my.cnf &amp;
-- 利用启动脚本加载参数信息，手工指定加载配置文件的路径位置信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>配置文件书写格式规范说明：</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 配置文件模板信息参考
cat /etc/my.cnf    
[mysql] 
-- 获取全部配置参数 mysql --verbose --help
socket=/tmp/mysql.sock
[mysqld] 
 -- 获取全部配置参数 mysqld --verbose --help
port=3306
server_id=6
user=mysql
basedir=/usr/local/mysql
datadir=/data/3306/data
socket=/tmp/mysql.sock
-- 服务端常见标签类型：[mysqld]  [mysql_safe]  [server]
-- 客户端常用标签类型：[mysql] [mysqldump] [client]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>配置文件信息结构说明：</p> <table><thead><tr><th>序号</th> <th>配置部分</th> <th>配置信息说明</th></tr></thead> <tbody><tr><td>01</td> <td>带有[]部分</td> <td>表示配置标签部分，用于区分不同程序运行的参数，包含服务器端和客户端标签信息</td></tr> <tr><td></td> <td><code>[服务端标签]</code></td> <td>负责数据库服务端运行参数信息设定</td></tr> <tr><td></td> <td><code>[客户端标签]</code></td> <td>影响客户端与服务连接参数信息设定（只影响本地客户端连接，不影响远程客户端连接）</td></tr> <tr><td>02</td> <td>不带[]部分</td> <td>表示配置功能参数部分</td></tr></tbody></table> <p>配置文件信息内容说明：</p> <table><thead><tr><th>序号</th> <th>配置信息</th> <th>解释说明</th></tr></thead> <tbody><tr><td></td> <td>[mysqld]</td> <td>服务端配置标签</td></tr> <tr><td>01</td> <td>user=mysql</td> <td>表示数据库服务管理用户信息</td></tr> <tr><td>02</td> <td>basedir=/usr/local/mysql</td> <td>表示数据库服务程序安装路径</td></tr> <tr><td>03</td> <td>datadir=/data/3306/data</td> <td>表示数据库服务数据存储路径</td></tr> <tr><td>04</td> <td>server_id=6</td> <td>表述数据库服务标识节点编号（主从复制的唯一编号）</td></tr> <tr><td>05</td> <td>port=3306</td> <td>表示数据库服务启动端口设定</td></tr> <tr><td>06</td> <td>socket=/tmp/mysql.sock</td> <td>表示数据库服务本地连接文件（套接字文件）</td></tr> <tr><td>07</td> <td>default_authentication_plugin=mysql_native_password</td> <td>表示数据库服务加密插件设定，用于向下兼容</td></tr> <tr><td></td> <td>[mysql]</td> <td>客户端配置标签（本地连接数据库生效）</td></tr> <tr><td>01</td> <td>socket=/tmp/mysql.sock</td> <td>表示数据库服务本地连接文件（套接字文件）</td></tr></tbody></table> <p><strong>初始化配置方式三：设置数据库启动命令</strong></p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 利用数据库服务命令启动服务加参数信息，完成初始化定制操作
mysqld_safe --skip-grant-tables --skip-networking &amp;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>说明：在命令加参数信息完成的初始化过程，是会优于配置文件中加载的配置参数信息</p></blockquote> <h3 id="_6-数据库服务实例管理"><a href="#_6-数据库服务实例管理" class="header-anchor">#</a> 6. 数据库服务实例管理</h3> <p>在数据库服务运行过程中，是可以存在多实例运行概念的，什么是数据库服务的多实例呢？</p> <p>一般在一个系统环境中，可以运行多个相同的服务程序信息，并且产生不同的进程和网络端口信息，就可以称为多实例概念；</p> <p>在数据库服务运行过程中，也可以启动多个数据库服务程序，产生多个数据库服务进程和不同的服务端口，形成多实例；</p> <p>多个数据库服务实例信息中存储的数据库信息是相互隔离和独立的，并且利用数据库服务多实例可以实现测试与分布式架构需求；</p> <p>企业数据库服务多实例应用架构设计：（主要用于支持多套业务场景）</p> <img src="课件配图资料/03章节-图示34-数据库服务实例管理.png" style="zoom:100%;"> <p><strong>数据库服务多实例创建作用目的：</strong></p> <p>数据库多实例是指在同一台服务器上运行多个独立的数据库实例。</p> <p>每个实例都有自己的系统进程、内存结构、数据文件和日志文件，它们之间相互独立，互不干扰。</p> <ul><li><p>提高系统的可用性：</p> <p>多实例可以在同一台服务器上运行多个数据库，当其中一个实例出现故障时，其他实例仍然可以正常运行，从而提高了系统的可用性。</p></li> <li><p>提高系统整体性能：</p> <p>多实例可以充分利用服务器的硬件资源，如 CPU、内存、磁盘等，从而提高系统的性能。</p> <p>每个实例都可以独立地配置自己的缓存、连接池等参数，以满足不同的业务需求。</p></li> <li><p>简化系统日常管理：</p> <p>多实例可以将不同的业务数据隔离开来，方便系统管理。</p> <p>管理员可以对每个实例进行独立的备份、恢复、监控和维护，从而简化了系统管理的工作量。</p></li> <li><p>可以有效节约成本：</p> <p>多实例可以在同一台服务器上运行多个数据库，从而节约了硬件和软件成本。</p> <p>此外，多实例还可以减少系统之间的数据传输，提高了数据安全性。</p></li></ul> <p>总之，数据库多实例是一种有效的提高系统可用性、性能和管理效率的方法，特别适用于需要处理大量数据的企业级应用。</p> <p><strong>数据库服务多实例配置实现过程：</strong></p> <p>步骤一：多实例部署环境规划</p> <table><thead><tr><th>实例信息编号</th> <th>实例服务端口</th> <th>实例存储路径</th> <th>实例配置文件</th> <th>套接字文件</th></tr></thead> <tbody><tr><td>mysql-01</td> <td>端口信息：3307</td> <td>/data/3307/data</td> <td>/data/3307/data/my.cnf</td> <td>/tmp/mysql3307.sock</td></tr> <tr><td>mysql-02</td> <td>端口信息：3308</td> <td>/data/3308/data</td> <td>/data/3308/data/my.cnf</td> <td>/tmp/mysql3308.sock</td></tr> <tr><td>mysql-03</td> <td>端口信息：3309</td> <td>/data/3309/data</td> <td>/data/3309/data/my.cnf</td> <td>/tmp/mysql3309.sock</td></tr></tbody></table> <p>步骤二：多实例部署环境准备</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 创建数据库多实例所需目录
[root@xiaoQ-01 ~]# mkdir -p /data/330{7..9}/data

# 授权数据库多实例所需权限
[root@xiaoQ-01 ~]# chown -R mysql. /data/*
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>步骤三：多实例初始数据信息</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code># 多实例初始化配置前调整操作
[root@xiaoQ-01 ~]# mv /etc/my.cnf /tmp

# 多实例初始化操作过程
mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/data/3307/data
mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/data/3308/data
mysqld --initialize-insecure --user=mysql --basedir=/usr/local/mysql --datadir=/data/3309/data
-- 初始化完毕后可以检查数据库目录中，是否已经存在了数据库初始化产生的数据文件信息；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>步骤四：多实例配置文件编写</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>[root@xiaoQ-01 ~]# vim /data/3307/data/my.cnf
[mysql]
socket=/tmp/mysql3307.sock
[mysqld]
user=mysql
port=3307
basedir=/usr/local/mysql
datadir=/data/3307/data
socket=/tmp/mysql3307.sock

[root@xiaoQ-01 ~]# vim /data/3308/data/my.cnf
[mysqld]
user=mysql
port=3308
basedir=/usr/local/mysql
datadir=/data/3308/data
socket=/tmp/mysql3308.sock

[root@xiaoQ-01 ~]# vim /data/3309/data/my.cnf
[mysqld]
user=mysql
port=3309
basedir=/usr/local/mysql
datadir=/data/3309/data
socket=/tmp/mysql3309.sock
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>步骤五：多实例服务运行启动</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>[root@xiaoQ-01 ~]# mysqld_safe --defaults-file=/data/3307/data/my.cnf &amp;
[root@xiaoQ-01 ~]# mysqld_safe --defaults-file=/data/3308/data/my.cnf &amp;
[root@xiaoQ-01 ~]# mysqld_safe --defaults-file=/data/3309/data/my.cnf &amp;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>步骤六：多实例服务端口查看</p> <div class="language-tiki wiki line-numbers-mode"><pre class="language-text"><code>[root@xiaoQ-01 ~]# ss -lntup|grep mysqld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#一-数据库存储服务概述" class="sidebar-link reco-side-一-数据库存储服务概述" data-v-b57cc07c>一，数据库存储服务概述</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_1-数据库知识引入说明" class="sidebar-link reco-side-_1-数据库知识引入说明" data-v-b57cc07c>1. 数据库知识引入说明</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_2-数据库服务概念介绍" class="sidebar-link reco-side-_2-数据库服务概念介绍" data-v-b57cc07c>2. 数据库服务概念介绍</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_3-数据库服务分类说明" class="sidebar-link reco-side-_3-数据库服务分类说明" data-v-b57cc07c>3. 数据库服务分类说明</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_4-数据库服务版本应用" class="sidebar-link reco-side-_4-数据库服务版本应用" data-v-b57cc07c>4. 数据库服务版本应用</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_5-数据库服务优势特点" class="sidebar-link reco-side-_5-数据库服务优势特点" data-v-b57cc07c>5. 数据库服务优势特点</a></li><li class="level-2" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#二-数据库服务安装部署" class="sidebar-link reco-side-二-数据库服务安装部署" data-v-b57cc07c>二，数据库服务安装部署</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_1-数据库服务安装方式" class="sidebar-link reco-side-_1-数据库服务安装方式" data-v-b57cc07c>1. 数据库服务安装方式</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_2-数据库服务程序下载" class="sidebar-link reco-side-_2-数据库服务程序下载" data-v-b57cc07c>2. 数据库服务程序下载</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_3-数据库服务安装过程" class="sidebar-link reco-side-_3-数据库服务安装过程" data-v-b57cc07c>3. 数据库服务安装过程</a></li><li class="level-2" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#三-数据库服务基础管理" class="sidebar-link reco-side-三-数据库服务基础管理" data-v-b57cc07c>三，数据库服务基础管理</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_1-数据库服务密码管理" class="sidebar-link reco-side-_1-数据库服务密码管理" data-v-b57cc07c>1. 数据库服务密码管理</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_2-数据库服务用户管理" class="sidebar-link reco-side-_2-数据库服务用户管理" data-v-b57cc07c>2. 数据库服务用户管理</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_3-数据库服务权限管理" class="sidebar-link reco-side-_3-数据库服务权限管理" data-v-b57cc07c>3. 数据库服务权限管理</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_4-数据库服务连接管理" class="sidebar-link reco-side-_4-数据库服务连接管理" data-v-b57cc07c>4. 数据库服务连接管理</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_5-数据库服务配置管理" class="sidebar-link reco-side-_5-数据库服务配置管理" data-v-b57cc07c>5. 数据库服务配置管理</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/44-dba/day01/day01.html#_6-数据库服务实例管理" class="sidebar-link reco-side-_6-数据库服务实例管理" data-v-b57cc07c>6. 数据库服务实例管理</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/devops/public/assets/js/app.3dc7bff5.js" defer></script><script src="/devops/public/assets/js/110.694f4de6.js" defer></script><script src="/devops/public/assets/js/1.774fca24.js" defer></script><script src="/devops/public/assets/js/167.63082713.js" defer></script>
  </body>
</html>
