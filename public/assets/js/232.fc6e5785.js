(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{14917:function(a,e,s){"use strict";s.r(e);var t=s(2),n=Object(t.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"部署说明-📚"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署说明-📚"}},[a._v("#")]),a._v(" 部署说明 📚")]),a._v(" "),e("p",[a._v("本脚本部署的EFK是 "),e("code",[a._v("单机es+filebeat+kibana")]),a._v(" 采集日志的模式。")]),a._v(" "),e("p",[a._v("👏👏👏 "),e("em",[e("strong",[a._v("kibana自带汉化哦~~~")])])]),a._v(" "),e("p",[a._v("es和kibana采用docker-compose部署，部署在同一台上；"),e("br"),a._v("\nfilebeat可单独部署，也可以和"),e("code",[a._v("es+kibana")]),a._v("部署在同一台上。如果单独部署，需要在/etc/hosts中添加")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("es+kibana的ip    kibana  elasticsearch\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("EFK部署在同一台时的目录结构")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(".\n├── docker-compose.yml\n├── elasticsearch\n│   └── Dockerfile\n├── filebeat\n│   └── filebeat.yml\n└── start-filebeat.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("h2",{attrs:{id:"启动-🚀"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-🚀"}},[a._v("#")]),a._v(" 启动 🚀")]),a._v(" "),e("h3",{attrs:{id:"_1、elasticsearch-单节点-与kibana"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、elasticsearch-单节点-与kibana"}},[a._v("#")]),a._v(" 1、Elasticsearch（单节点）与Kibana")]),a._v(" "),e("p",[a._v("使用docker-compose部署，分为带es-head和不带es-head的版本，不管选择哪一个，都需要将yml文件改为 "),e("strong",[a._v("docker-compose.yml")]),a._v(" ‼️"),e("br"),a._v("\n如果不安装es-head，可以使用kibana面板中的工具管理es索引。")]),a._v(" "),e("p",[a._v("启动命令：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('[ -f /etc/timezone ] || echo "Asia/Shanghai" > /etc/timezone\ndocker-compose up -d\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("h3",{attrs:{id:"_2、filebeat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、filebeat"}},[a._v("#")]),a._v(" 2、Filebeat")]),a._v(" "),e("p",[a._v("每个节点需要部一个，为了连接到es+kibana，filebeat使用主机网络，这样最方便。启动命令会将filebeat的配置文件写入，如果生成了配置文件，那么下次启动时不会覆盖现有的配置文件，所以放心的修改吧。😄")]),a._v(" "),e("p",[a._v("启动命令：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("./start-filebeat.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);