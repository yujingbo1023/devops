<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1，监控的重要性 | devops</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/devops/public/favicon.ico">
    <meta name="description" content="快来玩devops">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/devops/public/assets/css/0.styles.4a69f283.css" as="style"><link rel="preload" href="/devops/public/assets/js/app.7d569ec8.js" as="script"><link rel="preload" href="/devops/public/assets/js/118.ceed6ab6.js" as="script"><link rel="preload" href="/devops/public/assets/js/1.774fca24.js" as="script"><link rel="preload" href="/devops/public/assets/js/35.69f1e115.js" as="script"><link rel="prefetch" href="/devops/public/assets/js/10.4b3dc242.js"><link rel="prefetch" href="/devops/public/assets/js/100.7e9737a0.js"><link rel="prefetch" href="/devops/public/assets/js/101.4f407383.js"><link rel="prefetch" href="/devops/public/assets/js/102.88df873d.js"><link rel="prefetch" href="/devops/public/assets/js/103.232cdd53.js"><link rel="prefetch" href="/devops/public/assets/js/104.63edad81.js"><link rel="prefetch" href="/devops/public/assets/js/105.94b75f04.js"><link rel="prefetch" href="/devops/public/assets/js/106.6373983a.js"><link rel="prefetch" href="/devops/public/assets/js/107.67cb9c57.js"><link rel="prefetch" href="/devops/public/assets/js/108.0e591817.js"><link rel="prefetch" href="/devops/public/assets/js/109.441c2844.js"><link rel="prefetch" href="/devops/public/assets/js/11.06fc3f92.js"><link rel="prefetch" href="/devops/public/assets/js/110.39a7ec3f.js"><link rel="prefetch" href="/devops/public/assets/js/111.fded3579.js"><link rel="prefetch" href="/devops/public/assets/js/112.51b1c07d.js"><link rel="prefetch" href="/devops/public/assets/js/113.cbde1400.js"><link rel="prefetch" href="/devops/public/assets/js/114.54c309a6.js"><link rel="prefetch" href="/devops/public/assets/js/115.c26a1569.js"><link rel="prefetch" href="/devops/public/assets/js/116.4255514c.js"><link rel="prefetch" href="/devops/public/assets/js/117.9d1c6533.js"><link rel="prefetch" href="/devops/public/assets/js/119.e3285804.js"><link rel="prefetch" href="/devops/public/assets/js/12.63c3c1f3.js"><link rel="prefetch" href="/devops/public/assets/js/120.cf720ee7.js"><link rel="prefetch" href="/devops/public/assets/js/121.dbfa8623.js"><link rel="prefetch" href="/devops/public/assets/js/122.e7cdec31.js"><link rel="prefetch" href="/devops/public/assets/js/123.09b7084c.js"><link rel="prefetch" href="/devops/public/assets/js/124.de003a1c.js"><link rel="prefetch" href="/devops/public/assets/js/125.a50dcdf1.js"><link rel="prefetch" href="/devops/public/assets/js/126.88d2a88b.js"><link rel="prefetch" href="/devops/public/assets/js/127.fb481961.js"><link rel="prefetch" href="/devops/public/assets/js/128.f9790158.js"><link rel="prefetch" href="/devops/public/assets/js/129.ca6d8d1e.js"><link rel="prefetch" href="/devops/public/assets/js/13.ae18e270.js"><link rel="prefetch" href="/devops/public/assets/js/130.d4397eb5.js"><link rel="prefetch" href="/devops/public/assets/js/131.8a8751be.js"><link rel="prefetch" href="/devops/public/assets/js/132.e98fc40e.js"><link rel="prefetch" href="/devops/public/assets/js/133.46139fda.js"><link rel="prefetch" href="/devops/public/assets/js/134.76167714.js"><link rel="prefetch" href="/devops/public/assets/js/135.5adcd3ae.js"><link rel="prefetch" href="/devops/public/assets/js/136.31fabd54.js"><link rel="prefetch" href="/devops/public/assets/js/137.770dcb44.js"><link rel="prefetch" href="/devops/public/assets/js/138.d4d75a71.js"><link rel="prefetch" href="/devops/public/assets/js/139.9b2c0400.js"><link rel="prefetch" href="/devops/public/assets/js/14.846ec1ae.js"><link rel="prefetch" href="/devops/public/assets/js/140.ba28df97.js"><link rel="prefetch" href="/devops/public/assets/js/141.c592e630.js"><link rel="prefetch" href="/devops/public/assets/js/142.1dcaafb9.js"><link rel="prefetch" href="/devops/public/assets/js/143.1f4482aa.js"><link rel="prefetch" href="/devops/public/assets/js/144.8079a63b.js"><link rel="prefetch" href="/devops/public/assets/js/145.ccd6ab9a.js"><link rel="prefetch" href="/devops/public/assets/js/146.8fea1826.js"><link rel="prefetch" href="/devops/public/assets/js/147.0cc3f908.js"><link rel="prefetch" href="/devops/public/assets/js/148.bd25ee49.js"><link rel="prefetch" href="/devops/public/assets/js/149.abbd5278.js"><link rel="prefetch" href="/devops/public/assets/js/15.4d3a65ab.js"><link rel="prefetch" href="/devops/public/assets/js/150.f8e586e7.js"><link rel="prefetch" href="/devops/public/assets/js/151.eb4608fb.js"><link rel="prefetch" href="/devops/public/assets/js/152.6fe48680.js"><link rel="prefetch" href="/devops/public/assets/js/153.fb81e647.js"><link rel="prefetch" href="/devops/public/assets/js/154.1dd41cd6.js"><link rel="prefetch" href="/devops/public/assets/js/155.7386b9d0.js"><link rel="prefetch" href="/devops/public/assets/js/156.905e683b.js"><link rel="prefetch" href="/devops/public/assets/js/157.9e6bcc59.js"><link rel="prefetch" href="/devops/public/assets/js/158.36be0417.js"><link rel="prefetch" href="/devops/public/assets/js/159.631e0344.js"><link rel="prefetch" href="/devops/public/assets/js/16.a8b5e9a2.js"><link rel="prefetch" href="/devops/public/assets/js/160.fda7f4b2.js"><link rel="prefetch" href="/devops/public/assets/js/161.b3c13652.js"><link rel="prefetch" href="/devops/public/assets/js/162.d7fe03d5.js"><link rel="prefetch" href="/devops/public/assets/js/163.09534a90.js"><link rel="prefetch" href="/devops/public/assets/js/164.7d75373f.js"><link rel="prefetch" href="/devops/public/assets/js/165.23f70364.js"><link rel="prefetch" href="/devops/public/assets/js/166.3d1cde51.js"><link rel="prefetch" href="/devops/public/assets/js/167.0dca6275.js"><link rel="prefetch" href="/devops/public/assets/js/168.71a8b2fd.js"><link rel="prefetch" href="/devops/public/assets/js/169.ee61c785.js"><link rel="prefetch" href="/devops/public/assets/js/17.0be8e72a.js"><link rel="prefetch" href="/devops/public/assets/js/170.fb4e3bc0.js"><link rel="prefetch" href="/devops/public/assets/js/171.4abe3ecb.js"><link rel="prefetch" href="/devops/public/assets/js/172.4104fd87.js"><link rel="prefetch" href="/devops/public/assets/js/173.355a3afc.js"><link rel="prefetch" href="/devops/public/assets/js/174.6b396fee.js"><link rel="prefetch" href="/devops/public/assets/js/175.a907bc60.js"><link rel="prefetch" href="/devops/public/assets/js/176.1b2086ee.js"><link rel="prefetch" href="/devops/public/assets/js/177.9fa24bdc.js"><link rel="prefetch" href="/devops/public/assets/js/178.5f5e1279.js"><link rel="prefetch" href="/devops/public/assets/js/179.ec4875a4.js"><link rel="prefetch" href="/devops/public/assets/js/18.b1b29ad5.js"><link rel="prefetch" href="/devops/public/assets/js/180.e6976024.js"><link rel="prefetch" href="/devops/public/assets/js/181.32906757.js"><link rel="prefetch" href="/devops/public/assets/js/182.09691c46.js"><link rel="prefetch" href="/devops/public/assets/js/183.00199713.js"><link rel="prefetch" href="/devops/public/assets/js/184.e0c72fe0.js"><link rel="prefetch" href="/devops/public/assets/js/185.67b6b9d4.js"><link rel="prefetch" href="/devops/public/assets/js/186.7045b54c.js"><link rel="prefetch" href="/devops/public/assets/js/187.4649fa5f.js"><link rel="prefetch" href="/devops/public/assets/js/188.796ce41e.js"><link rel="prefetch" href="/devops/public/assets/js/189.809ffb5e.js"><link rel="prefetch" href="/devops/public/assets/js/19.39c3a2ff.js"><link rel="prefetch" href="/devops/public/assets/js/190.83e3881c.js"><link rel="prefetch" href="/devops/public/assets/js/191.6b715782.js"><link rel="prefetch" href="/devops/public/assets/js/192.cf6a4017.js"><link rel="prefetch" href="/devops/public/assets/js/193.f98ae362.js"><link rel="prefetch" href="/devops/public/assets/js/194.5246dc3c.js"><link rel="prefetch" href="/devops/public/assets/js/195.428e9bf0.js"><link rel="prefetch" href="/devops/public/assets/js/196.d076a50c.js"><link rel="prefetch" href="/devops/public/assets/js/197.55c2ac67.js"><link rel="prefetch" href="/devops/public/assets/js/198.ed0cde4d.js"><link rel="prefetch" href="/devops/public/assets/js/199.dd2dc49f.js"><link rel="prefetch" href="/devops/public/assets/js/20.59cbe9ee.js"><link rel="prefetch" href="/devops/public/assets/js/200.afa56a7b.js"><link rel="prefetch" href="/devops/public/assets/js/201.44c3622b.js"><link rel="prefetch" href="/devops/public/assets/js/202.2c42452a.js"><link rel="prefetch" href="/devops/public/assets/js/203.8299dd5d.js"><link rel="prefetch" href="/devops/public/assets/js/204.de069d66.js"><link rel="prefetch" href="/devops/public/assets/js/205.5ab0783c.js"><link rel="prefetch" href="/devops/public/assets/js/206.74754152.js"><link rel="prefetch" href="/devops/public/assets/js/207.41f0d4bf.js"><link rel="prefetch" href="/devops/public/assets/js/208.0483952b.js"><link rel="prefetch" href="/devops/public/assets/js/209.1aca4a3b.js"><link rel="prefetch" href="/devops/public/assets/js/21.23a83f02.js"><link rel="prefetch" href="/devops/public/assets/js/210.d0341dbd.js"><link rel="prefetch" href="/devops/public/assets/js/211.72dd5390.js"><link rel="prefetch" href="/devops/public/assets/js/212.e59e466c.js"><link rel="prefetch" href="/devops/public/assets/js/213.1373aac1.js"><link rel="prefetch" href="/devops/public/assets/js/214.d307ec31.js"><link rel="prefetch" href="/devops/public/assets/js/215.4a0a213e.js"><link rel="prefetch" href="/devops/public/assets/js/216.81ad789b.js"><link rel="prefetch" href="/devops/public/assets/js/217.33796242.js"><link rel="prefetch" href="/devops/public/assets/js/218.23843efb.js"><link rel="prefetch" href="/devops/public/assets/js/219.623b1168.js"><link rel="prefetch" href="/devops/public/assets/js/22.58c6461b.js"><link rel="prefetch" href="/devops/public/assets/js/220.381ab176.js"><link rel="prefetch" href="/devops/public/assets/js/221.deb3d1a8.js"><link rel="prefetch" href="/devops/public/assets/js/222.96ec6a5e.js"><link rel="prefetch" href="/devops/public/assets/js/223.7954bc0b.js"><link rel="prefetch" href="/devops/public/assets/js/224.16208c8d.js"><link rel="prefetch" href="/devops/public/assets/js/225.b805f0e3.js"><link rel="prefetch" href="/devops/public/assets/js/226.d2669939.js"><link rel="prefetch" href="/devops/public/assets/js/227.e72b90c5.js"><link rel="prefetch" href="/devops/public/assets/js/228.d072128c.js"><link rel="prefetch" href="/devops/public/assets/js/229.69495a9e.js"><link rel="prefetch" href="/devops/public/assets/js/23.59f9044f.js"><link rel="prefetch" href="/devops/public/assets/js/230.9c66543d.js"><link rel="prefetch" href="/devops/public/assets/js/231.7ab60f29.js"><link rel="prefetch" href="/devops/public/assets/js/232.fc6e5785.js"><link rel="prefetch" href="/devops/public/assets/js/233.0a0d2736.js"><link rel="prefetch" href="/devops/public/assets/js/234.a49950b6.js"><link rel="prefetch" href="/devops/public/assets/js/235.71140234.js"><link rel="prefetch" href="/devops/public/assets/js/236.6b828578.js"><link rel="prefetch" href="/devops/public/assets/js/237.9549e649.js"><link rel="prefetch" href="/devops/public/assets/js/238.1657f6b5.js"><link rel="prefetch" href="/devops/public/assets/js/239.289ab239.js"><link rel="prefetch" href="/devops/public/assets/js/24.be9ada1f.js"><link rel="prefetch" href="/devops/public/assets/js/240.fc170ba3.js"><link rel="prefetch" href="/devops/public/assets/js/241.43426c9a.js"><link rel="prefetch" href="/devops/public/assets/js/242.8afb0c9d.js"><link rel="prefetch" href="/devops/public/assets/js/243.2fdaef18.js"><link rel="prefetch" href="/devops/public/assets/js/244.2d9089b1.js"><link rel="prefetch" href="/devops/public/assets/js/245.6b4f42e0.js"><link rel="prefetch" href="/devops/public/assets/js/246.9d904f58.js"><link rel="prefetch" href="/devops/public/assets/js/247.99c2e8c5.js"><link rel="prefetch" href="/devops/public/assets/js/248.c877bb00.js"><link rel="prefetch" href="/devops/public/assets/js/249.946e5fde.js"><link rel="prefetch" href="/devops/public/assets/js/25.d209b773.js"><link rel="prefetch" href="/devops/public/assets/js/250.57c4d59a.js"><link rel="prefetch" href="/devops/public/assets/js/251.9c50e024.js"><link rel="prefetch" href="/devops/public/assets/js/252.5e1e216a.js"><link rel="prefetch" href="/devops/public/assets/js/253.bca6a43e.js"><link rel="prefetch" href="/devops/public/assets/js/254.32f9a9e4.js"><link rel="prefetch" href="/devops/public/assets/js/255.aa4f14d3.js"><link rel="prefetch" href="/devops/public/assets/js/256.0c175cdf.js"><link rel="prefetch" href="/devops/public/assets/js/257.2e86393d.js"><link rel="prefetch" href="/devops/public/assets/js/258.5b4e2b8d.js"><link rel="prefetch" href="/devops/public/assets/js/259.9b5ea8a1.js"><link rel="prefetch" href="/devops/public/assets/js/26.37cff05a.js"><link rel="prefetch" href="/devops/public/assets/js/260.11200c5e.js"><link rel="prefetch" href="/devops/public/assets/js/261.b8c7584a.js"><link rel="prefetch" href="/devops/public/assets/js/262.a917d897.js"><link rel="prefetch" href="/devops/public/assets/js/263.47e5f082.js"><link rel="prefetch" href="/devops/public/assets/js/264.1da268c2.js"><link rel="prefetch" href="/devops/public/assets/js/265.6cfa0237.js"><link rel="prefetch" href="/devops/public/assets/js/266.b03f016c.js"><link rel="prefetch" href="/devops/public/assets/js/267.1abc3909.js"><link rel="prefetch" href="/devops/public/assets/js/27.17674ffe.js"><link rel="prefetch" href="/devops/public/assets/js/28.8675ef43.js"><link rel="prefetch" href="/devops/public/assets/js/29.1bbb3c84.js"><link rel="prefetch" href="/devops/public/assets/js/3.35a3f762.js"><link rel="prefetch" href="/devops/public/assets/js/30.e3c5f1e5.js"><link rel="prefetch" href="/devops/public/assets/js/31.e96cf53b.js"><link rel="prefetch" href="/devops/public/assets/js/32.6d39a578.js"><link rel="prefetch" href="/devops/public/assets/js/33.19fff795.js"><link rel="prefetch" href="/devops/public/assets/js/34.7d131903.js"><link rel="prefetch" href="/devops/public/assets/js/36.962c3523.js"><link rel="prefetch" href="/devops/public/assets/js/37.8a283b7c.js"><link rel="prefetch" href="/devops/public/assets/js/38.fcdfdbf3.js"><link rel="prefetch" href="/devops/public/assets/js/39.08499321.js"><link rel="prefetch" href="/devops/public/assets/js/4.66c9c5f3.js"><link rel="prefetch" href="/devops/public/assets/js/40.ecd69e9f.js"><link rel="prefetch" href="/devops/public/assets/js/41.991b6203.js"><link rel="prefetch" href="/devops/public/assets/js/42.56bacc28.js"><link rel="prefetch" href="/devops/public/assets/js/43.54713f51.js"><link rel="prefetch" href="/devops/public/assets/js/44.5aebcd50.js"><link rel="prefetch" href="/devops/public/assets/js/45.bde76db1.js"><link rel="prefetch" href="/devops/public/assets/js/46.9ccbd788.js"><link rel="prefetch" href="/devops/public/assets/js/47.00d25425.js"><link rel="prefetch" href="/devops/public/assets/js/48.ec5edda8.js"><link rel="prefetch" href="/devops/public/assets/js/49.c64c870e.js"><link rel="prefetch" href="/devops/public/assets/js/5.8e21f9d3.js"><link rel="prefetch" href="/devops/public/assets/js/50.38e1ea84.js"><link rel="prefetch" href="/devops/public/assets/js/51.1a911c4e.js"><link rel="prefetch" href="/devops/public/assets/js/52.92139cf1.js"><link rel="prefetch" href="/devops/public/assets/js/53.89b06a8f.js"><link rel="prefetch" href="/devops/public/assets/js/54.6c248a88.js"><link rel="prefetch" href="/devops/public/assets/js/55.45770749.js"><link rel="prefetch" href="/devops/public/assets/js/56.41b65466.js"><link rel="prefetch" href="/devops/public/assets/js/57.eaec9e9b.js"><link rel="prefetch" href="/devops/public/assets/js/58.a9a07b8c.js"><link rel="prefetch" href="/devops/public/assets/js/59.d7a5afc3.js"><link rel="prefetch" href="/devops/public/assets/js/6.9150baff.js"><link rel="prefetch" href="/devops/public/assets/js/60.66cf40bb.js"><link rel="prefetch" href="/devops/public/assets/js/61.e089eb14.js"><link rel="prefetch" href="/devops/public/assets/js/62.ce34e7ad.js"><link rel="prefetch" href="/devops/public/assets/js/63.c4dba709.js"><link rel="prefetch" href="/devops/public/assets/js/64.d2520c76.js"><link rel="prefetch" href="/devops/public/assets/js/65.ece2cc2e.js"><link rel="prefetch" href="/devops/public/assets/js/66.12cb968c.js"><link rel="prefetch" href="/devops/public/assets/js/67.c7ab28aa.js"><link rel="prefetch" href="/devops/public/assets/js/68.72df026a.js"><link rel="prefetch" href="/devops/public/assets/js/69.1951131c.js"><link rel="prefetch" href="/devops/public/assets/js/7.e4e8b6c2.js"><link rel="prefetch" href="/devops/public/assets/js/70.d8c73257.js"><link rel="prefetch" href="/devops/public/assets/js/71.ade4bf7c.js"><link rel="prefetch" href="/devops/public/assets/js/72.e48ba840.js"><link rel="prefetch" href="/devops/public/assets/js/73.3951cd3c.js"><link rel="prefetch" href="/devops/public/assets/js/74.cc4a2931.js"><link rel="prefetch" href="/devops/public/assets/js/75.65e448ff.js"><link rel="prefetch" href="/devops/public/assets/js/76.d13793b7.js"><link rel="prefetch" href="/devops/public/assets/js/77.6bb99700.js"><link rel="prefetch" href="/devops/public/assets/js/78.f306fed8.js"><link rel="prefetch" href="/devops/public/assets/js/79.47710d29.js"><link rel="prefetch" href="/devops/public/assets/js/8.5e170c36.js"><link rel="prefetch" href="/devops/public/assets/js/80.dddd989f.js"><link rel="prefetch" href="/devops/public/assets/js/81.cec9077e.js"><link rel="prefetch" href="/devops/public/assets/js/82.79a7325c.js"><link rel="prefetch" href="/devops/public/assets/js/83.6ed1bf3b.js"><link rel="prefetch" href="/devops/public/assets/js/84.6cdba99d.js"><link rel="prefetch" href="/devops/public/assets/js/85.37401841.js"><link rel="prefetch" href="/devops/public/assets/js/86.e71bb44f.js"><link rel="prefetch" href="/devops/public/assets/js/87.914543b0.js"><link rel="prefetch" href="/devops/public/assets/js/88.df906855.js"><link rel="prefetch" href="/devops/public/assets/js/89.ec43c2d4.js"><link rel="prefetch" href="/devops/public/assets/js/9.8e2307c4.js"><link rel="prefetch" href="/devops/public/assets/js/90.3a6d82e0.js"><link rel="prefetch" href="/devops/public/assets/js/91.1ad4d666.js"><link rel="prefetch" href="/devops/public/assets/js/92.ddc90ed2.js"><link rel="prefetch" href="/devops/public/assets/js/93.be43f77f.js"><link rel="prefetch" href="/devops/public/assets/js/94.d6f0bc7d.js"><link rel="prefetch" href="/devops/public/assets/js/95.e6846831.js"><link rel="prefetch" href="/devops/public/assets/js/96.5a7d5ba0.js"><link rel="prefetch" href="/devops/public/assets/js/97.5da431ca.js"><link rel="prefetch" href="/devops/public/assets/js/98.d063cf07.js"><link rel="prefetch" href="/devops/public/assets/js/99.34847663.js">
    <link rel="stylesheet" href="/devops/public/assets/css/0.styles.4a69f283.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>devops</h3> <p class="description" data-v-59e6cb88>快来玩devops</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>devops</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/devops/public/" class="home-link router-link-active"><img src="/devops/public/logo.png" alt="devops" class="logo"> <span class="site-name">devops</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/devops/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      devops
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/categories/前端技术栈/" class="nav-link"><i class="undefined"></i>
  前端技术栈
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/devops/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/devops/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/devops/public/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    devops
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>243</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>43</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/devops/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      devops
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/categories/前端技术栈/" class="nav-link"><i class="undefined"></i>
  前端技术栈
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/devops/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/devops/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>devops</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">1，监控的重要性</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>devops</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h3 id="_1-监控的重要性"><a href="#_1-监控的重要性" class="header-anchor">#</a> 1，监控的重要性</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.什么是监控
	• 对我们的操作系统进行不间断的监控

<span class="token number">2</span>.为什么要监控
	• 软件生命周期中非常重要的一个环节
	• 能够做到事前告警，事后我们还可以根据监控内容排查问题
	• 企业: 销售人员需求---<span class="token operator">&gt;</span>开发写代码--<span class="token operator">&gt;</span>测试代码--<span class="token operator">&gt;</span>运维--<span class="token operator">&gt;</span>部署操作系统--<span class="token operator">&gt;</span>安装服务优化服务运行服务--<span class="token operator">&gt;</span>日志处理日志分析---<span class="token operator">&gt;</span>交付<span class="token punctuation">(</span>用户 自己的团队 测试<span class="token punctuation">)</span> --如果监控不到位导致恶性循环--<span class="token operator">&gt;</span>最终导致项目流产--<span class="token operator">&gt;</span>公司倒闭 资金链断裂
    • 开发经理 开发压力大 写出好的产品？ 代码债务。
    • 运维经理 员工--<span class="token operator">&gt;</span>监控 运维债务
    • 开公司: 销售+技术总监<span class="token punctuation">(</span>架构师<span class="token punctuation">)</span> <span class="token number">10</span>个项目
    • 金丝雀 监控指标
    • 在有问题的时候 运维<span class="token punctuation">(</span>管理<span class="token punctuation">)</span> 运维债务

<span class="token number">3</span>.如何去监控监控什么内容:
    • 监控硬件 磁盘 <span class="token function">df</span> <span class="token parameter variable">-h</span> 内存 <span class="token function">free</span> 磁盘IO 负载 CPU 网络
    • 软件服务 端口 进程 状态
    • 业务层面 业务数据进行数据 自定义监控 订单量 注册用户 充值用户 日志中 数据库中体现
    • 业务之间接口调用监控 <span class="token function">curl</span>
    • 总结：我们需要监控硬件（磁盘df -h，内存free，磁盘IO，负载CPU，网络），软件服务（端口、进程、状态），业务层面（监控业务数据，订单量，注册用户，充值用户），只要是有值，zabbix都能监控，核心功能就是自定义监控。

<span class="token number">4</span>.监控有哪些工具
    • zabbix 硬件 服务状态 自定义监控
    • Nagions 网络产品 交换机 路由器 中型大型公司使用
    • Cacti 流量
    • OPen-Falcon 小米公司自研
    • prometheus 监控kubernetes docker，比zabbix更好
    • 监控宝等
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>zbbix平台架构：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>基于LNMP平台 Linux Nginx MySQL PHP
zabbix端口
zabbix服务端: <span class="token number">10051</span>
zabbix_proxy: <span class="token number">10051</span>
java_gateway: <span class="token number">10052</span>
zabbix_agent: <span class="token number">10050</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-zabbix安装部署"><a href="#_2-zabbix安装部署" class="header-anchor">#</a> 2，zabbix安装部署</h3> <p>克隆一台10.0.0.71：</p> <p><img src="/devops/public/assets/img/1727315901316.35f56350.png" alt="1727315901316"></p> <p>安装部署mysql</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.下载mysql8.0版本
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#wget https://downloads.mysql.com/archives/get/p/23/file/mysql-8.0.36-1.el8.x86_64.rpm-bundle.tar</span>


<span class="token number">2</span>.解压数据库
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#tar xf mysql-8.0.36-1.el8.x86_64.rpm-bundle.tar</span>

<span class="token number">3</span>.rpm安装
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-common-8.0.36-1.el8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-client-plugins-8.0.36-1.el8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-libs-8.0.36-1.el8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-client-8.0.36-1.el8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-icu-data-files-8.0.36-1.el8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-devel-8.0.36-1.el8.x86_64.rpm</span>
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-server-8.0.36-1.el8.x86_64.rpm</span>

<span class="token number">4</span>.启动数据库
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># systemctl start mysqld</span>

<span class="token number">5</span>.进入数据库修改密码
查看随机生成的密码
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#cat /var/log/mysqld.log |grep root@local</span>
<span class="token number">2024</span>-09-23T02:33:31.213883Z <span class="token number">6</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> <span class="token punctuation">[</span>MY-010454<span class="token punctuation">]</span> <span class="token punctuation">[</span>Server<span class="token punctuation">]</span> A temporary password is
generated <span class="token keyword">for</span> root@localhost: Kfbi5aJupw<span class="token operator">&lt;</span>k

修改密码:
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#mysql -uroot -p'Kfbi5aJupw&lt;k'</span>
mysql<span class="token operator">&gt;</span> alter user root@localhost identified by <span class="token string">'123456Abc.com'</span><span class="token punctuation">;</span>


<span class="token number">6</span>.创建zabbix库
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#mysql -uroot -p'123456Abc.com'</span>
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">9</span>
Server version: <span class="token number">8.0</span>.36 MySQL Community Server - GPL

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2024</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> create database zabbix character <span class="token builtin class-name">set</span> utf8 collate utf8_bin<span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected, <span class="token number">2</span> warnings <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> create user <span class="token string">'zabbix'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'123456Abc.com'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> alter user <span class="token string">'zabbix'</span>@<span class="token string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="token string">'123456Abc.com'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> grant all privileges on zabbix.* to <span class="token string">'zabbix'</span>@<span class="token string">'localhost'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

清理mysql安装包
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#rm -rf mysql-*</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">7</span>.下载zabbix的源码包，将sql数据导入到zabbix库中
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#wget https://cdn.zabbix.com/zabbix/sources/stable/5.0/zabbix-5.0.43.tar.gz</span>

解压zabbix源码
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#ll</span>
total <span class="token number">21372</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">21882108</span> Aug <span class="token number">13</span> <span class="token number">18</span>:12 zabbix-5.0.43.tar.gz
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#tar xf zabbix-5.0.43.tar.gz</span>

进入源码目录
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#cd zabbix-5.0.43/database/mysql/</span>
<span class="token punctuation">[</span>root@zabbix:mysql<span class="token punctuation">]</span><span class="token comment">#ll</span>
total <span class="token number">17008</span>
-rw-r--r-- <span class="token number">1</span> <span class="token number">1000</span> <span class="token number">1000</span> <span class="token number">15252182</span> Aug <span class="token number">13</span> <span class="token number">16</span>:55 data.sql
-rw-r--r-- <span class="token number">1</span> <span class="token number">1000</span> <span class="token number">1000</span> <span class="token number">282</span> Aug <span class="token number">13</span> <span class="token number">16</span>:54 double.sql
-rw-r--r-- <span class="token number">1</span> <span class="token number">1000</span> <span class="token number">1000</span> <span class="token number">1978341</span> Aug <span class="token number">13</span> <span class="token number">16</span>:47 images.sql
-rw-r--r-- <span class="token number">1</span> <span class="token number">1000</span> <span class="token number">1000</span> <span class="token number">482</span> Aug <span class="token number">13</span> <span class="token number">16</span>:54 Makefile.am
-rw-r--r-- <span class="token number">1</span> <span class="token number">1000</span> <span class="token number">1000</span> <span class="token number">15936</span> Aug <span class="token number">13</span> <span class="token number">16</span>:54 Makefile.in
-rw-r--r-- <span class="token number">1</span> <span class="token number">1000</span> <span class="token number">1000</span> <span class="token number">156294</span> Aug <span class="token number">13</span> <span class="token number">16</span>:55 schema.sql

需要将schema.sql images.sql data.sql导入zabbix库
<span class="token punctuation">[</span>root@zabbix:mysql<span class="token punctuation">]</span><span class="token comment">#mysql -uzabbix -p'123456Abc.com' zabbix &lt; schema.sql</span>
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the
<span class="token builtin class-name">command</span> line interface can be insecure.

<span class="token punctuation">[</span>root@zabbix:mysql<span class="token punctuation">]</span><span class="token comment">#mysql -uzabbix -p'123456Abc.com' zabbix &lt; images.sql</span>
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the
<span class="token builtin class-name">command</span> line interface can be insecure.
<span class="token punctuation">[</span>root@zabbix:mysql<span class="token punctuation">]</span><span class="token comment">#mysql -uzabbix -p'123456Abc.com' zabbix &lt; data.sql</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>安装部署php服务</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.安装php服务
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment"># yum -y install php php-bcmath php-cli php-common php-devel php-embedded php-fpm php-gd php-intl php-mbstring php-mysqlnd php-opcache php-pdo php-process php-xml php-json php-ldap</span>

<span class="token number">2</span>.修改监听方式为端口
<span class="token punctuation">[</span>root@zabbix ~<span class="token punctuation">]</span><span class="token comment"># grep -n 9000 /etc/php-fpm.d/www.conf</span>
<span class="token number">39</span>:listen <span class="token operator">=</span> <span class="token number">127.0</span>.0.1:9000

<span class="token number">3</span>.启动加入开机自启
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#systemctl start php-fpm</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#systemctl enable php-fpm</span>

<span class="token number">4</span>.查看是否启动
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#netstat -tnulp</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">840</span>/sshd: /usr/sbin 
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">127.0</span>.0.1:9000          <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">3543</span>/php-fpm: maste 
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">840</span>/sshd: /usr/sbin 
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::33060                :::*                    LISTEN      <span class="token number">2629</span>/mysqld         
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::3306                 :::*                    LISTEN      <span class="token number">2629</span>/mysqld         
udp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">127.0</span>.0.1:323           <span class="token number">0.0</span>.0.0:*                           <span class="token number">760</span>/chronyd         
udp6       <span class="token number">0</span>      <span class="token number">0</span> ::1:323                 :::*                                <span class="token number">760</span>/chronyd  


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>安装部署Nginx服务</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.配置Nginx仓库
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#cat /etc/yum.repos.d/nginx.repo</span>
<span class="token punctuation">[</span>nginx-stable<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx stable repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/centos/7/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>https://nginx.org/keys/nginx_signing.key
<span class="token assign-left variable">module_hotfixes</span><span class="token operator">=</span>true

<span class="token number">2</span>.安装nginx服务
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#yum -y install nginx</span>

<span class="token number">3</span>.配置Nginx服务
<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#cat /etc/nginx/conf.d/default.conf </span>
server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name _<span class="token punctuation">;</span>
    root /code<span class="token punctuation">;</span>
    index index.php index.html<span class="token punctuation">;</span>
    location ~ <span class="token punctuation">\</span>.php$ <span class="token punctuation">{</span>
        fastcgi_pass <span class="token number">127.0</span>.0.1:9000<span class="token punctuation">;</span>
        fastcgi_index index.php<span class="token punctuation">;</span>
        fastcgi_param SCRIPT_FILENAME
        <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
        include fastcgi_params<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#nginx -t</span>

<span class="token number">4</span>.启动nginx并开机自启
<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl start nginx</span>
<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl enable nginx</span>

检查9000 <span class="token number">3306</span> <span class="token number">80</span>端口
<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#netstat -tnulp</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80          


<span class="token number">5</span>.将代码文件拷贝到/code目录
<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#mkdir /code</span>
<span class="token punctuation">[</span>root@zabbix:conf.d<span class="token punctuation">]</span><span class="token comment">#cd /code/</span>

拷贝源码中的前端页面代码到/code目录
<span class="token punctuation">[</span>root@zabbix:code<span class="token punctuation">]</span><span class="token comment">#cp -r /root/zabbix-5.0.43/ui/* .</span>
<span class="token punctuation">[</span>root@zabbix:code<span class="token punctuation">]</span><span class="token comment">#ls</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#chown -R apache.apache /code/</span>

统一用户php和nginx都使用apache运行
<span class="token punctuation">[</span>root@zabbix:code<span class="token punctuation">]</span><span class="token comment">#grep apache /etc/nginx/nginx.conf</span>
user apache<span class="token punctuation">;</span>
<span class="token punctuation">[</span>root@zabbix:code<span class="token punctuation">]</span><span class="token comment">#systemctl restart nginx</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>编译安装zabbix服务</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.进入源码目录
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#cd zabbix-5.0.43/</span>
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment">#</span>

<span class="token number">2</span>.安装依赖包
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment">#yum -y install libxml2 libxml2-devel net-snmp-devel curl-devel libevent-devel</span>

<span class="token number">3</span>.配置zabbix
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment">#./configure --enable-server --enable-agent --with-mysql --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2</span>

<span class="token number">4</span>.编译
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment"># make</span>

<span class="token number">5</span>.安装
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment"># make install</span>

<span class="token number">6</span>.完成后检查 在命令行输入zabbix tab键 检查
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment">#zabbix_</span>
zabbix_agentd  zabbix_get     zabbix_js      zabbix_sender  zabbix_server  

<span class="token number">7</span>.配置zabbix连接数据库信息
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#grep -n ^DB /usr/local/etc/zabbix_server.conf</span>
<span class="token number">94</span>:DBName<span class="token operator">=</span>zabbix
<span class="token number">110</span>:DBUser<span class="token operator">=</span>zabbix
<span class="token number">118</span>:DBPassword<span class="token operator">=</span>123456Abc.com

<span class="token number">8</span>.创建启动虚拟用户zabbix
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#useradd zabbix</span>

<span class="token number">9</span>.启动
zabbix_server <span class="token comment"># 启动服务端</span>
zabbix_aget <span class="token comment"># 启动客户端</span>

编写systemctl运行zabbix
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#cat /usr/lib/systemd/system/zabbix.service</span>
<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Zabbix server
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/local/sbin/zabbix_server
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/local/sbin/zabbix_server stop
<span class="token assign-left variable">User</span><span class="token operator">=</span>zabbix
<span class="token assign-left variable">Group</span><span class="token operator">=</span>zabbix

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target

重新加载配置
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#systemctl daemon-reload</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#systemctl start zabbix</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#systemctl enable zabbix</span>

检查端口
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#netstat -tnulp</span>
<span class="token punctuation">[</span>root@zabbix:zabbix-5.0.43<span class="token punctuation">]</span><span class="token comment">#netstat -tnulp</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">840</span>/sshd: /usr/sbin 
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:10051           <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">15346</span>/zabbix_server 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><p>界面安装：</p> <p><img src="/devops/public/assets/img/1727317818792.e4677ac5.png" alt="1727317818792"></p> <p><img src="/devops/public/assets/img/1727317838275.044792e0.png" alt="1727317838275"></p> <p>修改php默认配置：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#egrep -n &quot;post_max_size|max_execution_time|max_input_time|timezone&quot; /etc/php.ini|grep -v ';'</span>
<span class="token number">383</span>:max_execution_time <span class="token operator">=</span> <span class="token number">300</span>
<span class="token number">393</span>:max_input_time <span class="token operator">=</span> <span class="token number">300</span>
<span class="token number">672</span>:post_max_size <span class="token operator">=</span> 16M
<span class="token number">902</span>:date.timezone <span class="token operator">=</span> Asia/ShangHai

测试PHP
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#php-fpm -t</span>
<span class="token punctuation">[</span><span class="token number">23</span>-Sep-2024 <span class="token number">11</span>:23:38<span class="token punctuation">]</span> NOTICE: configuration <span class="token function">file</span> /etc/php-fpm.conf <span class="token builtin class-name">test</span> is successful

重启PHP服务
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#systemctl restart php-fpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="/devops/public/assets/img/1727318154368.32373ccc.png" alt="1727318154368"></p> <p><img src="/devops/public/assets/img/1727318193274.715cc3da.png" alt="1727318193274"></p> <p><img src="/devops/public/assets/img/1727318213901.11cfb17a.png" alt="1727318213901"></p> <p><img src="/devops/public/assets/img/1727318225966.ba84a8e5.png" alt="1727318225966"></p> <p><img src="/devops/public/assets/img/1727318233202.141299de.png" alt="1727318233202"></p> <p><img src="/devops/public/assets/img/1727318265699.7281cf71.png" alt="1727318265699"></p> <h3 id="_3-界面配置"><a href="#_3-界面配置" class="header-anchor">#</a> 3，界面配置</h3> <p><img src="/devops/public/assets/img/1727318316924.2915d354.png" alt="1727318316924"></p> <p>修改默认字体：</p> <p><img src="/devops/public/assets/img/1727318731233.96da97d9.png" alt="1727318731233"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#cd /code/assets/fonts/</span>
<span class="token punctuation">[</span>root@zabbix:fonts<span class="token punctuation">]</span><span class="token comment">#ll</span>
total <span class="token number">740</span>
-rw-r--r-- <span class="token number">1</span> apache apache <span class="token number">756072</span> Sep <span class="token number">23</span> <span class="token number">10</span>:51 DejaVuSans.ttf

将windows的字体上传到当前目录修改名称
C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>fonts<span class="token punctuation">\</span>目录下
<span class="token punctuation">[</span>root@zabbix:fonts<span class="token punctuation">]</span><span class="token comment">#mv DejaVuSans.ttf DejaVuSans.ttf.bak</span>
<span class="token punctuation">[</span>root@zabbix:fonts<span class="token punctuation">]</span><span class="token comment">#mv STXINWEI.TTF DejaVuSans.ttf</span>
<span class="token punctuation">[</span>root@zabbix:fonts<span class="token punctuation">]</span><span class="token comment">#ll</span>
total <span class="token number">4700</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">4051204</span> Jun <span class="token number">13</span> <span class="token number">19</span>:10 DejaVuSans.ttf
-rw-r--r-- <span class="token number">1</span> apache apache <span class="token number">756072</span> Sep <span class="token number">23</span> <span class="token number">10</span>:51 DejaVuSans.ttf.bak
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>刷新页面检查字体</p> <p><img src="/devops/public/assets/img/1727319189550.43326c54.png" alt="1727319189550"></p> <h3 id="_4-监控zabbix服务器本身-监控客户端"><a href="#_4-监控zabbix服务器本身-监控客户端" class="header-anchor">#</a> 4，监控zabbix服务器本身，监控客户端</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.安装客户端zabbix-agent 默认已经编译
<span class="token number">2</span>.启动客户端
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_agentd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/devops/public/assets/img/1727319361716.831ccda7.png" alt="1727319361716"></p> <p><strong>监控客户端</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.准备客户端10.0.0.7

<span class="token number">2</span>.安装zabbix-agent客户端 Kylin系统直接安装<span class="token punctuation">(</span>其他操作部署YUM仓库<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#yum -y install zabbix-agent</span>

<span class="token number">3</span>.配置zabbix客户端配置文件指向服务端10.0.0.71
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#grep -n ^Server /etc/zabbix_agentd.conf</span>
<span class="token number">115</span>:Server<span class="token operator">=</span><span class="token number">172.16</span>.1.71

<span class="token number">4</span>.启动zabbix客户端
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl start zabbix-agent</span>
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl enable zabbix-agent</span>

<span class="token number">5</span>.zabbix页面配置添加监控的主机
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><img src="/devops/public/assets/img/1727319845455.80ecd3af.png" alt="1727319845455"></p> <p><img src="/devops/public/assets/img/1727320051792.39452174.png" alt="1727320051792"></p> <p><strong>主机配置完成后添加模版</strong></p> <p><img src="/devops/public/assets/img/1727320174841.3257f100.png" alt="1727320174841"></p> <p><img src="/devops/public/assets/img/1727320242133.7e235cae.png" alt="1727320242133"></p> <p><img src="/devops/public/assets/img/1727320251482.482396d8.png" alt="1727320251482"></p> <p><img src="/devops/public/assets/img/1727320343526.11200f67.png" alt="1727320343526"></p> <h3 id="_5-日志位置"><a href="#_5-日志位置" class="header-anchor">#</a> 5，日志位置</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>服务端日志: /tmp/zabbix_server.log
客户端yum安装: /var/log/zabbix/zabbix_agentd.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_6-自定义监控流程"><a href="#_6-自定义监控流程" class="header-anchor">#</a> 6，自定义监控流程</h3> <p>通过获取系统信息来定义zabbix的监控项、配置zabbix触发器发送告警通知</p> <p>自定义监控流程</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.取值
<span class="token number">2</span>.配置到客户端的配置文件中 zabbix-agent.conf
<span class="token number">3</span>.在zabbix服务端取值测试
<span class="token number">4</span>.将自定义的key添加到zabbix页面进行监控
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>获取系统登录的用户数
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#w</span>
 <span class="token number">11</span>:19:43 up <span class="token number">6</span> days, <span class="token number">42</span> min,  <span class="token number">1</span> user,  load average: <span class="token number">0.00</span>, <span class="token number">0.00</span>, <span class="token number">0.00</span>
<span class="token environment constant">USER</span>     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0     04Sep24  <span class="token number">4</span>.00s  <span class="token number">0</span>.08s  <span class="token number">0</span>.00s w
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#uptime</span>
 <span class="token number">11</span>:19:49 up <span class="token number">6</span> days, <span class="token number">43</span> min,  <span class="token number">1</span> user,  load average: <span class="token number">0.00</span>, <span class="token number">0.00</span>, <span class="token number">0.00</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.取值
<span class="token function">uptime</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $(NF-6)}'</span>

<span class="token number">2</span>.写入客户端的配置文件
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#grep user_login /etc/zabbix_agentd.conf</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>user_login,uptime<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $(NF-6)}'</span>

<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#zabbix_agentd -p|grep user_login</span>
user_login                                    <span class="token punctuation">[</span>t<span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token number">3</span>.重启客户端生效
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>

<span class="token number">4</span>.客户端检查自定义key值是否取值成功
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k user_login </span>
<span class="token number">3</span>

<span class="token number">5</span>.添加到zabbix界面
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="/devops/public/assets/img/1727321968429.a5297d7c.png" alt="1727321968429"></p> <p><img src="/devops/public/assets/img/1727322067668.05d1c32b.png" alt="1727322067668"></p> <p><img src="/devops/public/assets/img/1727322131008.91b4ff1a.png" alt="1727322131008"></p> <p>再打开一个选项卡：</p> <p><img src="/devops/public/assets/img/1727322199076.5cec9c6d.png" alt="1727322199076"></p> <p><img src="/devops/public/assets/img/1727322211149.641c6d2d.png" alt="1727322211149"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>自定义取值可以使用include方式将自定key单独存放.conf的配置文件中
<span class="token number">1</span>.修改客户端的配置文件
<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#sed -n '314p' /etc/zabbix_agentd.conf</span>
<span class="token assign-left variable">Include</span><span class="token operator">=</span>/etc/zabbix_agentd.conf.d/*.conf

创建存放conf的路径
<span class="token function">mkdir</span> /etc/zabbix_agentd.conf.d/

<span class="token number">2</span>.创建新的文件自定义key
<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#pwd</span>
/etc/zabbix_agentd.conf.d

<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#cat os.conf</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>user_login,uptime<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $(NF-6)}'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_7-自定义监控端口是否存在"><a href="#_7-自定义监控端口是否存在" class="header-anchor">#</a> 7，自定义监控端口是否存在</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>客户端配置:
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#cat /etc/zabbix_agentd.conf.d/os.conf</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>user_login,uptime<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $(NF-6)}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>ssh_port,netstat -tnulp<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">22</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-w</span> tcp<span class="token operator">|</span><span class="token function">wc</span> <span class="token parameter variable">-l</span>

<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#zabbix_agentd -p|grep ssh_port</span>
ssh_port                                <span class="token punctuation">[</span>t<span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">]</span>

授权netstat命令s权限
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#chmod u+s /usr/bin/netstat</span>

服务端测试获取key值:
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k ssh_port</span>
<span class="token number">1</span>

页面进行自定义监控项添加
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="/devops/public/assets/img/1727323034627.b112b8dd.png" alt="1727323034627"></p> <p><img src="/devops/public/assets/img/1727323088699.1d0adf7c.png" alt="1727323088699"></p> <p>停止服务：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl stop sshd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/devops/public/assets/img/1727323146904.17c341a2.png" alt="1727323146904"></p> <h3 id="_8-自定义映射值"><a href="#_8-自定义映射值" class="header-anchor">#</a> 8，自定义映射值</h3> <p><img src="/devops/public/assets/img/1727323314187.ac77cb3b.png" alt="1727323314187"></p> <p><img src="/devops/public/assets/img/1727323422989.7571ca10.png" alt="1727323422989"></p> <p><img src="/devops/public/assets/img/1727323429345.96fc07da.png" alt="1727323429345"></p> <p><img src="/devops/public/assets/img/1727323414301.9fb36476.png" alt="1727323414301"></p> <p><img src="/devops/public/assets/img/1727323491864.625cdfd2.png" alt="1727323491864"></p> <p>测试：</p> <p><img src="/devops/public/assets/img/1727323517492.528446b2.png" alt="1727323517492"></p> <p><img src="data:image/png;base64,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" alt="1727323530724"></p> <p><img src="/devops/public/assets/img/1727323541418.7fbbcf6c.png" alt="1727323541418"></p> <p>也可以使用系统自带的监控项监控端口</p> <p><img src="/devops/public/assets/img/1727323601306.12d78dec.png" alt="1727323601306"></p> <h3 id="_9-自定义监控内存使用率"><a href="#_9-自定义监控内存使用率" class="header-anchor">#</a> 9，自定义监控内存使用率</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#cat os.conf</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>user_login,uptime<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $(NF-6)}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>ssh_port,netstat -tnulp<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">22</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-w</span> tcp<span class="token operator">|</span><span class="token function">wc</span> <span class="token parameter variable">-l</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>free_use,free<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==2{print $3/$2*100}'</span>

重启客户端
<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>

服务端测试取值
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k free_use</span>
<span class="token number">30.36</span>

zabbix页面添加
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><img src="/devops/public/assets/img/1727323910845.f75db9d5.png" alt="1727323910845"></p> <p><img src="/devops/public/assets/img/1727323990587.4a5176fe.png" alt="1727323990587"></p> <h3 id="_10-设置触发器"><a href="#_10-设置触发器" class="header-anchor">#</a> 10，设置触发器</h3> <p>设置用户登录数超过2个则告警通知,默认告警到zabbix界面上</p> <p><img src="/devops/public/assets/img/1727324078191.23540951.png" alt="1727324078191"></p> <p><img src="/devops/public/assets/img/1727324096023.b641850f.png" alt="1727324096023"></p> <p><img src="/devops/public/assets/img/1727324248309.a2068a0d.png" alt="1727324248309"></p> <p><img src="/devops/public/assets/img/1727324296922.18cdd8ee.png" alt="1727324296922"></p> <p><img src="/devops/public/assets/img/1727324582497.5d44c604.png" alt="1727324582497"></p> <p><img src="/devops/public/assets/img/1727324834354.ef6a8dea.png" alt="1727324834354"></p> <p><img src="/devops/public/assets/img/1727324593154.0ffeb485.png" alt="1727324593154"></p> <h3 id="_11-设置内存超过40-告警-实际工作中80"><a href="#_11-设置内存超过40-告警-实际工作中80" class="header-anchor">#</a> 11，设置内存超过40%告警（实际工作中80%）</h3> <p><img src="/devops/public/assets/img/1727325136328.b44571d3.png" alt="1727325136328"></p> <p><img src="/devops/public/assets/img/1727325152758.bdfb2404.png" alt="1727325152758"></p> <p><img src="/devops/public/assets/img/1727325185232.b9bbbcfe.png" alt="1727325185232"></p> <p>可以使用dd压测消耗内存：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/null <span class="token assign-left variable">bs</span><span class="token operator">=</span>600M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1024</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以使用ab压测：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ab <span class="token parameter variable">-n800000</span> <span class="token parameter variable">-c200</span> http://127.0.0.1/index.php
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_12-设置联合告警"><a href="#_12-设置联合告警" class="header-anchor">#</a> 12，设置联合告警</h3> <p>用户登录个数超过3,内存百分比超过30，同时成立则告警。</p> <p><img src="/devops/public/assets/img/1727328215727.675ef511.png" alt="1727328215727"></p> <h3 id="_13-配置邮件告警"><a href="#_13-配置邮件告警" class="header-anchor">#</a> 13，配置邮件告警</h3> <p>1、配置邮件发件人，我用的qq邮箱，在设置--&gt;账户里，开启服务，其他邮箱同理。</p> <p><img src="/devops/public/assets/img/1727328530185.ee55de76.png" alt="1727328530185"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ctsvrdvsarudbcha
tpmacdaoiubkbddg
AYa5AVXfhp3heyQY
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/devops/public/assets/img/1727331084003.f3a75512.png" alt="1727331084003"></p> <p><img src="/devops/public/assets/img/1727328745194.bfaa564c.png" alt="1727328745194"></p> <p>配置动作：</p> <p><img src="/devops/public/assets/img/1727328801609.2bb63116.png" alt="1727328801609"></p> <p><img src="/devops/public/assets/img/1727328896343.25814252.png" alt="1727328896343"></p> <p>配置收件人：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>zabbix默认将告警发送到zabbix群组，群组中默认一个用户admin用户
配置admin用户的接收信息的方式
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/devops/public/assets/img/1727328951389.d1797e45.png" alt="1727328951389"></p> <p><img src="/devops/public/assets/img/1727329005087.a0e78e14.png" alt="1727329005087"></p> <p>dd测压测试是否发送邮箱</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABTsAAABaCAYAAAB32oIOAAAfKElEQVR4nO3dv47yWJrH8V+tNl36Aqpa6sgzwqQbVLRiJ6jEr7TBazqc0DlcAHABkDsZacLGb7DS66SCWTRRBZvi0rSjkbq4gK69gNrA/Dn+iwFTUNT3I1nq5oVTB+Nj7IfnnOdG0ptwAWzZrqvh8Kvati3b+JcoivT8bazxKFB0tv4BAAAAAAAAl+1GBDsBAAAAAAAAXIF/OXcHAAAAAAAAAKAJBDsBAAAAAAAAXAWCnQAAAAAAAACuAsFOAAAAAAAAAFeBYCcAAAAAAACAq0CwEwAAAAAAAMBVINgJAAAAAAAA4CrsDnZaA82XSy0LNt95hx7iA7FlL97kvm23h5F97k5dOUd+yficD6xzdy7PPJ/MBzq4h021cxBzn/s69jRoOQP583n+M3z393VCZ/28gOMxTvFeHL/4O325XGq5x4V3U+00huMLAAC8IzI7cflsW3ezhR7ezEDqQg+zke5qxVJttWxX9mim+8UiFYx1397kLkZqnfo9fCSOXxjIswZzblIaZg3mmvt9OdaF7lFuTquxfz4FxukHx/7BqVQkhFRvc1X/Hm3J8eeaz9OvmfuO9jsNHdKOpcE83d+qH88314aMMRSxLFmOo4HvZ47DQ5IyjhsX237Mc+N2Pp/LHzhHHruZBBSywoCz+9dzd+BDs209LNpGoOxFTzdPejljl66OO9PDzC0IRtpqubbu3a966f2spyAqacCWvVioTYJpbc6X1Zdz+F2h8bi1vpKIf1X87r26QtZAfv+ybwmcQX9z4RdOJnzuGeyfT4Bx+uGxf3B5Yv1adiBaA83n/YKgiyXL8TV3YoVeV15Y8NpTtCPJcr7IKhw7lr44l31+/KwcfzsDM/Rua33OJ+hEcwG/I49nazDXvOK73LIsWX1fTj/WtNvV5IAvCsc/frYXgGbtl9kZT9W9vdXtajvLifNK2e5Is8VCi7c3vW22hRazkVz7k0bq7FFJoDP1JN3NFrp336lPFyeUZ4zJ7vTY2zhH61hnHMeFj4ffP/vAN/e5p0P3hvXF+AU5nsrrbj/H29tb3XbPfFNuDTRYX7XFU00++8eexf75FBinH9wH3D+hlznGDrzYbqodnEDmx+QtR35hQMeUZLdVJ8U11c76qY6+FD3P+iJinTi9ho/nHe305/P9l+pzfJb3Ay4Q09jPzR5ptnjTYjaUa9tKhzVt2e4wCYLOXH2ukKct+5dhOtAZ9PR4c6PgppPL5LwbVk1Fj/QaBXoe9/TU6SjoBafp8jWw/rC6mIgVfo8LH49Ji2mEZcy5CScThRe2X8mGqsb++RwYpx8b+wcnFU9SSSDlm/nDaKxpSdQ9nRkWa+p1tz9me1Pj+LXUH5RHVppqR1r/8G3JKYh2rn8MirkwRJk4VhyGmnqeut3DkjKaOp7jONR06snrdjPjtquuF6bacQb7LMdgabD6u2HIj0rAJSHYeU7uTIvFUG6NKKbtzrSYfaL0RXeYmXoe6KkX6FWSFOml97OezXinPZRduHsiRZ2OHjs9RaNAL1HZdHdIZhZTeorV5vE41HeuaT+BbSavFOrTJ/PmsH9wCTgOq7F/cCGcL9tgTdl1lJmFrNVUWuPXlTicqNs1AjvOoDiLral2Ns9PgkCW8yUT/FlPYY8VXtqvQLgMoafbblddz9MkDA9LlmjoeI4nXXW7niaTUGEcZ374ihWHXrqdsmzmwi766luSQk/e99rvDMA7INh5LvYok60ZKRj31Lm50c166/Q0NjMY3aE+S3Hzlt1OPxAEmbVQI/32LZPd6X6iYPCJbLKYWK/zxCz94YKnflmDgbYzPycHT9W/Vuyfz4Jx+pGxf3AZtllfkhSH3wuvo1JLZoST4jUD44mxFEN1tuWx7Wz8+j3JaM8Gf9ZT2ONQ338tfzlwjMaP5yrxd2P2hlWvGNhmXe/yjG0A53PiYGdL9sKV+7bdHkbJZOOWa+t+8ZD+t5ldWV27Zd/Jnj3o4c1s80EPi3vd2fXraR/cjnuf6q+bKk4kSXe6f0u/X/fNlTu7yzak2WK4DXRGgXqdjnqjQKnwXRRo1OtoO+va1nCYBPTshVFNfI+Mz7uZWYl8pmzPJCWVy4uqny9msuukoebkq6lXt2Xrx6/pf3sJ8lPPX6Pn9ANt+x2rqmeqVX7E6pObquvbbbPeTObfih8vXojbcgby5/NUpcRDKhw21c7RCvbTrn2Qk6vYOpe5TrrjF7R9tmPK0WDTuVCTmqu0N/d5WXIGSbXMXKVMxypvz/ycdu679PjdryLofvun8LOt2Hav+XTg/qno1+ZvWo4GfrZdv7oK+eo12eN77g/OU738mP4wTvdwReO0sFr7quqv+d78QfX6hDWrvpvVq/evRnxtrP3POearC8f7Usv5Gc9BuU6a61qWH4upJTMq0pDNf7MK3l9T7WzF+h7mp7JvprCXBG9Pzyo4nyWfvV93IdGmvi+OGe+NnH8yVcAz1xJl1yEf4fzT/PFcpaJwWCFLAz9ZKiWeegcVNQJwWmfI7GzpbubqYdbOBRZbblv3vxQFrFpJcHJxr7bbyvx7Sy37LgmcLnYFu5pq5zj2aKhteDLS+OeeSouJSwrG420QtJ2s6/m7GeerHeSz9YOZMBk9r6aFb//dniVBzbabbdNWy3bVni3kLqrWx8xydb9Y6D7T3rqth8JAbVutVKwz0utzwdOeM/23s8FnvK/kxnTu9zMXiZacvq957aBAU+3gEPtnQzX3eVmOr/lyLr/v5C5WLWt18T/3iy/4zWzkXdOPat58Fr70jNliR+2fXRxf87mvvpNt15E/HxQG9R1/ruXqNdnpjZbTlz+fa+6/3w8Ul9afU2Kc7ujjUePU0qAgaJscQ1TbbY4jfzkvOeckY7Xy1avjLD/eJVnbMX/uoiHpzLSywkRmFvmOtdHNKbib9dSbbifz1O/ZqezGFPZzrG20Ogflz2eSVueg5Y7vwsv9vuD8s3Wa47meGjUKnMHqB9H9vp8AvJ93D3a2hvd7Vs5uyV48qO3WCGPZbT2UBiqbaudYtlwjazEa/6yREei03ZkWi21F9sVsJFuRNrE+u622pFdzwcraQb5MEPE5MoKFtuzFQu1aC4gO9VAz4NkaDquzdd2ZHurOzbdHul8kWab3rqQoygRr2/rhk0zzv0SOn86CyrH68mv8itxUOzjE+gZGqnsT09jn5fj1biwsp+SC31yTr3qR+no3n4Wv3Hv/7KdiXcGj908VR/6eN3XWoF72jLXq96ldWn9Oi3G6448fNU6/VO6rZKzgWJYGO85TluOXZp7VHe/nZ2YYV2WmmVNmd2SXmcsJWQWBukbayT43M5XdnML+3jEex9ey5jloUPJryiV/X3D+MZ3oeC5lrvO8K8tz+1mEnscyKcCFOtuana/Bkx47gYKb1dZ50nPwmntea3SfKVTzqpfe4+Z1j72XXHbf/aggN7SJdoKnbX9vAgWdbGbki57Mf19vPWO1SdvVNtYZaGxEOt3Zquq6bT59qMVipmx8OD2Fu2aQz04HcM2p4a3RL5n9E+ml11Fwc6Pg5kaPnXF6zUx7qPu6Qcoo0FMnaSfo9DJrb64CohX9XLvbBE7tHdXXUUvopaqFbiokxtNUlcKyx1PVRR0/lT2RLPRttNGdKowly9lxgdpUO03K7Kd0VdWachVbuzILUoZeQfXWbrpy8L7ToQ+aarv5lVrlayOlnt/Q52UNUjcUcTiV181WyjQrbhZf8IcTc5H6LyU30mYgpHpaVM6++0cln23BMZA8t+TYamj/lFlnwSXtdlP97Ha9fAXyzRpVmw6l+9P10u9tRwGMozXVH8bppx2n2z/bV99Z7SPjfXnmny/tM2qznFWwbJobq+b5xuoXZZWnj41kvHcz4zI5FsOS1Kx3GadSpjDRVM0s6WdmnB2zrvA+7aSnsp9vCnv2nBIrnKbPZ7fdrrxpWN6vS/v+SvXt0PNPKC/z3WS+puw6pJs5Ob7buDiJ48eFWfV914yAzXMbG9cATuEswc7X8WMSXDSnbkcvinqPehz/bjx4J3vYyrz2SU9GUPQ1eNJjLx0+aw3tzFqUTbVzPNv9ul2rMwi0CTe6M832WQ8zNYXbVqu9/e/Uep5mBmbbzAA1p4a7soeZNTJ7HT0Zc+tfo5GeOuNUcDcXpCwU6fnnnl7WTUVBrh3J1Y+V2b7P+v3iiqjHmnTLb3jL2bodLvSn/3nTf622P/1lpj/+R8Vn/5Nb/e+N2N48pC9eyx5Pc74Yl16hp66XrroYxxN53d1BwqbawSHMIgr1Flpv6vMyM7jiaVddb5IJsMUFFTcLLvhTi8ubv9Cn/lhqamz9GMr++6eytXX1znWL08wNjfncpvZPWV8sy2g3U6M0DnOfYSrjLp7mA6JxqEnXDBRWZ/Ad69L6c1qM0x29PH6crvfRtsOZHyJK+oz9hJ5uu5PcWPVSY9XRoDLSFGs68fJBzTg5Fr1u+Xn1PZhj75DAoDXwk3Ub5/5RAbcm2olXaW6WM9DgTFPYzeUppORY8SaZKt9xrHDiJd8DBYWTLv77gvPPTk2NixTzR8F4Km/HOs/JIRFr6tW9/wNwDu8f7Iye9TTKZ3CuvQZGhqX7YyaY9qKo6LXBb5lswbt08KypdhrQNtIng01mpa3R0PhD0Vi9TlKRvdMbqzDOl5nC3dqkg2amqttf9aO9fo65YKcRQHTdzP4J9Fu+HpAUBdugZfLC3fsnGCvKvoFcO2b/y72M10HSSC/jkcqPogv100h/+p+F/v0/bP2b8fC//eTqj8OF/usv2X+zdfvnmf70l5lufzpx3zY3lpmL17LHU9LTPspvLkNNsqlsJ2nnOpVnCNbY6gTj986GaurzMrN0dqx7lKm4mf/lfp19suphwR3BwVNjj8kWy3Uim1lSdWHd5P4pe92OC/vS/kjhpOzYijUxj4lG1tC6/P4wTvXBx2nZPton4Irdqo7F9FjNFxsxp5da6q+z0eZzzX1f/sDZWVzm5ONUMgIiSZ/3Dww6GvRX48Byjgi4NdTOehyus3L3LuZyrMy53iuYdWCKQ03y0xIu6vui6O+e8/zzLuPiaE2NC0Nq1kIor/K9bIsSHX0tCODk3j/Y+fx77SBVK1sZPXotee1LLjhnvrapdpqwjTdGet5kVraNKeSRxj+PNgWLomCkTq8o8vicyoxttVcN56aAm1mfBqM4UToIKikIclPN1337PVMoaFeQ8vW5qLJQQTvtok6urabpRyM93twouOnoqWiXXLjbPw9TQc6cn7JZnwv9+5/d6tc0ZHtjmb543TxetS5T6iKw+uJ3vcj9SdvBAcxsqJpTRhv73M0MrnxF0fJq5eZaTiV/K5dVVnf9tFwn998/VW2tL5ST1qovrBveP0X2yzhKr6FVuYB/qhjNoWtofbT+nBLjtFoT47R8H8XGwWUdPncYknavv1ddbKRwyQ/LkuU4cvr+qkL3edf1TAfsDwmKGD9AxOERswmaayc1pPZaR7cJ5rnk0ODfpX9fcP7ZranjecUaaD5fX5PlZ7Lkn76elXP8DB8Ap/fuwc7X5yPy8fYJlLYrgpRNtdMU29Y2BvotX5n9+bkguzMqrMjecr/m1rJcByRb5qKcz9niPgZ3tp0Gn9myxaWqg5TlUgWWsnKFh65JpOW4o7/9543+e7X9bTzW8p87XvP3Jufx529U55sby/S/bR63+smUkdyNbIZ5g3KMptpBPWYg45D1hy7p88pMkU1NgTx0/bRj948hWyjmEha2jw9Oz3nvzJ5dLq0/DWOcVmtinF7SPrpmu/bzzmIjobzbHWszKqnKfZ56LkesOWuIJ93NOpLbYOkeRVsabsd8H8f96HcAM+jdyDi9wO8Lzj+1NHU8pwOdsaZFa5Rnnr+elRNPPbI6gQ/gX8/dAdQQJdXYszmUScBw9ei6Ivs6oBmN9fw8VNvdBiR/aJuvLcq4/GByWayXuLan4Z9j/W080v9lHv6/v4/0v38f6X9/cvXHPw+N9TkjLf861j/+GuReg8/H8SuCzLvEU3UrsgedwTbTsHxa10eRTD/rr3aW5XyRtXpPh66f1tj+yRaKqVinEx8T47SuCx6n+CCStRnDSfJ/lmXJ+vJFX5y+zIROZzCQFeYLiZ1qnK7+qPGjVp0sxFWWYTI3V3+wVB50qQz6NdVOidDT7W2dJ+IjOvm42L/R0x3PuUBnd2fw0szWtvpzLfs7/obja7lc/Xfo6ZYLPuDdfaxgZ/sHtfRSK+uvMoO0qXbei5n5aXgNvul1uA74tfWDbWv9xNdvgX7TV7Vlr9bkDFJreb7mFtJ8X6121fT31RT9zVNWU/GzXU4VXFJqav4lWv51VP2Efwb6xzjQP96nO6exysA4+mKnqXawm7mu2KHZUE19Xk1dDIbfFcpJssMsR1+siSZxeu3C2uunNbF/JOWqyO61TubKxV0s77j5eHeX1p8GMU6rNTZOTy+/BuUntOtYPCAQF8ex4slE4WQiy/G3a/Cd4XoiFbDfUdV59awkE20V1LGqOmxmupoZsI22c4FWfUzeWhOf6ft8XzDej3Gi4/mAQCeAj+mig52v0atkhrPsllpSQUArX0goeW2z7TTLVnsdwDMzN+2vcu1RuqhPu53L6pS0me7dWrXXarubgOZrFOl102pbP7h2SSV26TXK5I0GPQWF64Tur9UuilLaqSxTKZtpGum3b5Haxnqgd64rBek+5dYarZqaD0Moz/xp3vG19J3V48aU2rLHs8wL0B0Xj6k1rE7VzpUKvVudIqHi4Gyoxj737wrjfpIF43yRo7CBad1JJo2TRFHkfLE0+dWcGluxBm1GU9liju9nqsjWbOsk++cY6UyLypuP1HTkU03Pu6z+ME73cXnj9Ci1gjF7FA67aruytI4LxMXhRNPYWWVX5v/WqcZp4rCAfbw9kSXB0rB4hKUCqQWLTjbVzuUxz/XJPi55azXbOPL74grH+2nHxWEaP56L1uj8CIc/gIO8f4GifRRUR7dHBWtoFlRbTxUaaqqdnVpJIZ0KkRHT2wbznrVdwtLW8JeR3PXsdHekxays5HmmSNFwvV7nKpi5KTRkq+WaWZCZ6d7ZgkS56uxHcIfK1TCyXd1lHstmmr5GmWn2uT7Z+vFrupGX4ANWLboAm4XOMxdzmwuHnUEBc4qWVVEZMV104nTtoD7zpmzfBf+b+rzMtZUya/eVsJyB/B0VOM31xLLPrz819pj9s2UN0uvG7bdO52n2z+EylbQHg5IAWbpYzOkyhy6tP6fAOK3WzDhtltkn8+GB9v76Mr+Dc8WcztBOI6qOxfRYzQcuLA38gaprD9Uv0NY0azA4KGCfLto1UOEQq1Hhval2Lk/mXO/71ceA5WiQe8Kpvi8aHO8n8JELGjV6PB8Z6NysFVq1mbMeQq/4cQDv5rKDnXpRNE7n6rWG97p3jUrr7r0eZukw2Os4ygQ3m2onI8oWOmrpbniXKxBkejYK89ib4j6RRmMjUGcPNVu86e3tTYvZsDirc/U6s0jRpjJ69E2/RZIZDL1zjYBprtp6oGhsBhtd3b8tZLvZNTGVrJPpurJnMz28zWoERW21f5ltg5u2q/vFMNNukA8qB2Olaxi5up+5myzWu9kvSs2Ej8aK3jXWaWkwN4r8zMsumC7ddhH99I3l9tfoOjecqYXqV9PHzBsNyxrIn/s7b66aagf1mDdl9abapTX2uU+mm2PM6s+1nPsaOJmiFJaVTE2cLzX3+ztudJWppOoYzw81qTlf6dj9s2pks6B90s7+63SeZP8cIXXzYfU1n2duOi1Hg7lZiOm0VUsvrT9NY5xWa2ScNiIdaM0GY1JTq/eRKebk+wfObGiqnaY4vpbzQW6s+qmxWnIcWH358+VqrKffhWU5meP5PQvRZAoT7ZWFPTGWX7DUn6eryVuOGahReYX3ptq5QPHEHN/JseIP0uczWZacgZ8cG38oaKOx74sTjfeGpKq39/2CwO8H0dTxTEYn8Cld9DR2SXodPen564MR2GrpbvagslxHRc96GuUnMzfVTqbVzNqSq6DpW+ZpwZOCXhJejIJvioZ28hJ3qJEdaBRJCnrqjBdaDHekhmZ78JzpgGRM585PB09eky9O9Dr6Wc9fF8b+sdWeLQrXCjXeWL1O2q7uF9mdYvzt8bggqBwp+nmsOzMw6s7y+3blZTwqnsJuj/SQC65mnzPUw9sw/ViDU/kv2zb7IVWReVPVtuYv/qEnL9wubG45vuYF13hxmMxZLL3kaqqdhliDuVGpvkhSvT4r9G4/QOEZM5OrfmAhpanPK56o61mrZRMkWY76vqNda7/v6Jwm01hO9vMzgyuVGtg/sjTw+6n3vWtR+8Jj5yT75wjxRN7U2Y4Ny5E/z4+DjVPfTF9afxrFOK3WxDhtTridl68kGJM9DkNNp5b6e6V7Jdlom9c4vrLNxtOuujvfe1PtNCAOk/Varb78efkRtCt4nQQ2qwNK7xoA31w7SYdkGYeep3C5DtQm1eSLz2TVP9g01c7lCeV54fYcJEtO35dTcggVHskNfl+cZrw3I/4eKu6vrz8s9f157lx9+vHuyF+W/5CWvx4qXj/z+OM5ey224zNft/Ze50MAJ3PhmZ2S9Kqo86jnoMZqjNGzHjtl6zY21U6mzZ/3LIoTBfpmTlkfbsOt0aijTi9IrdcZRWP1Or3SsGJuurfS07mL/r24OFGkqNPRc9Bs4aLX8VgvFU2+Bj09jkqeEI302At27N9IL72Onj5DXPIUNlPZMhflm/Wy6mdEhF5X06rn1izI0lQ7qNZUNlRjn1foqeuFtbJg4nAqr8YNWiqDY/1nat59NrN/GpxKeYL9c4x40pVXIy0iXvX71C6tP01hnFa7nKzOlXBSsZ9jTbuevh/QbDzxqj+/d27neLEm3erlPMoDDbEmXr2srDj03jVYYa4dWz9gbwrldac7xles0NtVUKWpdi5Q6Ol253uTFIealPxY39j3xYnGeyPiibzLGOwNuOLjGcBJfYBgpyS9Kuo96rHzpOfgNRP8etVr9KKnzqOCnQHKptoxRNGqvZeaxYwyU9bdmcwlOaOgp07nRjc3ydbpjBREgXo368cygc/nbLA1XXxo579n/i3qdRR0enoOgtR6oGuvUaTXINBzr6fHm171NH9JUqCnTkdPQWafRkmQ8nFX9mTQ02PR6xXpNRhv2sZhdq7XudfFeqxJ91Zdb6owtcZWrHDqqVu3IEtj7aCcOdXu2PW6mvu84tBT97Zb0JakeN3erbrepN70o9S0Tal+pk2T+6c5je+fI4VeV7ddT9Mwu65vnAS6ut3agbFr7M/xGKfVLnGcxpp0u/Km6eNsffwdfiO+/vxCHVdLpql2mhDKu+1qmjlI4jhMxmrVzopDed1bdYvGe7we77fv/MNGujDRwRmT8UTd2yQYl/6M4mTsdWsuhdJUO5do9d5Kz0Gr74Kq808z3xenGu/NiCfbfXT24X6saz6eAZzUW+VmDd7my+Xbcrl8W84Hb9au57PV2tzZW8piZJ+9T2wff7MG82SsLpdv84F19v6wXejm+JvjZOk75+/PpW3sH7ZL2DgO2T9sbGxsbGxsbGwHbftldlp9zZfboixnXHf5wwt6PZkJifZwobfFTCPXzqzAacu2XY1mi4qq7Pi8kjUj12Oyen1JQEpXGf1o63W9B/YPLgHHYTX2DwAAAMpdfIGi6xWo1+lptpjJNSqVD2euhqWvmWnm3uhT1M0BcBrOYFtl9EMVankn7B9cAo7DauwfAAAAVCDYeVaBep2O3NFQw6GbraleIJJsW2KNSgCHCj3d3p67ExeM/YNLwHFYjf0DAACACjdK5rPj7GzZrqvh8KvadnoqexRFev421ngUiDAnAAAAAAAAUIxgJwAAAAAAAICrsF+BIgAAAAAAAAC4UAQ7AQAAAAAAAFyFbYGipiaz3zTUDgAAAAAAAADsgcxOAAAAAAAAAFeBYCcAAAAAAACAq0CwEwAAAAAAAMBVINgJAAAAAAAA4CoQ7AQAAAAAAABwFQh2AgAAAAAAALgKBDsBAAAAAAAAXAWCnQAAAAAAAACuAsFOAAAAAAAAAFeBYCcAAAAAAACAq0CwEwAAAAAAAMBVINgJAAAAAAAA4CoQ7AQAAAAAAABwFQh2AgAAAAAAALgKBDsBAAAAAAAAXAWCnQAAAAAAAACuAsFOAAAAAAAAAFeBYCcAAAAAAACAq0CwEwAAAAAAAMBVINgJAAAAAAAA4CoQ7AQAAAAAAABwFQh2AgAAAAAAALgKBDsBAAAAAAAAXAWCnQAAAAAAAACuAsFOAAAAAAAAAFeBYCcAAAAAAACAq0CwEwAAAAAAAMBVINgJAAAAAAAA4CoQ7AQAAAAAAABwFQh2AgAAAAAAALgKBDsBAAAAAAAAXAWCnQAAAAAAAACuAsFOAAAAAAAAAFeBYCcAAAAAAACAq3Aj6e3cnQAAAAAAAACAY5HZCQAAAAAAAOAqEOwEAAAAAAAAcBUIdgIAAAAAAAC4CgQ7AQAAAAAAAFwFgp0AAAAAAAAArgLBTgAAAAAAAABXgWAnAAAAAAAAgKtAsBMAAAAAAADAVSDYCQAAAAAAAOAqEOwEAAAAAAAAcBUIdgIAAAAAAAC4CgQ7AQAAAAAAAFwFgp0AAAAAAAAArgLBTgAAAAAAAABX4f8B3mtybGD74FsAAAAASUVORK5CYII=" alt="1727329049160"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/null <span class="token assign-left variable">bs</span><span class="token operator">=</span>700M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1024</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/devops/public/assets/img/1727329108900.8151e06c.png" alt="1727329108900"></p> <p><img src="/devops/public/assets/img/1727331112590.28fa1174.png" alt="1727331112590"></p> <h3 id="_14-配置自定义告警模板"><a href="#_14-配置自定义告警模板" class="header-anchor">#</a> 14，配置自定义告警模板</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>故障操作
默认标题:
故障: <span class="token punctuation">{</span>EVENT.NAME<span class="token punctuation">}</span>
消息内容:
报警主机: <span class="token punctuation">{</span>HOST.NAME1<span class="token punctuation">}</span>
报警服务: <span class="token punctuation">{</span>ITEM.NAME<span class="token punctuation">}</span>
报警key1: <span class="token punctuation">{</span>ITEM.KEY1<span class="token punctuation">}</span>: <span class="token punctuation">{</span>ITEM.VALUE1<span class="token punctuation">}</span>
报警key2: <span class="token punctuation">{</span>ITEM.KEY2<span class="token punctuation">}</span>: <span class="token punctuation">{</span>ITEM.VALUE2<span class="token punctuation">}</span>
严重级别: <span class="token punctuation">{</span>TRIGGER.SEVERITY<span class="token punctuation">}</span>
 
恢复操作
默认标题:
恢复: <span class="token punctuation">{</span>EVENT.NAME<span class="token punctuation">}</span>
消息内容:
恢复主机: <span class="token punctuation">{</span>HOST.NAME1<span class="token punctuation">}</span>
恢复服务: <span class="token punctuation">{</span>ITEM.NAME<span class="token punctuation">}</span>
恢复key1: <span class="token punctuation">{</span>ITEM.KEY1<span class="token punctuation">}</span>: <span class="token punctuation">{</span>ITEM.VALUE1<span class="token punctuation">}</span>
恢复key2: <span class="token punctuation">{</span>ITEM.KEY2<span class="token punctuation">}</span>: <span class="token punctuation">{</span>ITEM.VALUE2<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="/devops/public/assets/img/1727331306401.f03c25f1.png" alt="1727331306401"></p> <p><img src="/devops/public/assets/img/1727331335746.8adb27fc.png" alt="1727331335746"></p> <p><img src="/devops/public/assets/img/1727331600204.0bdec04a.png" alt="1727331600204"></p> <p><img src="/devops/public/assets/img/1727331631203.3f6ee096.png" alt="1727331631203"></p> <h3 id="_15-配置远程执行命令"><a href="#_15-配置远程执行命令" class="header-anchor">#</a> 15，配置远程执行命令</h3> <p><img src="/devops/public/assets/img/1727331857441.78631413.png" alt="1727331857441"></p> <p><img src="/devops/public/assets/img/1727331957134.2569af75.png" alt="1727331957134"></p> <p>因为zabbix服务启动用户为zabbix，所以在远程执行命令时，需要sudo提权。</p> <p><img src="/devops/public/assets/img/1727332107347.f33ca016.png" alt="1727332107347"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#grep zabbix /etc/sudoers</span>
zabbix  <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       NOPASSWD: ALL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>客户端开启远程执行命令功能</p> <p><img src="/devops/public/assets/img/1727332268196.5e4e9934.png" alt="1727332268196"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#grep -n ^EnableRemote /etc/zabbix_agentd.conf</span>
<span class="token number">91</span>:EnableRemoteCommands<span class="token operator">=</span><span class="token number">1</span>
<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/devops/public/assets/img/1727332452668.dd1acda2.png" alt="1727332452668"></p> <p><img src="/devops/public/assets/img/1727332566164.74098f18.png" alt="1727332566164"></p> <p><img src="/devops/public/assets/img/1727332862172.49cf650a.png" alt="1727332862172"></p> <p>测试，当停止nginx后，nginx会自动重启，并发送邮件。</p> <p>配置事件通知升级过程</p> <p><img src="/devops/public/assets/img/1727333342736.07f956f4.png" alt="1727333342736"></p> <h3 id="_16-配置企业微信告警"><a href="#_16-配置企业微信告警" class="header-anchor">#</a> 16，配置企业微信告警</h3> <p>企业微信后台需要添加小程序，添加可信域名（需备案），添加可信IP（zabbix的所在网络的公网IP，curl cip.cc）</p> <p><strong>注册企业微信 注册流程</strong></p> <p><img src="/devops/public/assets/img/1727333398071.e9a5269d.png" alt="1727333398071"></p> <p><img src="/devops/public/assets/img/1727333406719.9ff4f9ca.png" alt="1727333406719"></p> <p><img src="/devops/public/assets/img/1727333415232.5970fa7c.png" alt="1727333415232"></p> <p><img src="/devops/public/assets/img/1727333423219.497787be.png" alt="1727333423219"></p> <p><img src="/devops/public/assets/img/1727333433582.97abb157.png" alt="1727333433582"></p> <p><img src="/devops/public/assets/img/1727333441561.bcc0073d.png" alt="1727333441561"></p> <p><img src="/devops/public/assets/img/1727333448546.eeeb137e.png" alt="1727333448546"></p> <p>下载weixin python告警脚本，weixin.py下载，然后上传到zabbix服务端</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python</span>
<span class="token comment">#-*- coding: utf-8 -*-</span>
<span class="token comment">#author: yanggd</span>
<span class="token comment">#date: 2021</span>
<span class="token comment">#comment: zabbix接入微信报警脚本</span>

<span class="token keyword">import</span> requests
<span class="token keyword">import</span> sys
<span class="token keyword">import</span> os
<span class="token keyword">import</span> json
<span class="token keyword">import</span> logging

logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level <span class="token operator">=</span> logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">,</span> <span class="token builtin">format</span> <span class="token operator">=</span> <span class="token string">'%(asctime)s, %(filename)s, %(levelname)s, %(message)s'</span><span class="token punctuation">,</span>
                datefmt <span class="token operator">=</span> <span class="token string">'%a, %d %b %Y %H:%M:%S'</span><span class="token punctuation">,</span>
                filename <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'/tmp'</span><span class="token punctuation">,</span><span class="token string">'weixin.log'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                filemode <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">)</span>

corpid<span class="token operator">=</span><span class="token string">'wwc405833fe46b7159'</span>  <span class="token comment"># 需要修改</span>
appsecret<span class="token operator">=</span><span class="token string">'zF6EKit-phyTCs_r1ek4d5QI2HXGFzVGRhzSPXOmGAI'</span> <span class="token comment"># 需要修改</span>
agentid<span class="token operator">=</span><span class="token number">1000002</span> <span class="token comment"># 需要修改</span>
<span class="token comment">#获取accesstoken</span>
token_url<span class="token operator">=</span><span class="token string">'https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid='</span> <span class="token operator">+</span> corpid <span class="token operator">+</span> <span class="token string">'&amp;corpsecret='</span> <span class="token operator">+</span> appsecret
req<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>token_url<span class="token punctuation">)</span>
accesstoken<span class="token operator">=</span>req<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'access_token'</span><span class="token punctuation">]</span>

<span class="token comment">#发送消息</span>
msgsend_url<span class="token operator">=</span><span class="token string">'https://qyapi.weixin.qq.com/cgi-bin/message/send?access_token='</span> <span class="token operator">+</span> accesstoken

touser<span class="token operator">=</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
subject<span class="token operator">=</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment">#toparty='3|4|5|6'</span>
message<span class="token operator">=</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\n\n&quot;</span> <span class="token operator">+</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>

params<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">&quot;touser&quot;</span><span class="token punctuation">:</span> touser<span class="token punctuation">,</span>
<span class="token comment">#       &quot;toparty&quot;: toparty,</span>
        <span class="token string">&quot;msgtype&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;agentid&quot;</span><span class="token punctuation">:</span> agentid<span class="token punctuation">,</span>
        <span class="token string">&quot;text&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;content&quot;</span><span class="token punctuation">:</span> message
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;safe&quot;</span><span class="token punctuation">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>

req<span class="token operator">=</span>requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>msgsend_url<span class="token punctuation">,</span> data<span class="token operator">=</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span>

logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'sendto:'</span> <span class="token operator">+</span> touser <span class="token operator">+</span> <span class="token string">';;subject:'</span> <span class="token operator">+</span> subject <span class="token operator">+</span> <span class="token string">';;message:'</span> <span class="token operator">+</span> message<span class="token punctuation">)</span>    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>安装python2版本：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#yum -y install python2</span>
安装python2-pip <span class="token comment"># 用来安装python依赖</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#yum -y install python2-pip</span>
安装运行python脚本的依赖
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#pip2.7 install requests</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>设置可信域名</p> <p><img src="/devops/public/assets/img/1727333622897.86b0d966.png" alt="1727333622897"></p> <p>下载验证文件，将文件上传到站点根目录下</p> <p><img src="/devops/public/assets/img/1727333665041.3721f323.png" alt="1727333665041"></p> <p>添加当前出口的公网IP地址(zabibix服务器的公网IP地址)</p> <p><img src="/devops/public/assets/img/1727333682862.f6db69c7.png" alt="1727333682862"></p> <p><img src="/devops/public/assets/img/1727333703730.31851866.png" alt="1727333703730"></p> <p><img src="/devops/public/assets/img/1727333712137.ad7fed63.png" alt="1727333712137"></p> <p>测试脚本：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#python2.7 weixin.py &quot;ZhaoJunJie&quot; &quot;下雨了&quot; &quot;回家开车&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/devops/public/assets/img/1727333735166.6556bbfe.png" alt="1727333735166"></p> <p>集成到zabbix页面中</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>将脚本移动到固定的目录
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#mv weixin.py /usr/local/share/zabbix/alertscripts/</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#ll</span>
/usr/local/share/zabbix/alertscripts/ total <span class="token number">4</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">1355</span> Sep <span class="token number">24</span> <span class="token number">15</span>:45 weixin.py

<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#chmod +x /usr/local/share/zabbix/alertscripts/weixin.py</span>

<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#ll /usr/local/share/zabbix/alertscripts/weixin.py</span>
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">1355</span> Sep <span class="token number">24</span> <span class="token number">15</span>:45 /usr/local/share/zabbix/alertscripts/weixin.py

<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#chown zabbix.zabbix /tmp/weixin.log</span>

<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#ll /tmp/weixin.log</span>
-rw-r--r-- <span class="token number">1</span> zabbix zabbix <span class="token number">5424</span> Sep <span class="token number">24</span> <span class="token number">15</span>:46 /tmp/weixin.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>创建媒介类型</p> <p><img src="/devops/public/assets/img/1727333840999.f20721de.png" alt="1727333840999"></p> <p><img src="/devops/public/assets/img/1727333851920.0251cc78.png" alt="1727333851920"></p> <p>自定义告警内容</p> <p><img src="/devops/public/assets/img/1727333901486.6da0ea25.png" alt="1727333901486"></p> <p>动作配置:</p> <p><img src="/devops/public/assets/img/1727333916870.7ad7ab3a.png" alt="1727333916870"></p> <p><img src="/devops/public/assets/img/1727333929619.8db5e772.png" alt="1727333929619"></p> <p>注意事项: 发送给客户端消息配置: 两种方式</p> <ul><li><p>第一种方式 使用媒介中的模版</p> <p><img src="/devops/public/assets/img/1727333951225.ad306a16.png" alt="1727333951225"></p></li> <li><p>第二种方式 在动作中自定义消息</p> <p><img src="/devops/public/assets/img/1727333966307.3b1afe20.png" alt="1727333966307"></p></li></ul> <h3 id="_17-自定义图形"><a href="#_17-自定义图形" class="header-anchor">#</a> 17，自定义图形</h3> <p><img src="/devops/public/assets/img/1727335465767.594f81d4.png" alt="1727335465767"></p> <p><img src="/devops/public/assets/img/1727335498465.89cda9fc.png" alt="1727335498465"></p> <p><img src="/devops/public/assets/img/1727335510740.ad73a0ad.png" alt="1727335510740"></p> <p>查看图形</p> <p><img src="/devops/public/assets/img/1727335570988.c219dc64.png" alt="1727335570988"></p> <p><strong>内存使用百分比创建图形</strong></p> <p><img src="/devops/public/assets/img/1727335657396.3170e0bc.png" alt="1727335657396"></p> <p>查看：</p> <p><img src="/devops/public/assets/img/1727335682543.3d43b270.png" alt="1727335682543"></p> <p><strong>在一张图片上显示多个监控项</strong></p> <p><img src="/devops/public/assets/img/1727335744351.dfd5e653.png" alt="1727335744351"></p> <p>查看：</p> <p><img src="/devops/public/assets/img/1727335775759.5cafdbae.png" alt="1727335775759"></p> <p>将多个表集成到一张图</p> <h3 id="_18-聚合图形"><a href="#_18-聚合图形" class="header-anchor">#</a> 18，聚合图形</h3> <p>将多个表集成到一张图</p> <p><img src="/devops/public/assets/img/1727336044137.d684332d.png" alt="1727336044137"></p> <p><img src="/devops/public/assets/img/1727336077100.24ee12ea.png" alt="1727336077100"></p> <p><img src="/devops/public/assets/img/1727336105742.d3255d17.png" alt="1727336105742"></p> <p><img src="/devops/public/assets/img/1727336118542.7b615784.png" alt="1727336118542"></p> <p><img src="/devops/public/assets/img/1727336178365.bc2cc2c1.png" alt="1727336178365"></p> <p>创建幻灯片：</p> <p><img src="/devops/public/assets/img/1727336217235.10d67797.png" alt="1727336217235"></p> <p><img src="/devops/public/assets/img/1727336232633.32f888a2.png" alt="1727336232633"></p> <p><img src="/devops/public/assets/img/1727336255226.3641a495.png" alt="1727336255226"></p> <p><img src="/devops/public/assets/img/1727336305184.62a4aa19.png" alt="1727336305184"></p> <p><img src="/devops/public/assets/img/1727336344133.f8b80fb0.png" alt="1727336344133"></p> <h3 id="_19-自定义模板"><a href="#_19-自定义模板" class="header-anchor">#</a> 19，自定义模板</h3> <p>将Nginx七种状态作为模版</p> <p>1.nginx配置七种状态</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Nginx 的状态模块展示了七种不同的状态（四种计数器和三种状态）。以下是这七种状态的含义：
<span class="token number">1</span>. active：当前 Nginx 正在处理的连接数，包括等待请求处理或正在响应请求的连接数。
<span class="token number">2</span>. accepts：Nginx 启动后已经接受的连接总数。
<span class="token number">3</span>. handled：Nginx 工作进程已成功处理的连接总数。与 accepts 计数器不同，此计数器可能会多个小于 accepts 数量，在某些情况下，客户端可能已经断开了连接而无法正常处理。
<span class="token number">4</span>. requests：已经接收到、处理并响应的请求数量，该值通常应与 handled 值相等。
<span class="token number">5</span>. reading：当前正在读取客户端请求头部字段的连接数。
<span class="token number">6</span>. writing：当前正在向客户端发送响应数据的连接数。
<span class="token number">7</span>. waiting：空闲 keep-alive 连接，既没有读也没有写。可以处理下一个请求的连接。
通过理解这些状态可以帮助我们了解 Nginx 正在处理哪些连接，并且在调试和优化性能时非常有用。 当 active 连接数随着来自客户端的请求增加而增加时，可能需要考虑优化配置以确保足够的性能水平和稳定性。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#cat wordpress.conf</span>
server <span class="token punctuation">{</span>
	listen <span class="token number">80</span><span class="token punctuation">;</span>
	server_name www.wp.com<span class="token punctuation">;</span>
	root /code/wp<span class="token punctuation">;</span>
	location / <span class="token punctuation">{</span>
		index index.php index.html<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	location /nginx_status <span class="token punctuation">{</span>
		stub_status<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	location ~ <span class="token punctuation">\</span>.php$ <span class="token punctuation">{</span>
		fastcgi_pass <span class="token number">127.0</span>.0.1:9000<span class="token punctuation">;</span>
		fastcgi_param SCRIPT_FILENAME
		<span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
		include fastcgi_params<span class="token punctuation">;</span>
		<span class="token comment">#fastcgi_param HTTPS on;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#nginx -t</span>

<span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart nginx</span>
<span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#curl 127.0.0.1/nginx_status</span>
Active connections: <span class="token number">1</span>
server accepts handled requests
<span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span>
Reading: <span class="token number">0</span> Writing: <span class="token number">1</span> Waiting: <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>测试：</p> <p><img src="/devops/public/assets/img/1727337466594.bb189969.png" alt="1727337466594"></p> <p>2.自定义取值</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#cat nginx.conf</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>nginx_ac,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/nginx_status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==1{print $NF}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>nginx_acc,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/nginx_status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==3{print $1}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>nginx_ha,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/nginx_status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==3{print $2}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>nginx_re,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/nginx_status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==3{print $3}'</span>
<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>

服务端测试:
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k nginx_ac</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k nginx_acc</span>
<span class="token number">11</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k nginx_re</span>
<span class="token number">12</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k nginx_ha</span>
<span class="token number">13</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="/devops/public/assets/img/1727337633251.9f0873ba.png" alt="1727337633251"></p> <p><img src="/devops/public/assets/img/1727337667599.ba562a36.png" alt="1727337667599"></p> <p>创建模版监控项和主机还没有进行关联</p> <p><img src="/devops/public/assets/img/1727337732397.617f73ef.png" alt="1727337732397"></p> <p><img src="/devops/public/assets/img/1727337770931.0d3b3e29.png" alt="1727337770931"></p> <p><img src="/devops/public/assets/img/1727337824660.71295c36.png" alt="1727337824660"></p> <p>后面再进行创建监控项 直接克隆前面的即可。</p> <p><img src="/devops/public/assets/img/1727337893834.aac7cc67.png" alt="1727337893834"></p> <p><img src="/devops/public/assets/img/1727337939247.c4339074.png" alt="1727337939247"></p> <p><img src="/devops/public/assets/img/1727337967743.4428e208.png" alt="1727337967743"></p> <p><img src="/devops/public/assets/img/1727338059886.715ffc37.png" alt="1727338059886"></p> <p>创建了5个监控项：</p> <p><img src="/devops/public/assets/img/1727338078084.3d70bd6b.png" alt="1727338078084"></p> <p>创建触发器：</p> <p><img src="/devops/public/assets/img/1727338165270.76d2124b.png" alt="1727338165270"></p> <p><img src="/devops/public/assets/img/1727338246530.f2cffb2d.png" alt="1727338246530"></p> <p>关联自定义的模版</p> <p><img src="/devops/public/assets/img/1727338324512.2bce6c76.png" alt="1727338324512"></p> <p><img src="/devops/public/assets/img/1727338418670.d2338a42.png" alt="1727338418670"></p> <p>查看关联后的图形</p> <p><img src="/devops/public/assets/img/1727338665084.42f976c8.png" alt="1727338665084"></p> <h3 id="_20-web02关联nginx模板"><a href="#_20-web02关联nginx模板" class="header-anchor">#</a> 20，web02关联nginx模板</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.安装zabbix客户端
<span class="token punctuation">[</span>root@web02:~<span class="token punctuation">]</span><span class="token comment">#yum -y install zabbix-agent</span>

<span class="token number">2</span>.配置文件指向服务端
<span class="token punctuation">[</span>root@web02:~<span class="token punctuation">]</span><span class="token comment">#grep 172.16.1.71 /etc/zabbix_agentd.conf</span>
<span class="token assign-left variable">Server</span><span class="token operator">=</span><span class="token number">172.16</span>.1.71

<span class="token number">3</span>.配置nginx状态
<span class="token punctuation">[</span>root@web02:conf.d<span class="token punctuation">]</span><span class="token comment">#cat wordpress.conf</span>
server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name www.wp.com<span class="token punctuation">;</span>
    root /code/wp<span class="token punctuation">;</span>
        location / <span class="token punctuation">{</span>
        index index.php index.html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location /nginx_status <span class="token punctuation">{</span>
        stub_status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location ~ <span class="token punctuation">\</span>.php$ <span class="token punctuation">{</span>
        fastcgi_pass <span class="token number">127.0</span>.0.1:9000<span class="token punctuation">;</span>
        fastcgi_param SCRIPT_FILENAME
        <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
        include fastcgi_params<span class="token punctuation">;</span>
        <span class="token comment">#fastcgi_param HTTPS on;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span>root@web02:conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart nginx</span>
<span class="token punctuation">[</span>root@web02:conf.d<span class="token punctuation">]</span><span class="token comment">#curl 127.0.0.1/nginx_status</span>
Active connections: <span class="token number">1</span>
server accepts handled requests
<span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span>
Reading: <span class="token number">0</span> Writing: <span class="token number">1</span> Waiting: <span class="token number">0</span>

<span class="token number">4</span>.将web01的自定义key拷贝到web02
<span class="token punctuation">[</span>root@web02:conf.d<span class="token punctuation">]</span><span class="token comment">#ll /etc/zabbix_agentd.conf.d/</span>

开启include配置
<span class="token punctuation">[</span>root@web02:conf.d<span class="token punctuation">]</span><span class="token comment">#sed -n '314p' /etc/zabbix_agentd.conf</span>
<span class="token assign-left variable">Include</span><span class="token operator">=</span>/etc/zabbix_agentd.conf.d/*.conf

<span class="token number">5</span>.重启zabbix客户端
<span class="token punctuation">[</span>root@web02:conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>

<span class="token number">6</span>.监控主机并且关联模版
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p><img src="/devops/public/assets/img/1727339586074.e533e284.png" alt="1727339586074"></p> <p>关联模版</p> <p><img src="/devops/public/assets/img/1727339704192.5b46d6eb.png" alt="1727339704192"></p> <p><img src="/devops/public/assets/img/1727339830940.d8a6bfc0.png" alt="1727339830940"></p> <h3 id="_21-监控php状态信息"><a href="#_21-监控php状态信息" class="header-anchor">#</a> 21，监控PHP状态信息</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#sed -n '240p' /etc/php-fpm.d/www.conf</span>
pm.status_path <span class="token operator">=</span> /status

<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#php-fpm -t</span>
<span class="token punctuation">[</span><span class="token number">25</span>-Sep-2024 <span class="token number">11</span>:15:49<span class="token punctuation">]</span> NOTICE: configuration
<span class="token function">file</span> /etc/php-fpm.conf <span class="token builtin class-name">test</span> is successful

<span class="token punctuation">[</span>root@web01:~<span class="token punctuation">]</span><span class="token comment">#systemctl restart php-fpm</span>

配置nginx
<span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#cat wordpress.conf</span>
server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name www.wp.com<span class="token punctuation">;</span>
    root /code/wp<span class="token punctuation">;</span>
    location / <span class="token punctuation">{</span>
    	index index.php index.html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location /nginx_status <span class="token punctuation">{</span>
    	stub_status<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location /status <span class="token punctuation">{</span>
        fastcgi_pass <span class="token number">127.0</span>.0.1:9000<span class="token punctuation">;</span>
        fastcgi_param SCRIPT_FILENAME
        <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
        include fastcgi_params<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    location ~ <span class="token punctuation">\</span>.php$ <span class="token punctuation">{</span>
        fastcgi_pass <span class="token number">127.0</span>.0.1:9000<span class="token punctuation">;</span>
        fastcgi_param SCRIPT_FILENAME
        <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span><span class="token punctuation">;</span>
        include fastcgi_params<span class="token punctuation">;</span>
        <span class="token comment">#fastcgi_param HTTPS on;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#nginx -t</span>

<span class="token punctuation">[</span>root@web01:conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart nginx</span>

测试取值:
<span class="token function">curl</span> <span class="token number">127.0</span>.0.1/status
pool: www  <span class="token comment"># pool的名称</span>
process manager: dynamic  <span class="token comment"># 进程管理方式，现今大多都为dynamic，不要使用static</span>
start time: <span class="token number">11</span>/Nov/2021:10:11:53+0800 <span class="token comment"># php-fpm上次启动的时间</span>
start since: <span class="token number">282</span>  <span class="token comment"># php-fpm已运行了多少秒</span>
accepted conn: <span class="token number">2</span>  <span class="token comment"># pool接收到的请求数</span>
listen queue: <span class="token number">0</span>  <span class="token comment"># 处于等待状态中的连接数，如果不为0，需要增加php-fpm进程数</span>
max listen queue: <span class="token number">0</span>  <span class="token comment"># 从php-fpm启动到现在处于等待连接的最大数量</span>
listen queue len: <span class="token number">128</span>  <span class="token comment"># 处于等待连接队列的套接字大小</span>
idle processes: <span class="token number">4</span>  <span class="token comment"># 处于空闲状态的进程数</span>
active processes: <span class="token number">1</span>  <span class="token comment"># 处于活动状态的进程数</span>
total processes: <span class="token number">5</span>  <span class="token comment"># 进程总数</span>
max active processes: <span class="token number">1</span>  <span class="token comment"># 从php-fpm启动到现在最多有几个进程处于活动状态</span>
max children reached: <span class="token number">0</span> <span class="token comment"># 当pm试图启动更多的children进程时，却达到了进程数的限制，达到一次记录一次，如果不为0，需要增加php-fpm pool进程的最大数</span>
slow requests: <span class="token number">0</span> <span class="token comment"># 当启用了php-fpm slow-log功能时，如果出现php-fpm慢请求这个计数器会增加，一般不当的Mysql查询会触发这个值</span>


自定义取值
<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#cat php.conf</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>php_idle,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^idle/{print $NF}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>php_ac,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^active/{print $NF}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>php_max,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==12{print $NF}'</span>
<span class="token assign-left variable">UserParameter</span><span class="token operator">=</span>php_chil,curl <span class="token parameter variable">-s</span> <span class="token number">127.0</span>.0.1/status<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'NR==13{print $NF}'</span>

<span class="token punctuation">[</span>root@web01:zabbix_agentd.conf.d<span class="token punctuation">]</span><span class="token comment">#systemctl restart zabbix-agent</span>

服务端测试
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k php_idle</span>
<span class="token number">4</span>
<span class="token punctuation">[</span>root@zabbix:~<span class="token punctuation">]</span><span class="token comment">#zabbix_get -s 172.16.1.7 -k php_ac</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><p>创建PHP模版</p> <p><img src="/devops/public/assets/img/1727352858575.9f830bea.png" alt="1727352858575"></p> <p><img src="/devops/public/assets/img/1727352867460.38b0ec1f.png" alt="1727352867460"></p> <p><img src="/devops/public/assets/img/1727352950293.79bac6f4.png" alt="1727352950293"></p> <p><img src="/devops/public/assets/img/1727353150427.441151eb.png" alt="1727353150427"></p> <p>触发器配置</p> <p><img src="/devops/public/assets/img/1727353222531.4e83c6bc.png" alt="1727353222531"></p> <p>图形配置</p> <p><img src="/devops/public/assets/img/1727353255708.dce44195.png" alt="1727353255708"></p> <p>关联到WEB01</p> <p><img src="/devops/public/assets/img/1727353332824.556497a9.png" alt="1727353332824"></p> <p>测试：</p> <p><img src="/devops/public/assets/img/1727353389657.eedd3a98.png" alt="1727353389657"></p> <h3 id="_22-使用脚本方式自定义监控项"><a href="#_22-使用脚本方式自定义监控项" class="header-anchor">#</a> 22，使用脚本方式自定义监控项</h3></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/26/2024, 9:15:52 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_1-监控的重要性" class="sidebar-link reco-side-_1-监控的重要性" data-v-b57cc07c>1，监控的重要性</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_2-zabbix安装部署" class="sidebar-link reco-side-_2-zabbix安装部署" data-v-b57cc07c>2，zabbix安装部署</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_3-界面配置" class="sidebar-link reco-side-_3-界面配置" data-v-b57cc07c>3，界面配置</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_4-监控zabbix服务器本身-监控客户端" class="sidebar-link reco-side-_4-监控zabbix服务器本身-监控客户端" data-v-b57cc07c>4，监控zabbix服务器本身，监控客户端</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_5-日志位置" class="sidebar-link reco-side-_5-日志位置" data-v-b57cc07c>5，日志位置</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_6-自定义监控流程" class="sidebar-link reco-side-_6-自定义监控流程" data-v-b57cc07c>6，自定义监控流程</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_7-自定义监控端口是否存在" class="sidebar-link reco-side-_7-自定义监控端口是否存在" data-v-b57cc07c>7，自定义监控端口是否存在</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_8-自定义映射值" class="sidebar-link reco-side-_8-自定义映射值" data-v-b57cc07c>8，自定义映射值</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_9-自定义监控内存使用率" class="sidebar-link reco-side-_9-自定义监控内存使用率" data-v-b57cc07c>9，自定义监控内存使用率</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_10-设置触发器" class="sidebar-link reco-side-_10-设置触发器" data-v-b57cc07c>10，设置触发器</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_11-设置内存超过40-告警-实际工作中80" class="sidebar-link reco-side-_11-设置内存超过40-告警-实际工作中80" data-v-b57cc07c>11，设置内存超过40%告警（实际工作中80%）</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_12-设置联合告警" class="sidebar-link reco-side-_12-设置联合告警" data-v-b57cc07c>12，设置联合告警</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_13-配置邮件告警" class="sidebar-link reco-side-_13-配置邮件告警" data-v-b57cc07c>13，配置邮件告警</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_14-配置自定义告警模板" class="sidebar-link reco-side-_14-配置自定义告警模板" data-v-b57cc07c>14，配置自定义告警模板</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_15-配置远程执行命令" class="sidebar-link reco-side-_15-配置远程执行命令" data-v-b57cc07c>15，配置远程执行命令</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_16-配置企业微信告警" class="sidebar-link reco-side-_16-配置企业微信告警" data-v-b57cc07c>16，配置企业微信告警</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_17-自定义图形" class="sidebar-link reco-side-_17-自定义图形" data-v-b57cc07c>17，自定义图形</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_18-聚合图形" class="sidebar-link reco-side-_18-聚合图形" data-v-b57cc07c>18，聚合图形</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_19-自定义模板" class="sidebar-link reco-side-_19-自定义模板" data-v-b57cc07c>19，自定义模板</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_20-web02关联nginx模板" class="sidebar-link reco-side-_20-web02关联nginx模板" data-v-b57cc07c>20，web02关联nginx模板</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_21-监控php状态信息" class="sidebar-link reco-side-_21-监控php状态信息" data-v-b57cc07c>21，监控PHP状态信息</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/40-zibbix01/zibbix01.html#_22-使用脚本方式自定义监控项" class="sidebar-link reco-side-_22-使用脚本方式自定义监控项" data-v-b57cc07c>22，使用脚本方式自定义监控项</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/devops/public/assets/js/app.7d569ec8.js" defer></script><script src="/devops/public/assets/js/118.ceed6ab6.js" defer></script><script src="/devops/public/assets/js/1.774fca24.js" defer></script><script src="/devops/public/assets/js/35.69f1e115.js" defer></script>
  </body>
</html>
