<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>12-磁盘管理 | devops</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/devops/public/favicon.ico">
    <meta name="description" content="快来玩devops">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/devops/public/assets/css/0.styles.4a69f283.css" as="style"><link rel="preload" href="/devops/public/assets/js/app.da46fb0d.js" as="script"><link rel="preload" href="/devops/public/assets/js/112.e9353a62.js" as="script"><link rel="preload" href="/devops/public/assets/js/1.774fca24.js" as="script"><link rel="preload" href="/devops/public/assets/js/143.4e5b68be.js" as="script"><link rel="prefetch" href="/devops/public/assets/js/10.d5fa605d.js"><link rel="prefetch" href="/devops/public/assets/js/100.2b807104.js"><link rel="prefetch" href="/devops/public/assets/js/101.c9ed87bc.js"><link rel="prefetch" href="/devops/public/assets/js/102.20713ecb.js"><link rel="prefetch" href="/devops/public/assets/js/103.a69c77d1.js"><link rel="prefetch" href="/devops/public/assets/js/104.f8c1e919.js"><link rel="prefetch" href="/devops/public/assets/js/105.b26a5eed.js"><link rel="prefetch" href="/devops/public/assets/js/106.395e000f.js"><link rel="prefetch" href="/devops/public/assets/js/107.298c55ba.js"><link rel="prefetch" href="/devops/public/assets/js/108.ccf2a03b.js"><link rel="prefetch" href="/devops/public/assets/js/109.004bc012.js"><link rel="prefetch" href="/devops/public/assets/js/11.c1c06b21.js"><link rel="prefetch" href="/devops/public/assets/js/110.e7ecd824.js"><link rel="prefetch" href="/devops/public/assets/js/111.2cb2ef73.js"><link rel="prefetch" href="/devops/public/assets/js/113.e91b636e.js"><link rel="prefetch" href="/devops/public/assets/js/114.075eb0f3.js"><link rel="prefetch" href="/devops/public/assets/js/115.0dc8b9cd.js"><link rel="prefetch" href="/devops/public/assets/js/116.91ee2be3.js"><link rel="prefetch" href="/devops/public/assets/js/117.485f25b0.js"><link rel="prefetch" href="/devops/public/assets/js/118.7fca3ab0.js"><link rel="prefetch" href="/devops/public/assets/js/119.53bfec3f.js"><link rel="prefetch" href="/devops/public/assets/js/12.b37e90e9.js"><link rel="prefetch" href="/devops/public/assets/js/120.b65d9443.js"><link rel="prefetch" href="/devops/public/assets/js/121.ba249067.js"><link rel="prefetch" href="/devops/public/assets/js/122.98dfd43d.js"><link rel="prefetch" href="/devops/public/assets/js/123.59ee5612.js"><link rel="prefetch" href="/devops/public/assets/js/124.5f232db2.js"><link rel="prefetch" href="/devops/public/assets/js/125.da798f3b.js"><link rel="prefetch" href="/devops/public/assets/js/126.8c10685d.js"><link rel="prefetch" href="/devops/public/assets/js/127.0f26fb17.js"><link rel="prefetch" href="/devops/public/assets/js/128.53173eaf.js"><link rel="prefetch" href="/devops/public/assets/js/129.ebc959ed.js"><link rel="prefetch" href="/devops/public/assets/js/13.1e8c326e.js"><link rel="prefetch" href="/devops/public/assets/js/130.f7f32489.js"><link rel="prefetch" href="/devops/public/assets/js/131.dbce6162.js"><link rel="prefetch" href="/devops/public/assets/js/132.775b0532.js"><link rel="prefetch" href="/devops/public/assets/js/133.99a864ed.js"><link rel="prefetch" href="/devops/public/assets/js/134.db2d7b6e.js"><link rel="prefetch" href="/devops/public/assets/js/135.2bf9f6be.js"><link rel="prefetch" href="/devops/public/assets/js/136.442280d2.js"><link rel="prefetch" href="/devops/public/assets/js/137.19c47e76.js"><link rel="prefetch" href="/devops/public/assets/js/138.f7ae4cb5.js"><link rel="prefetch" href="/devops/public/assets/js/139.89a30276.js"><link rel="prefetch" href="/devops/public/assets/js/14.cd6c6f8c.js"><link rel="prefetch" href="/devops/public/assets/js/140.510fdc0e.js"><link rel="prefetch" href="/devops/public/assets/js/141.d5a7f4d5.js"><link rel="prefetch" href="/devops/public/assets/js/142.2c1fc5ce.js"><link rel="prefetch" href="/devops/public/assets/js/144.cf8e32f0.js"><link rel="prefetch" href="/devops/public/assets/js/145.71bfa58e.js"><link rel="prefetch" href="/devops/public/assets/js/146.250773ec.js"><link rel="prefetch" href="/devops/public/assets/js/147.4bc85e1b.js"><link rel="prefetch" href="/devops/public/assets/js/148.c5cc0ca6.js"><link rel="prefetch" href="/devops/public/assets/js/149.a89b14e4.js"><link rel="prefetch" href="/devops/public/assets/js/15.e08264b7.js"><link rel="prefetch" href="/devops/public/assets/js/150.5710fabf.js"><link rel="prefetch" href="/devops/public/assets/js/151.a7d14910.js"><link rel="prefetch" href="/devops/public/assets/js/152.90ff1d57.js"><link rel="prefetch" href="/devops/public/assets/js/153.aca31dca.js"><link rel="prefetch" href="/devops/public/assets/js/154.1bf86ed2.js"><link rel="prefetch" href="/devops/public/assets/js/155.1d066722.js"><link rel="prefetch" href="/devops/public/assets/js/156.38946358.js"><link rel="prefetch" href="/devops/public/assets/js/157.53cbc44b.js"><link rel="prefetch" href="/devops/public/assets/js/158.e9e249ea.js"><link rel="prefetch" href="/devops/public/assets/js/159.0bd37965.js"><link rel="prefetch" href="/devops/public/assets/js/16.c573ed60.js"><link rel="prefetch" href="/devops/public/assets/js/160.8268a073.js"><link rel="prefetch" href="/devops/public/assets/js/161.7d820339.js"><link rel="prefetch" href="/devops/public/assets/js/162.5bbc3a7c.js"><link rel="prefetch" href="/devops/public/assets/js/163.8135e2d0.js"><link rel="prefetch" href="/devops/public/assets/js/164.f1fd6727.js"><link rel="prefetch" href="/devops/public/assets/js/165.db0334af.js"><link rel="prefetch" href="/devops/public/assets/js/166.3462f967.js"><link rel="prefetch" href="/devops/public/assets/js/167.2ae21c60.js"><link rel="prefetch" href="/devops/public/assets/js/168.13db8e3b.js"><link rel="prefetch" href="/devops/public/assets/js/169.2ca4e582.js"><link rel="prefetch" href="/devops/public/assets/js/17.47270e0c.js"><link rel="prefetch" href="/devops/public/assets/js/170.05384c46.js"><link rel="prefetch" href="/devops/public/assets/js/171.5110af01.js"><link rel="prefetch" href="/devops/public/assets/js/172.f14f3970.js"><link rel="prefetch" href="/devops/public/assets/js/173.7e388da6.js"><link rel="prefetch" href="/devops/public/assets/js/174.9b043090.js"><link rel="prefetch" href="/devops/public/assets/js/175.a5c8bbe0.js"><link rel="prefetch" href="/devops/public/assets/js/176.343938ff.js"><link rel="prefetch" href="/devops/public/assets/js/177.190deca6.js"><link rel="prefetch" href="/devops/public/assets/js/178.af374509.js"><link rel="prefetch" href="/devops/public/assets/js/179.e04e2dda.js"><link rel="prefetch" href="/devops/public/assets/js/18.506633b4.js"><link rel="prefetch" href="/devops/public/assets/js/180.446dde78.js"><link rel="prefetch" href="/devops/public/assets/js/181.47b00748.js"><link rel="prefetch" href="/devops/public/assets/js/182.1d28c9c5.js"><link rel="prefetch" href="/devops/public/assets/js/183.0fe3bb22.js"><link rel="prefetch" href="/devops/public/assets/js/184.7b28b537.js"><link rel="prefetch" href="/devops/public/assets/js/185.cf7b34e2.js"><link rel="prefetch" href="/devops/public/assets/js/186.79e1950c.js"><link rel="prefetch" href="/devops/public/assets/js/187.da138971.js"><link rel="prefetch" href="/devops/public/assets/js/188.9d944380.js"><link rel="prefetch" href="/devops/public/assets/js/189.f9067c57.js"><link rel="prefetch" href="/devops/public/assets/js/19.a8c2558f.js"><link rel="prefetch" href="/devops/public/assets/js/190.1f95cd27.js"><link rel="prefetch" href="/devops/public/assets/js/191.da08dc1c.js"><link rel="prefetch" href="/devops/public/assets/js/192.2d252df6.js"><link rel="prefetch" href="/devops/public/assets/js/193.0ed58c33.js"><link rel="prefetch" href="/devops/public/assets/js/194.6d225309.js"><link rel="prefetch" href="/devops/public/assets/js/195.334698b8.js"><link rel="prefetch" href="/devops/public/assets/js/196.7980f691.js"><link rel="prefetch" href="/devops/public/assets/js/197.9ae83ddb.js"><link rel="prefetch" href="/devops/public/assets/js/198.40f4b455.js"><link rel="prefetch" href="/devops/public/assets/js/199.4d623636.js"><link rel="prefetch" href="/devops/public/assets/js/20.4ea24f05.js"><link rel="prefetch" href="/devops/public/assets/js/200.dfe305ce.js"><link rel="prefetch" href="/devops/public/assets/js/201.48f88cdf.js"><link rel="prefetch" href="/devops/public/assets/js/202.034fbf57.js"><link rel="prefetch" href="/devops/public/assets/js/203.62542c1d.js"><link rel="prefetch" href="/devops/public/assets/js/204.2065a11d.js"><link rel="prefetch" href="/devops/public/assets/js/205.3e1b3ace.js"><link rel="prefetch" href="/devops/public/assets/js/206.a356fc03.js"><link rel="prefetch" href="/devops/public/assets/js/207.95e13641.js"><link rel="prefetch" href="/devops/public/assets/js/208.304bf190.js"><link rel="prefetch" href="/devops/public/assets/js/209.754ffd78.js"><link rel="prefetch" href="/devops/public/assets/js/21.0e389ee3.js"><link rel="prefetch" href="/devops/public/assets/js/210.33a2be90.js"><link rel="prefetch" href="/devops/public/assets/js/211.a7fdff0c.js"><link rel="prefetch" href="/devops/public/assets/js/212.5b0fbb0f.js"><link rel="prefetch" href="/devops/public/assets/js/213.bcbf03ef.js"><link rel="prefetch" href="/devops/public/assets/js/214.cb6d5e5c.js"><link rel="prefetch" href="/devops/public/assets/js/215.a20af889.js"><link rel="prefetch" href="/devops/public/assets/js/216.9bd74537.js"><link rel="prefetch" href="/devops/public/assets/js/217.1552f43d.js"><link rel="prefetch" href="/devops/public/assets/js/218.926d0454.js"><link rel="prefetch" href="/devops/public/assets/js/219.57787fb9.js"><link rel="prefetch" href="/devops/public/assets/js/22.07ac24af.js"><link rel="prefetch" href="/devops/public/assets/js/220.9af33102.js"><link rel="prefetch" href="/devops/public/assets/js/221.ef5f15f1.js"><link rel="prefetch" href="/devops/public/assets/js/222.8498f36e.js"><link rel="prefetch" href="/devops/public/assets/js/223.0be141e1.js"><link rel="prefetch" href="/devops/public/assets/js/224.f5b83fd2.js"><link rel="prefetch" href="/devops/public/assets/js/225.d15c9876.js"><link rel="prefetch" href="/devops/public/assets/js/226.0e15d09e.js"><link rel="prefetch" href="/devops/public/assets/js/227.17c26374.js"><link rel="prefetch" href="/devops/public/assets/js/23.f6475087.js"><link rel="prefetch" href="/devops/public/assets/js/24.2548e2f5.js"><link rel="prefetch" href="/devops/public/assets/js/25.23e92d30.js"><link rel="prefetch" href="/devops/public/assets/js/26.5526d8e7.js"><link rel="prefetch" href="/devops/public/assets/js/27.875cf52e.js"><link rel="prefetch" href="/devops/public/assets/js/28.3d12bf9c.js"><link rel="prefetch" href="/devops/public/assets/js/29.a502d286.js"><link rel="prefetch" href="/devops/public/assets/js/3.96cd6596.js"><link rel="prefetch" href="/devops/public/assets/js/30.787537db.js"><link rel="prefetch" href="/devops/public/assets/js/31.689670eb.js"><link rel="prefetch" href="/devops/public/assets/js/32.9163588b.js"><link rel="prefetch" href="/devops/public/assets/js/33.aae6ef1c.js"><link rel="prefetch" href="/devops/public/assets/js/34.d28efdc4.js"><link rel="prefetch" href="/devops/public/assets/js/35.51ebeaac.js"><link rel="prefetch" href="/devops/public/assets/js/36.addd61d9.js"><link rel="prefetch" href="/devops/public/assets/js/37.2828d13e.js"><link rel="prefetch" href="/devops/public/assets/js/38.ad1442e4.js"><link rel="prefetch" href="/devops/public/assets/js/39.93ecf6c1.js"><link rel="prefetch" href="/devops/public/assets/js/4.cd98add4.js"><link rel="prefetch" href="/devops/public/assets/js/40.044ebb19.js"><link rel="prefetch" href="/devops/public/assets/js/41.e1a0dc7c.js"><link rel="prefetch" href="/devops/public/assets/js/42.aeb813b2.js"><link rel="prefetch" href="/devops/public/assets/js/43.1da58eee.js"><link rel="prefetch" href="/devops/public/assets/js/44.9a2a99b8.js"><link rel="prefetch" href="/devops/public/assets/js/45.2d1fdbd0.js"><link rel="prefetch" href="/devops/public/assets/js/46.1e6d0f0d.js"><link rel="prefetch" href="/devops/public/assets/js/47.7152d5b3.js"><link rel="prefetch" href="/devops/public/assets/js/48.755fe56d.js"><link rel="prefetch" href="/devops/public/assets/js/49.cedc331e.js"><link rel="prefetch" href="/devops/public/assets/js/5.3bad393a.js"><link rel="prefetch" href="/devops/public/assets/js/50.9edae6e9.js"><link rel="prefetch" href="/devops/public/assets/js/51.a53eba91.js"><link rel="prefetch" href="/devops/public/assets/js/52.8cadb5b1.js"><link rel="prefetch" href="/devops/public/assets/js/53.d3f67434.js"><link rel="prefetch" href="/devops/public/assets/js/54.73c6ee75.js"><link rel="prefetch" href="/devops/public/assets/js/55.d6b4bcda.js"><link rel="prefetch" href="/devops/public/assets/js/56.3e13e54e.js"><link rel="prefetch" href="/devops/public/assets/js/57.1faf3dee.js"><link rel="prefetch" href="/devops/public/assets/js/58.8cb65ef5.js"><link rel="prefetch" href="/devops/public/assets/js/59.46df740b.js"><link rel="prefetch" href="/devops/public/assets/js/6.edc4e6fc.js"><link rel="prefetch" href="/devops/public/assets/js/60.5ea44d1c.js"><link rel="prefetch" href="/devops/public/assets/js/61.d0e5e05c.js"><link rel="prefetch" href="/devops/public/assets/js/62.f91b3037.js"><link rel="prefetch" href="/devops/public/assets/js/63.fb6695b6.js"><link rel="prefetch" href="/devops/public/assets/js/64.28abfc35.js"><link rel="prefetch" href="/devops/public/assets/js/65.70a4892e.js"><link rel="prefetch" href="/devops/public/assets/js/66.7a66d6a7.js"><link rel="prefetch" href="/devops/public/assets/js/67.c267ccea.js"><link rel="prefetch" href="/devops/public/assets/js/68.9c8dc23a.js"><link rel="prefetch" href="/devops/public/assets/js/69.c80e460a.js"><link rel="prefetch" href="/devops/public/assets/js/7.c971da23.js"><link rel="prefetch" href="/devops/public/assets/js/70.d1382ea3.js"><link rel="prefetch" href="/devops/public/assets/js/71.2a496c8b.js"><link rel="prefetch" href="/devops/public/assets/js/72.c359856d.js"><link rel="prefetch" href="/devops/public/assets/js/73.4de269b5.js"><link rel="prefetch" href="/devops/public/assets/js/74.4215b1f8.js"><link rel="prefetch" href="/devops/public/assets/js/75.db555050.js"><link rel="prefetch" href="/devops/public/assets/js/76.afb5aaff.js"><link rel="prefetch" href="/devops/public/assets/js/77.bcf8217e.js"><link rel="prefetch" href="/devops/public/assets/js/78.d4cc49d6.js"><link rel="prefetch" href="/devops/public/assets/js/79.ac99496c.js"><link rel="prefetch" href="/devops/public/assets/js/8.840d6402.js"><link rel="prefetch" href="/devops/public/assets/js/80.f158ad85.js"><link rel="prefetch" href="/devops/public/assets/js/81.b304e97f.js"><link rel="prefetch" href="/devops/public/assets/js/82.5b41d81d.js"><link rel="prefetch" href="/devops/public/assets/js/83.f03215ca.js"><link rel="prefetch" href="/devops/public/assets/js/84.b45ad568.js"><link rel="prefetch" href="/devops/public/assets/js/85.fee7f9c3.js"><link rel="prefetch" href="/devops/public/assets/js/86.5cdd3339.js"><link rel="prefetch" href="/devops/public/assets/js/87.00c21be9.js"><link rel="prefetch" href="/devops/public/assets/js/88.ea785803.js"><link rel="prefetch" href="/devops/public/assets/js/89.a325e838.js"><link rel="prefetch" href="/devops/public/assets/js/9.211abcf3.js"><link rel="prefetch" href="/devops/public/assets/js/90.0237f225.js"><link rel="prefetch" href="/devops/public/assets/js/91.6bf47204.js"><link rel="prefetch" href="/devops/public/assets/js/92.1409f9d9.js"><link rel="prefetch" href="/devops/public/assets/js/93.fe845b35.js"><link rel="prefetch" href="/devops/public/assets/js/94.f2e3cf9c.js"><link rel="prefetch" href="/devops/public/assets/js/95.8a27dbbb.js"><link rel="prefetch" href="/devops/public/assets/js/96.48f2ca83.js"><link rel="prefetch" href="/devops/public/assets/js/97.d43f4f63.js"><link rel="prefetch" href="/devops/public/assets/js/98.4fdce4fc.js"><link rel="prefetch" href="/devops/public/assets/js/99.5700d72f.js">
    <link rel="stylesheet" href="/devops/public/assets/css/0.styles.4a69f283.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>devops</h3> <p class="description" data-v-59e6cb88>快来玩devops</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>devops</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/devops/public/" class="home-link router-link-active"><img src="/devops/public/logo.png" alt="devops" class="logo"> <span class="site-name">devops</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/devops/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      devops
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/devops/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/devops/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/devops/public/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    devops
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>213</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>43</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/devops/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      devops
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/devops/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/devops/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/devops/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>12-磁盘管理</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>devops</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">12-磁盘管理</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>devops</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>12/15/2028</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>devops</span></i></div></div> <div class="theme-reco-content content__default"><h3 id="_1-磁盘管理上"><a href="#_1-磁盘管理上" class="header-anchor">#</a> 1，磁盘管理上</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>磁盘作用: 存储数据的 大片 视频 笔记 照片
<span class="token number">1</span>.磁盘分类:
    <span class="token number">1</span><span class="token punctuation">)</span>机械硬盘 台式机 重 大 慢 像个砖头，在台式机里，3.5英寸大小，通过机械运动达到读写数据的作用
    	电机带动磁盘高速旋转，速度可以达到5400 <span class="token number">7200</span> 每分钟多少转 
    	rpm是 round per minute 每分钟多少转的意思
    <span class="token number">2</span><span class="token punctuation">)</span>固态硬盘 轻 小 快   集成电路与芯片,存储芯片,是芯片式的
    	固态硬盘存储颗粒: SLC,TLC,MLC,3D Nand
    <span class="token number">3</span><span class="token punctuation">)</span>NVme固态 轻 小 快, M.2磁盘 PCI-E 类似显卡 像内存条
    
外观大小:
    <span class="token number">3.5</span>英寸 存储大
    <span class="token number">2.5</span>英寸 存储小
    
<span class="token number">2</span>.磁盘接口
    IED接口   淘汰, 很多针，有插电源的地方
    SCSI   淘汰, 笔记本 台式机 不常用
    SATA 常用 家用 笔记本 台式机  左边数据线右边电源线 中间有豁口 <span class="token number">7200</span>转/10k转
    	一般家用,一般用于机械硬盘,也有固态硬盘,容量大，价格较低 <span class="token builtin class-name">.</span>
    SAS 企业标配, 多出来一块 服务器标配 <span class="token number">7</span>.2k 10k 15k
    	给企业环境使用,一般用于机械硬盘,也有固态硬盘
    	15k/分钟 最大储存 900G（能达到15k转） 600G（用的居多，600*8或者600*4） 300G
    	做备份的服务器，只管空间大，2T 4T*8
   	PCI-E
   		企业级使用,固态硬盘用,白色插槽，可以插外接独立声卡
   	U.2
   		企业级固态硬盘使用。PCI-E类似
    
<span class="token number">3</span>.转速<span class="token punctuation">(</span>注重安全速度就慢，注重速度安全性就低<span class="token punctuation">)</span>
    SATA 转速慢/存储高 1T 2T 4T 8T 10T <span class="token number">1</span>万转/每分钟
    SAS 转速快/存储少 300G 600G 900G 每分钟15000转  网站的数据 用户可以访问到的业务
    企业:是SAS和SATA结合使用。热点存储到SAS<span class="token punctuation">(</span>用户经常访问的数据<span class="token punctuation">)</span>,冷数据存储到SATA<span class="token punctuation">(</span>用户不经常访问的数据库<span class="token punctuation">)</span>
    900G*2 SAS <span class="token number">15000</span>转/每分钟
    2T*2 SATA <span class="token number">10000</span>转/每分钟
    
<span class="token number">4</span>.内部
磁盘-硬盘（Disk）
磁头（Head）
    盘面数量<span class="token operator">==</span>磁头数量
    作用:用来写入和读取数据的
    径向运动
磁道（Track）
    从外面到里面 最外面是0磁道
扇区（Sector）
    磁道上面的最小的单位
    默认大小512字节
柱面（Cylinder）
    不同盘面上面的相同的磁道组成的圆柱体
    不同盘面上的相同的呼啦圈组成的圆柱体
    磁盘默认是按照柱面进行读写
        磁头之间的切换速度 接近于光速
        磁头径向运动-寻道 机械运动 慢

<span class="token number">5</span>.磁盘阵列<span class="token punctuation">(</span>raid逻辑的将磁盘组合在一起，可以增加容量，也可以提高性能<span class="token punctuation">)</span> 笔试题
在使用物理服务器的时候,多块硬盘,这些硬盘需要通过raid卡<span class="token punctuation">(</span>设备<span class="token punctuation">)</span>,统一进行管理。大部分需要做raid后才能安装系统,部署服务。raid 磁盘冗余阵列,管理磁盘方式。

根据用户所设置的Raid级别可以获取如下一个或多个特点：
	可以获取更高的容量.
	可以获取更高的性能
	可以获取更高的冗余<span class="token punctuation">(</span>安全<span class="token punctuation">)</span>
温馨提示: 上面3个特点会根据选用的raid方式<span class="token punctuation">(</span>raid级别<span class="token punctuation">)</span>,所有区别,一般无法同时都满足以上3点.

作用: 将多块磁盘逻辑的组合成1块硬盘。
	RAID几 几块磁盘 安全冗余 可用容量
	性能                       使用场景                                     举例
   RAID0  最少1块磁盘   不安全<span class="token punctuation">(</span>损坏一块不行<span class="token punctuation">)</span> 硬盘总和 读写最快 只要求速度/不要求安全   数据库从节点
   RAID1  只能有2块硬盘   <span class="token number">100</span>%冗余 一半 最慢 要求安全/速度一般       系统/企业内部服务
   RAID5  最少需要3块  可以损坏一块盘 n-1块  读写还OK 业务较稳定的业务     数据库/业务量不高
   RAID10 最少4块盘  可以损坏1半 一半  速度快 高并发业务场景       数据库主库/业务
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><p>常用raid级别及应用场景</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>服务器磁盘先连接到raid卡上，再连接主板
 
raid0    最高的存储性能 磁盘容量不浪费，读写很快
要制作raid0 至少需要一块磁盘
任何一块硬盘损坏，所有数据无法使用
 
raid1    可以损失一半的数据容量
raid1至少需要两块磁盘，需要偶数数量的磁盘
不能提示存储性能，但会更安全，理论上写性能和单盘相差不大
 
raid5    可以损失一块盘的容量 
安全性最多可以损坏一块磁盘，也可以用热备盘，这样可以最多坏两个了
写入性能不好，读取速度ok
 
raid10   先将两块盘组成raid1，再将raid1组成raid0 
可以损坏所有硬盘一半的容量，也看损失的是不是一样的数据
读写很快
 
raid01就反过来，raid01可以损失一边的
 
企业中用0和5最多
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>磁盘格式:
一块小于2T的磁盘MBR格式:
MBR磁盘格式: 最大支持4个主分区
    <span class="token number">3</span>个主分区+1个扩展分区<span class="token punctuation">(</span>逻辑分区<span class="token punctuation">)</span>
    一个磁盘最多分四个，扩展分区最多一个，基于扩展分区划分逻辑分区
    三个主分区+一个扩展分区+逻辑分区第五个开始
    主分区：直接对磁盘进行格式化的分区，可以直接存储进去，速度也是最快
    逻辑分区：扩展分区无法使用，基于逻辑分区划分逻辑分区。正常放数据，但是速度会慢
    
大于2T的磁盘 GPT格式
最大支持128个主分区。


MBR格式和GPT格式分区区别
- MBR格式对于小于2T的磁盘进行分区 使用fdisk分区
- GPT格式对于大于2T的磁盘进行分区 使用parted分区


磁盘分区的设备名称
第一块磁盘：sda
第二块磁盘：sdb
         <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
第一块磁盘的第一个主分区：sda1
第一块磁盘的第二个主分区：sda2
第一块磁盘的第二个主分区：sda3
第一块磁盘的第一个扩展分区：sda4
第一块磁盘的第一个逻辑分区：ada5


磁盘重点:
<span class="token number">1</span>.外观
    固态
    机械
    nvme pci-e 类似显卡
<span class="token number">2</span>.大小
    <span class="token number">3.5</span>英寸 存储多
    <span class="token number">2.5</span>英寸 存储少
<span class="token number">3</span>.服务器插多少块
    <span class="token assign-left variable">1U</span><span class="token operator">=</span><span class="token number">4</span>.45cm
    2U <span class="token number">8</span>块3.5英寸 或者 <span class="token number">12</span>块2.5英寸磁盘
<span class="token number">4</span>.接口类型
    SATA 家用 笔记本 台式机
    SAS 企业标配
<span class="token number">5</span>.转速
    SATA 1T 2T 4T 6T 10T 转速 <span class="token number">7200</span>转/10000转 数据
    备份 内部使用
    SAS 企业标配 15K/分钟 300G 600G 900G 对外的业务 固态。
    硬盘多大的？
    600G*6 900G*8 300G*12
<span class="token number">6</span>.RAID级别 笔试题 写出常用的RAID级别及详细信息
<span class="token number">7</span>.磁盘名称 分区的名称
    sda 第一块磁盘
    sda1
    adb 第二块磁盘
    adb1
磁盘分区:
    <span class="token function">fdisk</span>
    <span class="token function">parted</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>磁盘的选择：</p> <p><img src="/devops/public/assets/img/1723561010349.7b6f441c.png" alt="1723561010349"></p> <p>机械VS固态：</p> <p><img src="/devops/public/assets/img/1723561183897.fd310c9d.png" alt="1723561183897"></p> <p>磁盘内部结构：</p> <p><img src="/devops/public/assets/img/1723561250441.f544ca4d.png" alt="1723561250441"></p> <p><img src="/devops/public/assets/img/1723561372755.e00ce196.png" alt="1723561372755"></p> <p><img src="/devops/public/assets/img/1723561417135.d8eb0b1e.png" alt="1723561417135"></p> <p>Raid级别就是对这些硬盘的管理方式</p> <p><img src="/devops/public/assets/img/1723561772252.94eb3c05.png" alt="1723561772252"></p> <p>参考：</p> <ul><li><a href="https://zhuanlan.zhihu.com/p/703033834" target="_blank" rel="noopener noreferrer">RAID知识梳理（几组动图简单了解下即可） - 知乎 (zhihu.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.modb.pro/db/23743" target="_blank" rel="noopener noreferrer">图文+动画：小白也能学会的 RAID 磁盘冗余阵列教程！ - 墨天轮 (modb.pro)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>物理机：</p> <ul><li>机架式服务器</li> <li>塔式服务器</li> <li>刀片式服务器</li> <li>机柜: 存放服务器</li> <li>机房: 存放机柜</li></ul> <p>服务器尺寸：</p> <ul><li>19英寸机柜</li> <li>每个服务器高度单位是U ,1U表示4.45cm,常用2U,1U,4U，更多U数的服务器一般小型机，大型机</li></ul> <p>路数：</p> <ul><li>2路表示 这个服务器有2颗CPU</li></ul> <p>新的服务器服务器：</p> <ul><li>拆包装</li> <li>插电,联网</li> <li>开机</li> <li>配置远程控制卡</li> <li>配置raid(raid卡实现) 系统raid 1 剩余raid 5</li> <li>安装系统(U盘安装) 如果大量服务器装机,可以通过cobbler批量装机</li> <li>正常安装系统即可</li> <li>根据要求部署服务</li> <li>关闭</li> <li>物理服务器上架.(物理服务器放在机柜上过程)</li></ul> <p>配置远程控制卡</p> <ul><li>物理机故障,远程连接失败</li> <li>Dell iDrac</li> <li>ibm imm</li> <li>hp ilo</li> <li>华为 iBMC</li></ul> <h3 id="_2-磁盘管理中"><a href="#_2-磁盘管理中" class="header-anchor">#</a> 2，磁盘管理中</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>MBR: 每一块硬盘上存放磁盘引导程序，引导程序在磁盘开头部分，用于引导系统启动。我们一般不用太关注，我们安装系统的时候自动安装。

位置:磁盘分区表 磁盘的开始部分:0磁头,0磁道,1扇区<span class="token punctuation">(</span><span class="token number">512</span>字节<span class="token punctuation">)</span>

这512字节存放了
    引导程序446字节<span class="token punctuation">(</span>MBR<span class="token punctuation">)</span>
    磁盘分区表<span class="token punctuation">(</span><span class="token number">64</span>字节<span class="token punctuation">)</span> <span class="token number">4</span>个分区表
    结束标记 55AA，2字节
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="/devops/public/assets/img/1723605921525.0cf8c358.png" alt="1723605921525"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>分区表64字节,每个分区占用16字节,最多只有4个分区,
	这4个分区叫做主分区。
		如果只划分1分区使用所有空间，将无法继续划分分区。
		如果划分了4个分区，但是磁盘空间还有剩余，剩余空间将无法继续使用。
扩展分区是用于解决主分区数量主分区只能有4个问题,扩展分区无法直接使用,需要在扩展分区下面创建逻辑分区,存放数据.
逻辑分区在扩展分区中,用于存放数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>主分区-扩展分区-逻辑分区关系:</p> <p><img src="/devops/public/assets/img/1723606086010.d40d4d61.png" alt="1723606086010"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>小结:
	这些分区概念，分区使用MBR形式，主分区+扩展分区最多4个（扩展分区只能1个），扩展分区用于创建逻辑分区。
	未来使用基本就是创建主分区就够了，安装系统的时候自动创建主分区，创建扩展分区，创建逻辑分区即可。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>磁盘文件或分区文件放在/dev/下面，命名方式如下：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#磁盘接口:</span>
   sas/sata/scsi接口的硬盘，硬盘名字是以sd开头
   虚拟机（kvm<span class="token punctuation">)</span>/公有云:     硬盘名字是以vd开头
   
<span class="token comment">#第几块硬盘：通过字母表示从字母a开始一次类推。</span>
/dev/sda
<span class="token comment">#第1块硬盘(SAS)接口</span>
/dev/sda
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>分区命名:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>分区命名是根据分区类型进行命名的。
如果是主分区或者扩展分区则分区号从1-4范围。
如果是逻辑分区，逻辑分区的分区号从5开始。

案例01 硬盘及分区命名
第2块SATA硬盘的第1个主分区   /dev/sdb1      
第3块SAS硬盘的第2个逻辑分区   /dev/sdc6
第5块公有云的云盘的第3个主分区 /dev/vde3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>一块硬盘,磁盘分区三部曲</p> <ul><li>打隔断：分区操作</li> <li>装修,格式化：创建文件系统</li> <li>安装门窗：挂载(命令,配置文件)</li></ul> <p>提示：挂载:给设备设置个入口,如果不挂载,这个设备无法访问,类似于没有门窗的监狱</p> <p>环境准备，添加2块硬盘，2个1g硬盘即可：</p> <p><img src="/devops/public/assets/img/1723606374552.788e0d49.png" alt="1723606374552"></p> <p>重启系统，查看：</p> <p><img src="/devops/public/assets/img/1723607130314.9b7c7c39.png" alt="1723607130314"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#fdisk -l | grep 'dev/sd'</span>
Disk /dev/sda: <span class="token number">50</span> GiB, <span class="token number">53687091200</span> bytes, <span class="token number">104857600</span> sectors
/dev/sda1  *       <span class="token number">2048</span>   <span class="token number">2099199</span>   <span class="token number">2097152</span>   1G <span class="token number">83</span> Linux
/dev/sda2       <span class="token number">2099200</span> <span class="token number">104857599</span> <span class="token number">102758400</span>  49G 8e Linux LVM
Disk /dev/sdb: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
Disk /dev/sdc: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>创建20MB的分区:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#1 操作硬盘</span>
<span class="token function">fdisk</span> /dev/sdb

<span class="token comment">#2. 对硬盘分区进行增删改查</span>
p print 输出磁盘分区信息
n new   创建分区
d delete 删除分区
w <span class="token function">write</span> 保存并退出
q quit 退出不保存

<span class="token comment">#3. 创建20MB分区</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n  <span class="token comment">#创建分区</span>
Partition type:        <span class="token comment">#提示选择 类型</span>
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: 回车即可  <span class="token comment">#输入p或回车默认使用主分区</span>
Using default response p
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">1</span><span class="token punctuation">)</span>：回车即可  <span class="token comment">#分区号回车使用默认的1号</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">2048</span>-208895，默认为 <span class="token number">2048</span><span class="token punctuation">)</span>：回车即可 <span class="token comment">#回车,使用默认的起点</span>
将使用默认值 <span class="token number">2048</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-208895，默认为 <span class="token number">208895</span><span class="token punctuation">)</span>：+20M      <span class="token comment">#+20M分区20MB    </span>
分区 <span class="token number">1</span> 已设置为 Linux 类型，大小设为 <span class="token number">20</span> MiB

<span class="token comment">#4. 通过p查看</span>
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p
磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节

磁盘标签类型：dos
磁盘标识符：0x2af54b05
   设备 Boot     Start         End     Blocks   Id System
/dev/sdb1            <span class="token number">2048</span> <span class="token number">43007</span> <span class="token number">20480</span> <span class="token number">83</span> Linux <span class="token comment">#这里有sdb1即可。</span>
<span class="token comment">#5. 通过w保存退出</span>
<span class="token comment">#6. 查看/dev/sdb*</span>
<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#fdisk -l | grep 'dev/sd'</span>
Disk /dev/sda: <span class="token number">50</span> GiB, <span class="token number">53687091200</span> bytes, <span class="token number">104857600</span> sectors
/dev/sda1  *       <span class="token number">2048</span>   <span class="token number">2099199</span>   <span class="token number">2097152</span>   1G <span class="token number">83</span> Linux
/dev/sda2       <span class="token number">2099200</span> <span class="token number">104857599</span> <span class="token number">102758400</span>  49G 8e Linux LVM
Disk /dev/sdb: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
/dev/sdb1        <span class="token number">2048</span> <span class="token number">43007</span>   <span class="token number">40960</span>  20M <span class="token number">83</span> Linux
Disk /dev/sdc: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>温馨提示：fdisk操作的时候，按删除键会出现无法删除现象,使用 ctrl+u 或 ctrl+删除键 即可删除</p> <p>创建一个分区使用硬盘所有容量：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>:
Using default response p
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">1</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">2048</span>-208895，默认为 <span class="token number">2048</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">2048</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-208895，默认为 <span class="token number">208895</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">208895</span>
分区 <span class="token number">1</span> 已设置为 Linux 类型，大小设为 <span class="token number">101</span> MiB
命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：w
The partition table has been altered<span class="token operator">!</span>
Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re-read partition table

<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#fdisk /dev/sdb</span>

Welcome to <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.35</span>.2<span class="token punctuation">)</span>.
Changes will remain <span class="token keyword">in</span> memory only, <span class="token keyword">until</span> you decide to <span class="token function">write</span> them.
Be careful before using the <span class="token function">write</span> command.


Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: n
Partition <span class="token builtin class-name">type</span>
   p   primary <span class="token punctuation">(</span><span class="token number">1</span> primary, <span class="token number">0</span> extended, <span class="token number">3</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended <span class="token punctuation">(</span>container <span class="token keyword">for</span> logical partitions<span class="token punctuation">)</span>
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
Partition number <span class="token punctuation">(</span><span class="token number">2</span>-4, default <span class="token number">2</span><span class="token punctuation">)</span>: 
First sector <span class="token punctuation">(</span><span class="token number">43008</span>-2097151, default <span class="token number">43008</span><span class="token punctuation">)</span>: 
Last sector, +/-sectors or +/-size<span class="token punctuation">{</span>K,M,G,T,P<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">43008</span>-2097151, default <span class="token number">2097151</span><span class="token punctuation">)</span>: 

Created a new partition <span class="token number">2</span> of <span class="token builtin class-name">type</span> <span class="token string">'Linux'</span> and of size <span class="token number">1003</span> MiB.

Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: w
The partition table has been altered.
Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re-read partition table.
Syncing disks.

<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#fdisk -l | grep 'dev/sd'</span>
Disk /dev/sda: <span class="token number">50</span> GiB, <span class="token number">53687091200</span> bytes, <span class="token number">104857600</span> sectors
/dev/sda1  *       <span class="token number">2048</span>   <span class="token number">2099199</span>   <span class="token number">2097152</span>   1G <span class="token number">83</span> Linux
/dev/sda2       <span class="token number">2099200</span> <span class="token number">104857599</span> <span class="token number">102758400</span>  49G 8e Linux LVM
Disk /dev/sdb: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
/dev/sdb1        <span class="token number">2048</span>   <span class="token number">43007</span>   <span class="token number">40960</span>   20M <span class="token number">83</span> Linux
/dev/sdb2       <span class="token number">43008</span> <span class="token number">2097151</span> <span class="token number">2054144</span> 1003M <span class="token number">83</span> Linux
Disk /dev/sdc: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>创建 make 文件系统 filesystem,表示给磁盘分区进行装修，给磁盘分区创建规则，一定量的inode，block。mkfs（make filesystem) 创建文件系统(格式化)</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkfs</span> 磁盘或分区
mkfs.xfs /dev/sdb1

xfs是文件系统类型，CentOS <span class="token number">7</span>默认的文件系统类型。
mkfs.ext4 文件系统类型，用于CentOS <span class="token number">6</span>.x 或公有云使用。

<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#fdisk -l | grep 'dev/sd'</span>
Disk /dev/sda: <span class="token number">50</span> GiB, <span class="token number">53687091200</span> bytes, <span class="token number">104857600</span> sectors
/dev/sda1  *       <span class="token number">2048</span>   <span class="token number">2099199</span>   <span class="token number">2097152</span>   1G <span class="token number">83</span> Linux
/dev/sda2       <span class="token number">2099200</span> <span class="token number">104857599</span> <span class="token number">102758400</span>  49G 8e Linux LVM
Disk /dev/sdb: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
/dev/sdb1        <span class="token number">2048</span>   <span class="token number">43007</span>   <span class="token number">40960</span>   20M <span class="token number">83</span> Linux
/dev/sdb2       <span class="token number">43008</span> <span class="token number">2097151</span> <span class="token number">2054144</span> 1003M <span class="token number">83</span> Linux
Disk /dev/sdc: <span class="token number">1</span> GiB, <span class="token number">1073741824</span> bytes, <span class="token number">2097152</span> sectors
<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#mkfs.xfs /dev/sdb1</span>
meta-data<span class="token operator">=</span>/dev/sdb1              <span class="token assign-left variable">isize</span><span class="token operator">=</span><span class="token number">512</span>    <span class="token assign-left variable">agcount</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">agsize</span><span class="token operator">=</span><span class="token number">5120</span> blks
         <span class="token operator">=</span>                       <span class="token assign-left variable">sectsz</span><span class="token operator">=</span><span class="token number">512</span>   <span class="token assign-left variable">attr</span><span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">projid32bit</span><span class="token operator">=</span><span class="token number">1</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">crc</span><span class="token operator">=</span><span class="token number">1</span>        <span class="token assign-left variable">finobt</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">sparse</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">rmapbt</span><span class="token operator">=</span><span class="token number">0</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">reflink</span><span class="token operator">=</span><span class="token number">1</span>
data     <span class="token operator">=</span>                       <span class="token assign-left variable">bsize</span><span class="token operator">=</span><span class="token number">4096</span>   <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">5120</span>, <span class="token assign-left variable">imaxpct</span><span class="token operator">=</span><span class="token number">25</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">sunit</span><span class="token operator">=</span><span class="token number">0</span>      <span class="token assign-left variable">swidth</span><span class="token operator">=</span><span class="token number">0</span> blks
naming   <span class="token operator">=</span>version <span class="token number">2</span>              <span class="token assign-left variable">bsize</span><span class="token operator">=</span><span class="token number">4096</span>   ascii-ci<span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">ftype</span><span class="token operator">=</span><span class="token number">1</span>
log      <span class="token operator">=</span>internal log           <span class="token assign-left variable">bsize</span><span class="token operator">=</span><span class="token number">4096</span>   <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">1368</span>, <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token number">2</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">sectsz</span><span class="token operator">=</span><span class="token number">512</span>   <span class="token assign-left variable">sunit</span><span class="token operator">=</span><span class="token number">0</span> blks, lazy-count<span class="token operator">=</span><span class="token number">1</span>
realtime <span class="token operator">=</span>none                   <span class="token assign-left variable">extsz</span><span class="token operator">=</span><span class="token number">4096</span>   <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">rtextents</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>重复格式化错误提示：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#mkfs.xfs /dev/sdb1</span>
mkfs.xfs: /dev/sdb1 appears to contain an existing filesystem <span class="token punctuation">(</span>xfs<span class="token punctuation">)</span>.
mkfs.xfs: Use the <span class="token parameter variable">-f</span> option to force overwrite.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>然后要使用这个分区，就需要挂载了，Linux中的设备，需要通过挂载命令，给设备指定入口（已经存在的空目录）,否则将无法使用，通过mount命令指定 设备 ，指定 入口(目录) mount 设备 目录。入口: 挂载点,一般是个空目录就行. /mnt linux临时挂载点：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#mount /dev/sdb1 /mnt/</span>
<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#df -h</span>
Filesystem             Size  Used Avail Use% Mounted on
devtmpfs               459M     <span class="token number">0</span>  459M   <span class="token number">0</span>% /dev
tmpfs                  475M     <span class="token number">0</span>  475M   <span class="token number">0</span>% /dev/shm
tmpfs                  475M  <span class="token number">6</span>.9M  468M   <span class="token number">2</span>% /run
tmpfs                  475M     <span class="token number">0</span>  475M   <span class="token number">0</span>% /sys/fs/cgroup
/dev/mapper/klas-root   47G  <span class="token number">3</span>.8G   44G   <span class="token number">8</span>% /
tmpfs                  475M     <span class="token number">0</span>  475M   <span class="token number">0</span>% /tmp
/dev/sda1             1014M  169M  846M  <span class="token number">17</span>% /boot
tmpfs                   95M     <span class="token number">0</span>   95M   <span class="token number">0</span>% /run/user/0
/dev/sdb1               15M  <span class="token number">1</span>.2M   14M   <span class="token number">9</span>% /mnt
<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#df -h | grep mnt</span>
/dev/sdb1               15M  <span class="token number">1</span>.2M   14M   <span class="token number">9</span>% /mnt
<span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>挂载光盘到/media目录：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mount</span> /dev/cdrom /media/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>卸载：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">umount</span> /mnt
<span class="token function">umount</span> + 挂载点，表示卸载。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>目前挂载整个流程：</p> <ol><li>磁盘分区</li> <li>磁盘格式化</li> <li>磁盘挂载</li></ol> <p>我们在Linux下面的操作一般都分为临时和永久，对于挂载来说，我们希望永久生效（临时+永久)。实现永久挂载的方案：</p> <ul><li>使用rc.local ,把挂载命令 mount  /dev/sdb1  /data/ 写入到 /etc/rc.local, 注意命令最好写为绝对路径</li> <li>专业的开机自动挂载的配置文件/etc/fstab ,根据配置文件的要求把mount命令改为配置文件形式即可</li></ul> <p>/etc/fstab每一列含义:</p> <p><img src="/devops/public/assets/img/1723608406319.60589923.png" alt="1723608406319"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#cat /etc/fstab</span>

<span class="token comment">#</span>
<span class="token comment"># /etc/fstab</span>
<span class="token comment"># Created by anaconda on Mon Jul 29 12:43:41 2024</span>
<span class="token comment">#</span>
<span class="token comment"># Accessible filesystems, by reference, are maintained under '/dev/disk/'.</span>
<span class="token comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.</span>
<span class="token comment">#</span>
<span class="token comment"># After editing this file, run 'systemctl daemon-reload' to update systemd</span>
<span class="token comment"># units generated from this file.</span>
<span class="token comment">#</span>
/dev/mapper/klas-root   /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>59aefa4c-9fb8-43ad-8a62-2fdb73cb04ab /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/mapper/klas-swap   none                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>

<span class="token comment">#/etc/fstab配置中的样子</span>
/dev/sdb1   /data/   xfs   defaults   <span class="token number">0</span> <span class="token number">0</span>

<span class="token function">mount</span> <span class="token parameter variable">-a</span> <span class="token comment"># 让/etc/fstab执行一遍，如果挂载了不提示，如果没有挂载则自动挂载</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="/devops/public/assets/img/1723608626087.67db4fcf.png" alt="1723608626087"></p> <p>企业中磁盘使用方式:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>.插入磁盘
<span class="token number">2</span>.格式化磁盘  mkfs.xfs <span class="token parameter variable">-f</span> /dev/sdb
<span class="token number">3</span>.挂载磁盘  <span class="token function">mount</span> /dev/sdb /data
		   <span class="token function">df</span> <span class="token parameter variable">-h</span>
<span class="token number">4</span>.写入开机自动挂载 笔试题 列出每列的含义	   	   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-磁盘管理下"><a href="#_3-磁盘管理下" class="header-anchor">#</a> 3，磁盘管理下</h3> <p><img src="/devops/public/assets/img/1723609642203.d271d319.png" alt="1723609642203"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#案例04 创建gpt格式的分区大小10MB (/dev/sdc)</span>
查看硬盘分区信息
<span class="token function">parted</span> /dev/sdb print

<span class="token comment">#编辑/dev/sdc </span>
<span class="token function">parted</span> /dev/sdc

<span class="token comment">#创建分区表gpt</span>
mktable gpt 或者mklabel gpt 一样   <span class="token comment">#注意mbr叫做msdos类型 mktable msdos</span>

<span class="token comment">#创建分区10mb</span>
mkpart primary  <span class="token number">0</span> <span class="token number">10</span>
mkpart primary  <span class="token number">10</span> <span class="token number">20</span>

<span class="token comment">#删除分区</span>
<span class="token function">rm</span> <span class="token number">1</span>

<span class="token comment">#退出编辑</span>
q 或quit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@linux:~<span class="token punctuation">]</span><span class="token comment">#parted /dev/sdc</span>
GNU Parted <span class="token number">3.3</span>
Using /dev/sdc
Welcome to GNU Parted<span class="token operator">!</span> Type <span class="token string">'help'</span> to view a list of commands.
<span class="token punctuation">(</span>parted<span class="token punctuation">)</span> <span class="token builtin class-name">help</span>                                                             
  align-check TYPE N                       check partition N <span class="token keyword">for</span> TYPE<span class="token punctuation">(</span>min<span class="token operator">|</span>opt<span class="token punctuation">)</span> alignment
  <span class="token builtin class-name">help</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span>                           print general help, or <span class="token builtin class-name">help</span> on COMMAND
  mklabel,mktable LABEL-TYPE               create a new disklabel <span class="token punctuation">(</span>partition table<span class="token punctuation">)</span>
  mkpart PART-TYPE <span class="token punctuation">[</span>FS-TYPE<span class="token punctuation">]</span> START END     <span class="token function">make</span> a partition
  name NUMBER NAME                         name partition NUMBER as NAME
  print <span class="token punctuation">[</span>devices<span class="token operator">|</span><span class="token function">free</span><span class="token operator">|</span>list,all<span class="token operator">|</span>NUMBER<span class="token punctuation">]</span>     display the partition table, available devices, <span class="token function">free</span> space, all found
        partitions, or a particular partition
  quit                                     <span class="token builtin class-name">exit</span> program
  rescue START END                         rescue a lost partition near START and END
  resizepart NUMBER END                    resize partition NUMBER
  <span class="token function">rm</span> NUMBER                                delete partition NUMBER
  <span class="token keyword">select</span> DEVICE                            choose the device to edit
  disk_set FLAG STATE                      change the FLAG on selected device
  disk_toggle <span class="token punctuation">[</span>FLAG<span class="token punctuation">]</span>                       toggle the state of FLAG on selected device
  <span class="token builtin class-name">set</span> NUMBER FLAG STATE                    change the FLAG on partition NUMBER
  toggle <span class="token punctuation">[</span>NUMBER <span class="token punctuation">[</span>FLAG<span class="token punctuation">]</span><span class="token punctuation">]</span>                   toggle the state of FLAG on partition NUMBER
  unit UNIT                                <span class="token builtin class-name">set</span> the default unit to UNIT
  version                                  display the version number and copyright information of GNU Parted
<span class="token punctuation">(</span>parted<span class="token punctuation">)</span> mklabel                                                          
New disk label type? gpt                                                  
<span class="token punctuation">(</span>parted<span class="token punctuation">)</span> mkpart                                                           
Partition name?  <span class="token punctuation">[</span><span class="token punctuation">]</span>? primary
File system type?  <span class="token punctuation">[</span>ext2<span class="token punctuation">]</span>? xfs                                            
Start? <span class="token number">0</span>                                                                  
End? 20M
Warning: The resulting partition is not properly aligned <span class="token keyword">for</span> best performance: 34s % 2048s <span class="token operator">!=</span> 0s
Ignore/Cancel? I                                                          
<span class="token punctuation">(</span>parted<span class="token punctuation">)</span> print
Model: VMware, VMware Virtual S <span class="token punctuation">(</span>scsi<span class="token punctuation">)</span>
Disk /dev/sdc: 1074MB
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: 512B/512B
Partition Table: gpt
Disk Flags: 

Number  Start   End     Size    File system  Name     Flags
 <span class="token number">1</span>      <span class="token number">17</span>.4kB  <span class="token number">20</span>.0MB  <span class="token number">20</span>.0MB  xfs          primary

<span class="token punctuation">(</span>parted<span class="token punctuation">)</span>    

格式化: mkfs.xfs /dev/sdc1
挂载: <span class="token function">mount</span> /dev/sdc1 /mnt
	<span class="token function">df</span> <span class="token parameter variable">-h</span>
开机自动挂载:
	/dev/sdc1 /data xfs defaults <span class="token number">0</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>内存不够用到执行系统出现oom内存溢出，Linux系统如果内存跑满了，系统为了自保,会自动杀死占用内存
最高的进程。导致业务故障。什么情况下导致内存不够？</p> <ul><li>业务流量过高 增加内存</li> <li>代码问题java 找开发解决</li> <li>流量波动业务 增加swap解决 内部测试服务器</li> <li>受攻击导致oom 防火墙软件</li></ul> <p>swap: 内存不够用时，swap临时充当内存使用。swap是磁盘的分区空间。 磁盘比内存慢。所以未来应用建议:如果内存充足并且服务对性能要求较高,可以关闭swap。案例：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>增加1g的swap.
    <span class="token number">1</span>.创建指定大小的文件1g的文件.
    <span class="token number">2</span>.把文件转换为swap.
    <span class="token number">3</span>.激活这个swap,把它加入到linux中.
    <span class="token number">4</span>.记得配置永久挂载.

操作过程：
<span class="token number">1</span>.创建指定大小的文件1g的文件.
	<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/tmp/1g  <span class="token assign-left variable">bs</span><span class="token operator">=</span>1M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1000</span>
	<span class="token keyword">if</span> <span class="token operator">==</span><span class="token operator">=</span> input <span class="token function">file</span> 数据从哪里来,输入文件,一般使用/dev/zero,不断输出空字符.
    of <span class="token operator">==</span><span class="token operator">=</span> ouput <span class="token function">file</span> 创建的文件,存放数据,输出文件
    bs <span class="token operator">==</span><span class="token operator">=</span> block size 每次读取多少,一般1MB大小.
    count <span class="token operator">==</span><span class="token operator">=</span> 读取次数
    
<span class="token number">2</span>.把文件转换为swap<span class="token punctuation">(</span>格式化<span class="token punctuation">)</span>.
	<span class="token function">mkswap</span> /tmp/1g
	
	<span class="token function">file</span> /tmp/1g
	/tmp/1g: data           <span class="token comment">#刚刚创建的文件data普通数据文件</span>
	
	<span class="token function">mkswap</span> /tmp/1g（格式化）
	
	<span class="token function">file</span> /tmp/1g
	/tmp/1g: Linux/i386 swap <span class="token function">file</span> <span class="token punctuation">(</span>new style<span class="token punctuation">)</span>, version <span class="token number">1</span> <span class="token punctuation">(</span>4K pages<span class="token punctuation">)</span>, size <span class="token number">255999</span> pages, no label,UUID<span class="token operator">=</span>0c072a5f-5ec2-4590-acd3-cae1e1926029

<span class="token number">3</span>.激活这个swap,把它加入到linux中
<span class="token punctuation">[</span>root@malu ~<span class="token punctuation">]</span><span class="token comment"># free -h</span>
             total       used       <span class="token function">free</span>     shared buff/cache   available
Mem:           <span class="token number">1</span>.9G       201M       596M        <span class="token number">9</span>.6M        <span class="token number">1</span>.2G        <span class="token number">1</span>.6G
Swap:          <span class="token number">2</span>.0G         0B        <span class="token number">2</span>.0G

<span class="token function">chmod</span> <span class="token number">600</span> /tmp/1g

<span class="token function">swapon</span> /tmp/1g

<span class="token function">free</span> <span class="token parameter variable">-h</span>
             total       used       <span class="token function">free</span>     shared buff/cache   available
Mem:           <span class="token number">1</span>.9G       202M       595M        <span class="token number">9</span>.6M        <span class="token number">1</span>.2G        <span class="token number">1</span>.6G
Swap:          <span class="token number">3</span>.0G         0B        <span class="token number">3</span>.0G

<span class="token number">4</span>.记得配置永久挂载.
方法01 <span class="token builtin class-name">:</span> <span class="token function">swapon</span> /tmp/1g写入到rc.local 
方法02: 写入/etc/fstab
/tmp/1g       swap     swap   defaults        <span class="token number">0</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>磁盘满导致无法写入内容:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>inode满的原因？大量的小文件
<span class="token function">df</span> <span class="token parameter variable">-i</span> <span class="token comment"># 查看inode</span>

<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#df -i</span>
Filesystem              Inodes  IUsed    IFree IUse% Mounted on
devtmpfs                <span class="token number">117316</span>    <span class="token number">497</span>   <span class="token number">116819</span>    <span class="token number">1</span>% /dev
tmpfs                   <span class="token number">121364</span>      <span class="token number">1</span>   <span class="token number">121363</span>    <span class="token number">1</span>% /dev/shm
tmpfs                   <span class="token number">121364</span>    <span class="token number">741</span>   <span class="token number">120623</span>    <span class="token number">1</span>% /run
tmpfs                   <span class="token number">121364</span>     <span class="token number">17</span>   <span class="token number">121347</span>    <span class="token number">1</span>% /sys/fs/cgroup
/dev/mapper/klas-root <span class="token number">24619008</span> <span class="token number">223761</span> <span class="token number">24395247</span>    <span class="token number">1</span>% /
tmpfs                   <span class="token number">121364</span>     <span class="token number">12</span>   <span class="token number">121352</span>    <span class="token number">1</span>% /tmp
/dev/sda1               <span class="token number">524288</span>    <span class="token number">340</span>   <span class="token number">523948</span>    <span class="token number">1</span>% /boot
tmpfs                   <span class="token number">121364</span>      <span class="token number">6</span>   <span class="token number">121358</span>    <span class="token number">1</span>% /run/user/0
/dev/sdb1                <span class="token number">10240</span>      <span class="token number">3</span>    <span class="token number">10237</span>    <span class="token number">1</span>% /mnt
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#cd malu/</span>
-bash: cd: malu/: No such <span class="token function">file</span> or directory
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#mkdir malu</span>
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#cd malu/</span>
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#ls</span>
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#touch {1..100000}.txt</span>
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#df -i</span>
Filesystem              Inodes  IUsed    IFree IUse% Mounted on
devtmpfs                <span class="token number">117316</span>    <span class="token number">497</span>   <span class="token number">116819</span>    <span class="token number">1</span>% /dev
tmpfs                   <span class="token number">121364</span>      <span class="token number">1</span>   <span class="token number">121363</span>    <span class="token number">1</span>% /dev/shm
tmpfs                   <span class="token number">121364</span>    <span class="token number">741</span>   <span class="token number">120623</span>    <span class="token number">1</span>% /run
tmpfs                   <span class="token number">121364</span>     <span class="token number">17</span>   <span class="token number">121347</span>    <span class="token number">1</span>% /sys/fs/cgroup
/dev/mapper/klas-root <span class="token number">24619008</span> <span class="token number">323762</span> <span class="token number">24295246</span>    <span class="token number">2</span>% /
tmpfs                   <span class="token number">121364</span>     <span class="token number">12</span>   <span class="token number">121352</span>    <span class="token number">1</span>% /tmp
/dev/sda1               <span class="token number">524288</span>    <span class="token number">340</span>   <span class="token number">523948</span>    <span class="token number">1</span>% /boot
tmpfs                   <span class="token number">121364</span>      <span class="token number">6</span>   <span class="token number">121358</span>    <span class="token number">1</span>% /run/user/0
/dev/sdb1                <span class="token number">10240</span>      <span class="token number">3</span>    <span class="token number">10237</span>    <span class="token number">1</span>% /mnt
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#find / -type d -size +1M</span>
/root/malu
/root/malu/malu

block满 磁盘存储大小
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#find / -size +200M</span>
/proc/kcore
find: ‘/proc/1678/task/1678/fd/5’: No such <span class="token function">file</span> or directory
find: ‘/proc/1678/task/1678/fdinfo/5’: No such <span class="token function">file</span> or directory
find: ‘/proc/1678/fd/6’: No such <span class="token function">file</span> or directory
find: ‘/proc/1678/fdinfo/6’: No such <span class="token function">file</span> or directory
/usr/lib/locale/locale-archive

<span class="token function">du</span> <span class="token parameter variable">-sh</span> 查看整个目录大小
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#du -sh /data</span>
<span class="token number">0</span>	/data
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#du -sh /etc/</span>
25M	/etc/
<span class="token punctuation">[</span>root@linux:malu<span class="token punctuation">]</span><span class="token comment">#</span>

解决磁盘不够用得问题,需求: 第一块磁盘满,并且日志文件的位置不能发生变化导致原因: 服务持续的追加内容到/var/log/test.log

<span class="token number">1</span><span class="token punctuation">)</span>增加一块磁盘
    第一步: 添加一块磁盘
    	右键添加1T磁盘
    第二步: 格式化磁盘
        mkfs.xfs /dev/sdb
    第三步: 挂载磁盘
        <span class="token function">mkdir</span> /data
        <span class="token function">mount</span> /dev/sdb /data
    第四步: 开机自动启动
        <span class="token function">vim</span> /etc/fstab
        /dev/sdb /data xfs defaults <span class="token number">0</span> <span class="token number">0</span>
    
<span class="token number">2</span><span class="token punctuation">)</span>将/var/log/test.log 移动到/data/
    <span class="token function">mv</span> /var/log/test.log /data
    
<span class="token number">3</span><span class="token punctuation">)</span>做软链接
    <span class="token function">ln</span> <span class="token parameter variable">-s</span> /data/test.log /var/log/test.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><p><img src="/devops/public/assets/img/1723613038183.ac4237bb.png" alt="1723613038183"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>案例.删除大文件，磁盘空间不释放
	真正的删除: inode和block同时为0 并且没有被进程占用。
	
第一步: 生成10G的文件
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># dd if=/dev/zero of=10g.txt bs=1M count=10000</span>
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># ll -h</span>
    total <span class="token number">9</span>.8G
    -rw-r--r-- <span class="token number">1</span> root root <span class="token number">9</span>.8G Jul <span class="token number">23</span> <span class="token number">11</span>:37 10g.txt
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
    Filesystem Size Used Avail Use% Mounted on
    devtmpfs 963M <span class="token number">0</span> 963M <span class="token number">0</span>% /dev
    tmpfs 979M <span class="token number">0</span> 979M <span class="token number">0</span>% /dev/shm
    tmpfs 979M <span class="token number">8</span>.9M 970M <span class="token number">1</span>% /run
    tmpfs 979M <span class="token number">0</span> 979M <span class="token number">0</span>% /sys/fs/cgroup/dev/mapper/klas-root 47G 15G 33G <span class="token number">32</span>% /

<span class="token comment"># 占用15G</span>
第二步: 模拟进程占用
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># tail 10g.txt</span>
第三步: 删除10g的文件 到第二个窗口
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># rm -f 10g.txt</span>
第四步: 查看磁盘空间是否释放
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
    Filesystem Size Used Avail Use% Mounted on
    devtmpfs 963M <span class="token number">0</span> 963M <span class="token number">0</span>% /dev
    tmpfs 979M <span class="token number">0</span> 979M <span class="token number">0</span>% /dev/shm
    tmpfs 979M <span class="token number">8</span>.9M 970M <span class="token number">1</span>% /run
    tmpfs 979M <span class="token number">0</span> 979M <span class="token number">0</span>% /sys/fs/cgroup/dev/mapper/klas-root 47G 15G 33G <span class="token number">32</span>% /

<span class="token comment"># 未释放</span>
解决方法: 面试题 查看文件被哪个进程所占用 <span class="token function">lsof</span>
<span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># lsof |grep 10g.txt</span>
    <span class="token function">tail</span> <span class="token number">1991</span> root
    3r REG <span class="token number">253,0</span> <span class="token number">10485760000</span>
    <span class="token number">68979254</span> /root/10g.txt <span class="token punctuation">(</span>deleted<span class="token punctuation">)</span>
查找到后杀死进程：
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># kill -9 1991</span>
    <span class="token punctuation">[</span>root@malu:~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>总结：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>inode <span class="token function">df</span> <span class="token parameter variable">-i</span> <span class="token function">find</span> / <span class="token parameter variable">-type</span> d <span class="token parameter variable">-size</span> +1M
block <span class="token function">df</span> <span class="token parameter variable">-h</span> <span class="token function">find</span> / <span class="token parameter variable">-type</span> f <span class="token parameter variable">-size</span> +200M

内存不够用临时使用swap充当内存
	swap大小是内存的1-1.5倍，如果大于8G内存 swap只给8G即可。
	swap: 不对外的，对内的使用swap

删除大文件磁盘空间不释放
	<span class="token function">lsof</span> 查看被哪个进程所占用，找到后kill杀死
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4-磁盘案例"><a href="#_4-磁盘案例" class="header-anchor">#</a> 4，磁盘案例</h3> <p>案例1：企业中程序导致内存不够用</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>如果内存满则系统会自动杀死占用内存最高的进程，来保护系统正常运行
什么原因导致内存满
<span class="token number">1</span>、大量的用户访问我们的服务器（正常情况）需要我们添加内存
<span class="token number">2</span>、由于程序导致内存满，而不是大量用户访问导致（找开发解决问题）
<span class="token number">3</span>、由于网络的波动导致内存满，需要使用swap解决
<span class="token number">4</span>、学习中，可能需要swap临时充当内存使用
<span class="token number">5</span>、公司内部业务（测试服务器），需要使用swap临时解决
 
swap作用：当内存不够用时，磁盘分区临时充当内存使用
查看swap分区，使用free <span class="token parameter variable">-h</span>
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#free -h</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1</span>.9G        218M        <span class="token number">1</span>.6G        <span class="token number">9</span>.5M        108M        <span class="token number">1</span>.6G
Swap:          <span class="token number">1</span>.0G          0B        <span class="token number">1</span>.0G
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#</span>
 
创建swap分区：
<span class="token number">1</span>、安装系统划分的分区
<span class="token number">2</span>、可以安装系统后创建
第一步：生成一个200M的空间，把200M的空间当作swap空间
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/tmp/200m <span class="token assign-left variable">bs</span><span class="token operator">=</span>1M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">200</span>
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#dd if=/dev/zero of=/tmp/200m bs=1M count=200</span>
<span class="token number">200</span>+0 records <span class="token keyword">in</span>
<span class="token number">200</span>+0 records out
<span class="token number">209715200</span> bytes <span class="token punctuation">(</span><span class="token number">210</span> MB<span class="token punctuation">)</span> copied, <span class="token number">1.13911</span> s, <span class="token number">184</span> MB/s
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#</span>
 
第二步：格式化为swap分区格式
<span class="token function">mkswap</span> /tmp/200m
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#mkswap /tmp/200m</span>
Setting up swapspace version <span class="token number">1</span>, size <span class="token operator">=</span> <span class="token number">204796</span> KiB
no label, <span class="token assign-left variable">UUID</span><span class="token operator">=</span>9429e531-a4c5-4e34-b238-57a1efcfc2c2
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#</span>
 
第三步：挂载使用swapon /tmp/200m回车
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#swapon /tmp/200m</span>
swapon: /tmp/200m: insecure permissions 0644, 0600 suggested.
第四步：free <span class="token parameter variable">-h</span>
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#free -h</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1</span>.9G        265M        <span class="token number">1</span>.0G        <span class="token number">9</span>.5M        678M        <span class="token number">1</span>.5G
Swap:          <span class="token number">1</span>.2G          0B        <span class="token number">1</span>.2G
 
查看swap分区的组成
swspon <span class="token parameter variable">-s</span>
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#swapon -s</span>
Filename                Type       Size    Used    Priority
/dev/sda2                                  partition  <span class="token number">1048572</span>    <span class="token number">0</span>    <span class="token parameter variable">-2</span>
/tmp/200m                                  <span class="token function">file</span>    <span class="token number">204796</span>    <span class="token number">0</span>    <span class="token parameter variable">-3</span>
 
重启会掉，需要开机自动挂载
卸载swap
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#swapoff /tmp/200m</span>
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#free -h</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1</span>.9G        265M        <span class="token number">1</span>.0G        <span class="token number">9</span>.5M        678M        <span class="token number">1</span>.5G
Swap:          <span class="token number">1</span>.0G          0B        <span class="token number">1</span>.0G
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>案例2：磁盘不够用找出大文件备份或删除。找出系统中的大文件移动或删除</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#du -h /var/log/*|awk '$1~ /^.*G/'|xargs -i mv {} /data</span>
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#find / -type f -size +1G|xargs rm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>案例3：找出系统中小文件多的目录备份或删除</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-i</span> 查看inode使用信息
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#df -i</span>
Filesystem       Inodes IUsed    IFree IUse% Mounted on
devtmpfs         <span class="token number">250790</span>   <span class="token number">410</span>   <span class="token number">250380</span>    <span class="token number">1</span>% /dev
tmpfs            <span class="token number">253483</span>     <span class="token number">1</span>   <span class="token number">253482</span>    <span class="token number">1</span>% /dev/shm
tmpfs            <span class="token number">253483</span>   <span class="token number">738</span>   <span class="token number">252745</span>    <span class="token number">1</span>% /run
tmpfs            <span class="token number">253483</span>    <span class="token number">16</span>   <span class="token number">253467</span>    <span class="token number">1</span>% /sys/fs/cgroup
/dev/sda3       <span class="token number">9858560</span> <span class="token number">60425</span>  <span class="token number">9798135</span>    <span class="token number">1</span>% /
/dev/sda1        <span class="token number">102400</span>   <span class="token number">326</span>   <span class="token number">102074</span>    <span class="token number">1</span>% /boot
tmpfs            <span class="token number">253483</span>     <span class="token number">1</span>   <span class="token number">253482</span>    <span class="token number">1</span>% /run/user/0
/dev/sdb1         <span class="token number">51200</span>     <span class="token number">3</span>    <span class="token number">51197</span>    <span class="token number">1</span>% /mnt
/dev/sdc1      <span class="token number">48828096</span>     <span class="token number">3</span> <span class="token number">48828093</span>    <span class="token number">1</span>% /data
<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#find /-type d -size +70k</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>案例4：磁盘使用软连接解决磁盘不够用</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">1</span>、添加磁盘
<span class="token number">2</span>、格式化
<span class="token number">3</span>、挂载  <span class="token function">mount</span> /dev/sdc /data
<span class="token number">4</span>、将大文件移动到新磁盘（服务日志没有输出，选择业务的低谷期，禁止用户写入内容（DB）锁库锁表）

<span class="token punctuation">[</span>root@VMware-koten ~<span class="token punctuation">]</span><span class="token comment">#ln -s /data/10G /var/log/10g </span>
<span class="token comment">#将/data/10G做软链接到/var/log/10g</span>

磁盘不够用：
- 虚拟机可以通过增加磁盘解决
- 虚拟机可以做LVM逻辑卷管理动态调整磁盘大小，互联网公司不用
- 云服务器可以动态扩缩容磁盘大小
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>案例5：删除文件后，磁盘空间不释放</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>真正的删除一个文件硬链接和软连接数都为0，且不被进程占用

<span class="token number">1</span>、模拟文件被进程调用
<span class="token function">tail</span> /data/10G
<span class="token number">2</span>、删除文件后磁盘空间不释放
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> 10G
<span class="token function">df</span> <span class="token parameter variable">-h</span>
<span class="token number">3</span>、查看进程调用lsof
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">lsof</span>
<span class="token function">lsof</span> <span class="token operator">|</span><span class="token function">grep</span> 10G
<span class="token function">tail</span> <span class="token number">3407</span> root 3r REG <span class="token number">8,32</span> <span class="token number">10485760000</span> <span class="token number">67</span> /data/10G <span class="token punctuation">(</span>deleted<span class="token punctuation">)</span>
<span class="token number">4</span>、结束进程或者加载服务
<span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token number">3407</span>
<span class="token function">df</span> <span class="token parameter variable">-h</span> <span class="token comment">#查看磁盘是否被释放</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/26/2024, 9:15:52 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/12-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86.html#_1-磁盘管理上" class="sidebar-link reco-side-_1-磁盘管理上" data-v-b57cc07c>1，磁盘管理上</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/12-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86.html#_2-磁盘管理中" class="sidebar-link reco-side-_2-磁盘管理中" data-v-b57cc07c>2，磁盘管理中</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/12-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86.html#_3-磁盘管理下" class="sidebar-link reco-side-_3-磁盘管理下" data-v-b57cc07c>3，磁盘管理下</a></li><li class="level-3" data-v-b57cc07c><a href="/devops/public/blogs/devops/12-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86.html#_4-磁盘案例" class="sidebar-link reco-side-_4-磁盘案例" data-v-b57cc07c>4，磁盘案例</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/devops/public/assets/js/app.da46fb0d.js" defer></script><script src="/devops/public/assets/js/112.e9353a62.js" defer></script><script src="/devops/public/assets/js/1.774fca24.js" defer></script><script src="/devops/public/assets/js/143.4e5b68be.js" defer></script>
  </body>
</html>
